(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function zf(t,e){const n=Object.create(null),r=t.split(",");for(let s=0;s<r.length;s++)n[r[s]]=!0;return e?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const qe={},Ys=[],mn=()=>{},XE=()=>!1,QE=/^on[^a-z]/,Ml=t=>QE.test(t),Yf=t=>t.startsWith("onUpdate:"),ht=Object.assign,Xf=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},JE=Object.prototype.hasOwnProperty,Ne=(t,e)=>JE.call(t,e),ue=Array.isArray,Xs=t=>jo(t)==="[object Map]",Fl=t=>jo(t)==="[object Set]",fp=t=>jo(t)==="[object Date]",Te=t=>typeof t=="function",it=t=>typeof t=="string",ho=t=>typeof t=="symbol",Ve=t=>t!==null&&typeof t=="object",H_=t=>Ve(t)&&Te(t.then)&&Te(t.catch),q_=Object.prototype.toString,jo=t=>q_.call(t),ZE=t=>jo(t).slice(8,-1),W_=t=>jo(t)==="[object Object]",Qf=t=>it(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ba=zf(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ul=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},eT=/-(\w)/g,Fn=Ul(t=>t.replace(eT,(e,n)=>n?n.toUpperCase():"")),tT=/\B([A-Z])/g,bi=Ul(t=>t.replace(tT,"-$1").toLowerCase()),$l=Ul(t=>t.charAt(0).toUpperCase()+t.slice(1)),qu=Ul(t=>t?`on${$l(t)}`:""),po=(t,e)=>!Object.is(t,e),ja=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Za=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},G_=t=>{const e=parseFloat(t);return isNaN(e)?t:e},nT=t=>{const e=it(t)?Number(t):NaN;return isNaN(e)?t:e};let hp;const Oc=()=>hp||(hp=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function mo(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++){const r=t[n],s=it(r)?oT(r):mo(r);if(s)for(const i in s)e[i]=s[i]}return e}else{if(it(t))return t;if(Ve(t))return t}}const rT=/;(?![^(]*\))/g,sT=/:([^]+)/,iT=/\/\*[^]*?\*\//g;function oT(t){const e={};return t.replace(iT,"").split(rT).forEach(n=>{if(n){const r=n.split(sT);r.length>1&&(e[r[0].trim()]=r[1].trim())}}),e}function Qn(t){let e="";if(it(t))e=t;else if(ue(t))for(let n=0;n<t.length;n++){const r=Qn(t[n]);r&&(e+=r+" ")}else if(Ve(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const aT="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",lT=zf(aT);function K_(t){return!!t||t===""}function uT(t,e){if(t.length!==e.length)return!1;let n=!0;for(let r=0;n&&r<t.length;r++)n=Vl(t[r],e[r]);return n}function Vl(t,e){if(t===e)return!0;let n=fp(t),r=fp(e);if(n||r)return n&&r?t.getTime()===e.getTime():!1;if(n=ho(t),r=ho(e),n||r)return t===e;if(n=ue(t),r=ue(e),n||r)return n&&r?uT(t,e):!1;if(n=Ve(t),r=Ve(e),n||r){if(!n||!r)return!1;const s=Object.keys(t).length,i=Object.keys(e).length;if(s!==i)return!1;for(const o in t){const a=t.hasOwnProperty(o),u=e.hasOwnProperty(o);if(a&&!u||!a&&u||!Vl(t[o],e[o]))return!1}}return String(t)===String(e)}function cT(t,e){return t.findIndex(n=>Vl(n,e))}const Pe=t=>it(t)?t:t==null?"":ue(t)||Ve(t)&&(t.toString===q_||!Te(t.toString))?JSON.stringify(t,z_,2):String(t),z_=(t,e)=>e&&e.__v_isRef?z_(t,e.value):Xs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[r,s])=>(n[`${r} =>`]=s,n),{})}:Fl(e)?{[`Set(${e.size})`]:[...e.values()]}:Ve(e)&&!ue(e)&&!W_(e)?String(e):e;let en;class Y_{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=en,!e&&en&&(this.index=(en.scopes||(en.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=en;try{return en=this,e()}finally{en=n}}}on(){en=this}off(){en=this.parent}stop(e){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Jf(t){return new Y_(t)}function fT(t,e=en){e&&e.active&&e.effects.push(t)}function X_(){return en}function hT(t){en&&en.cleanups.push(t)}const Zf=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Q_=t=>(t.w&xr)>0,J_=t=>(t.n&xr)>0,dT=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=xr},pT=t=>{const{deps:e}=t;if(e.length){let n=0;for(let r=0;r<e.length;r++){const s=e[r];Q_(s)&&!J_(s)?s.delete(t):e[n++]=s,s.w&=~xr,s.n&=~xr}e.length=n}},el=new WeakMap;let Hi=0,xr=1;const Rc=30;let dn;const fs=Symbol(""),Nc=Symbol("");class eh{constructor(e,n=null,r){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,fT(this,r)}run(){if(!this.active)return this.fn();let e=dn,n=Or;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=dn,dn=this,Or=!0,xr=1<<++Hi,Hi<=Rc?dT(this):dp(this),this.fn()}finally{Hi<=Rc&&pT(this),xr=1<<--Hi,dn=this.parent,Or=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){dn===this?this.deferStop=!0:this.active&&(dp(this),this.onStop&&this.onStop(),this.active=!1)}}function dp(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Or=!0;const Z_=[];function wi(){Z_.push(Or),Or=!1}function Ei(){const t=Z_.pop();Or=t===void 0?!0:t}function Jt(t,e,n){if(Or&&dn){let r=el.get(t);r||el.set(t,r=new Map);let s=r.get(n);s||r.set(n,s=Zf()),ey(s)}}function ey(t,e){let n=!1;Hi<=Rc?J_(t)||(t.n|=xr,n=!Q_(t)):n=!t.has(dn),n&&(t.add(dn),dn.deps.push(t))}function er(t,e,n,r,s,i){const o=el.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(n==="length"&&ue(t)){const u=Number(r);o.forEach((c,h)=>{(h==="length"||h>=u)&&a.push(c)})}else switch(n!==void 0&&a.push(o.get(n)),e){case"add":ue(t)?Qf(n)&&a.push(o.get("length")):(a.push(o.get(fs)),Xs(t)&&a.push(o.get(Nc)));break;case"delete":ue(t)||(a.push(o.get(fs)),Xs(t)&&a.push(o.get(Nc)));break;case"set":Xs(t)&&a.push(o.get(fs));break}if(a.length===1)a[0]&&Pc(a[0]);else{const u=[];for(const c of a)c&&u.push(...c);Pc(Zf(u))}}function Pc(t,e){const n=ue(t)?t:[...t];for(const r of n)r.computed&&pp(r);for(const r of n)r.computed||pp(r)}function pp(t,e){(t!==dn||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}function mT(t,e){var n;return(n=el.get(t))==null?void 0:n.get(e)}const gT=zf("__proto__,__v_isRef,__isVue"),ty=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(ho)),_T=th(),yT=th(!1,!0),vT=th(!0),mp=bT();function bT(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const r=Re(this);for(let i=0,o=this.length;i<o;i++)Jt(r,"get",i+"");const s=r[e](...n);return s===-1||s===!1?r[e](...n.map(Re)):s}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){wi();const r=Re(this)[e].apply(this,n);return Ei(),r}}),t}function wT(t){const e=Re(this);return Jt(e,"has",t),e.hasOwnProperty(t)}function th(t=!1,e=!1){return function(r,s,i){if(s==="__v_isReactive")return!t;if(s==="__v_isReadonly")return t;if(s==="__v_isShallow")return e;if(s==="__v_raw"&&i===(t?e?FT:oy:e?iy:sy).get(r))return r;const o=ue(r);if(!t){if(o&&Ne(mp,s))return Reflect.get(mp,s,i);if(s==="hasOwnProperty")return wT}const a=Reflect.get(r,s,i);return(ho(s)?ty.has(s):gT(s))||(t||Jt(r,"get",s),e)?a:$e(a)?o&&Qf(s)?a:a.value:Ve(a)?t?ay(a):Un(a):a}}const ET=ny(),TT=ny(!0);function ny(t=!1){return function(n,r,s,i){let o=n[r];if(ii(o)&&$e(o)&&!$e(s))return!1;if(!t&&(!tl(s)&&!ii(s)&&(o=Re(o),s=Re(s)),!ue(n)&&$e(o)&&!$e(s)))return o.value=s,!0;const a=ue(n)&&Qf(r)?Number(r)<n.length:Ne(n,r),u=Reflect.set(n,r,s,i);return n===Re(i)&&(a?po(s,o)&&er(n,"set",r,s):er(n,"add",r,s)),u}}function IT(t,e){const n=Ne(t,e);t[e];const r=Reflect.deleteProperty(t,e);return r&&n&&er(t,"delete",e,void 0),r}function AT(t,e){const n=Reflect.has(t,e);return(!ho(e)||!ty.has(e))&&Jt(t,"has",e),n}function ST(t){return Jt(t,"iterate",ue(t)?"length":fs),Reflect.ownKeys(t)}const ry={get:_T,set:ET,deleteProperty:IT,has:AT,ownKeys:ST},CT={get:vT,set(t,e){return!0},deleteProperty(t,e){return!0}},kT=ht({},ry,{get:yT,set:TT}),nh=t=>t,Bl=t=>Reflect.getPrototypeOf(t);function ba(t,e,n=!1,r=!1){t=t.__v_raw;const s=Re(t),i=Re(e);n||(e!==i&&Jt(s,"get",e),Jt(s,"get",i));const{has:o}=Bl(s),a=r?nh:n?ih:go;if(o.call(s,e))return a(t.get(e));if(o.call(s,i))return a(t.get(i));t!==s&&t.get(e)}function wa(t,e=!1){const n=this.__v_raw,r=Re(n),s=Re(t);return e||(t!==s&&Jt(r,"has",t),Jt(r,"has",s)),t===s?n.has(t):n.has(t)||n.has(s)}function Ea(t,e=!1){return t=t.__v_raw,!e&&Jt(Re(t),"iterate",fs),Reflect.get(t,"size",t)}function gp(t){t=Re(t);const e=Re(this);return Bl(e).has.call(e,t)||(e.add(t),er(e,"add",t,t)),this}function _p(t,e){e=Re(e);const n=Re(this),{has:r,get:s}=Bl(n);let i=r.call(n,t);i||(t=Re(t),i=r.call(n,t));const o=s.call(n,t);return n.set(t,e),i?po(e,o)&&er(n,"set",t,e):er(n,"add",t,e),this}function yp(t){const e=Re(this),{has:n,get:r}=Bl(e);let s=n.call(e,t);s||(t=Re(t),s=n.call(e,t)),r&&r.call(e,t);const i=e.delete(t);return s&&er(e,"delete",t,void 0),i}function vp(){const t=Re(this),e=t.size!==0,n=t.clear();return e&&er(t,"clear",void 0,void 0),n}function Ta(t,e){return function(r,s){const i=this,o=i.__v_raw,a=Re(o),u=e?nh:t?ih:go;return!t&&Jt(a,"iterate",fs),o.forEach((c,h)=>r.call(s,u(c),u(h),i))}}function Ia(t,e,n){return function(...r){const s=this.__v_raw,i=Re(s),o=Xs(i),a=t==="entries"||t===Symbol.iterator&&o,u=t==="keys"&&o,c=s[t](...r),h=n?nh:e?ih:go;return!e&&Jt(i,"iterate",u?Nc:fs),{next(){const{value:l,done:f}=c.next();return f?{value:l,done:f}:{value:a?[h(l[0]),h(l[1])]:h(l),done:f}},[Symbol.iterator](){return this}}}}function cr(t){return function(...e){return t==="delete"?!1:this}}function OT(){const t={get(i){return ba(this,i)},get size(){return Ea(this)},has:wa,add:gp,set:_p,delete:yp,clear:vp,forEach:Ta(!1,!1)},e={get(i){return ba(this,i,!1,!0)},get size(){return Ea(this)},has:wa,add:gp,set:_p,delete:yp,clear:vp,forEach:Ta(!1,!0)},n={get(i){return ba(this,i,!0)},get size(){return Ea(this,!0)},has(i){return wa.call(this,i,!0)},add:cr("add"),set:cr("set"),delete:cr("delete"),clear:cr("clear"),forEach:Ta(!0,!1)},r={get(i){return ba(this,i,!0,!0)},get size(){return Ea(this,!0)},has(i){return wa.call(this,i,!0)},add:cr("add"),set:cr("set"),delete:cr("delete"),clear:cr("clear"),forEach:Ta(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=Ia(i,!1,!1),n[i]=Ia(i,!0,!1),e[i]=Ia(i,!1,!0),r[i]=Ia(i,!0,!0)}),[t,n,e,r]}const[RT,NT,PT,LT]=OT();function rh(t,e){const n=e?t?LT:PT:t?NT:RT;return(r,s,i)=>s==="__v_isReactive"?!t:s==="__v_isReadonly"?t:s==="__v_raw"?r:Reflect.get(Ne(n,s)&&s in r?n:r,s,i)}const DT={get:rh(!1,!1)},xT={get:rh(!1,!0)},MT={get:rh(!0,!1)},sy=new WeakMap,iy=new WeakMap,oy=new WeakMap,FT=new WeakMap;function UT(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $T(t){return t.__v_skip||!Object.isExtensible(t)?0:UT(ZE(t))}function Un(t){return ii(t)?t:sh(t,!1,ry,DT,sy)}function VT(t){return sh(t,!1,kT,xT,iy)}function ay(t){return sh(t,!0,CT,MT,oy)}function sh(t,e,n,r,s){if(!Ve(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=s.get(t);if(i)return i;const o=$T(t);if(o===0)return t;const a=new Proxy(t,o===2?r:n);return s.set(t,a),a}function Rr(t){return ii(t)?Rr(t.__v_raw):!!(t&&t.__v_isReactive)}function ii(t){return!!(t&&t.__v_isReadonly)}function tl(t){return!!(t&&t.__v_isShallow)}function ly(t){return Rr(t)||ii(t)}function Re(t){const e=t&&t.__v_raw;return e?Re(e):t}function jl(t){return Za(t,"__v_skip",!0),t}const go=t=>Ve(t)?Un(t):t,ih=t=>Ve(t)?ay(t):t;function uy(t){Or&&dn&&(t=Re(t),ey(t.dep||(t.dep=Zf())))}function cy(t,e){t=Re(t);const n=t.dep;n&&Pc(n)}function $e(t){return!!(t&&t.__v_isRef===!0)}function Qe(t){return fy(t,!1)}function oh(t){return fy(t,!0)}function fy(t,e){return $e(t)?t:new BT(t,e)}class BT{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:Re(e),this._value=n?e:go(e)}get value(){return uy(this),this._value}set value(e){const n=this.__v_isShallow||tl(e)||ii(e);e=n?e:Re(e),po(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:go(e),cy(this))}}function ge(t){return $e(t)?t.value:t}const jT={get:(t,e,n)=>ge(Reflect.get(t,e,n)),set:(t,e,n,r)=>{const s=t[e];return $e(s)&&!$e(n)?(s.value=n,!0):Reflect.set(t,e,n,r)}};function hy(t){return Rr(t)?t:new Proxy(t,jT)}function HT(t){const e=ue(t)?new Array(t.length):{};for(const n in t)e[n]=dy(t,n);return e}class qT{constructor(e,n,r){this._object=e,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return mT(Re(this._object),this._key)}}class WT{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function br(t,e,n){return $e(t)?t:Te(t)?new WT(t):Ve(t)&&arguments.length>1?dy(t,e,n):Qe(t)}function dy(t,e,n){const r=t[e];return $e(r)?r:new qT(t,e,n)}class GT{constructor(e,n,r,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new eh(e,()=>{this._dirty||(this._dirty=!0,cy(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=r}get value(){const e=Re(this);return uy(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function KT(t,e,n=!1){let r,s;const i=Te(t);return i?(r=t,s=mn):(r=t.get,s=t.set),new GT(r,s,i||!s,n)}function Nr(t,e,n,r){let s;try{s=r?t(...r):t()}catch(i){Hl(i,e,n)}return s}function cn(t,e,n,r){if(Te(t)){const i=Nr(t,e,n,r);return i&&H_(i)&&i.catch(o=>{Hl(o,e,n)}),i}const s=[];for(let i=0;i<t.length;i++)s.push(cn(t[i],e,n,r));return s}function Hl(t,e,n,r=!0){const s=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=n;for(;i;){const c=i.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](t,o,a)===!1)return}i=i.parent}const u=e.appContext.config.errorHandler;if(u){Nr(u,null,10,[t,o,a]);return}}zT(t,n,s,r)}function zT(t,e,n,r=!0){console.error(t)}let _o=!1,Lc=!1;const Ot=[];let Cn=0;const Qs=[];let Wn=null,ts=0;const py=Promise.resolve();let ah=null;function is(t){const e=ah||py;return t?e.then(this?t.bind(this):t):e}function YT(t){let e=Cn+1,n=Ot.length;for(;e<n;){const r=e+n>>>1;yo(Ot[r])<t?e=r+1:n=r}return e}function lh(t){(!Ot.length||!Ot.includes(t,_o&&t.allowRecurse?Cn+1:Cn))&&(t.id==null?Ot.push(t):Ot.splice(YT(t.id),0,t),my())}function my(){!_o&&!Lc&&(Lc=!0,ah=py.then(_y))}function XT(t){const e=Ot.indexOf(t);e>Cn&&Ot.splice(e,1)}function QT(t){ue(t)?Qs.push(...t):(!Wn||!Wn.includes(t,t.allowRecurse?ts+1:ts))&&Qs.push(t),my()}function bp(t,e=_o?Cn+1:0){for(;e<Ot.length;e++){const n=Ot[e];n&&n.pre&&(Ot.splice(e,1),e--,n())}}function gy(t){if(Qs.length){const e=[...new Set(Qs)];if(Qs.length=0,Wn){Wn.push(...e);return}for(Wn=e,Wn.sort((n,r)=>yo(n)-yo(r)),ts=0;ts<Wn.length;ts++)Wn[ts]();Wn=null,ts=0}}const yo=t=>t.id==null?1/0:t.id,JT=(t,e)=>{const n=yo(t)-yo(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function _y(t){Lc=!1,_o=!0,Ot.sort(JT);const e=mn;try{for(Cn=0;Cn<Ot.length;Cn++){const n=Ot[Cn];n&&n.active!==!1&&Nr(n,null,14)}}finally{Cn=0,Ot.length=0,gy(),_o=!1,ah=null,(Ot.length||Qs.length)&&_y()}}function ZT(t,e,...n){if(t.isUnmounted)return;const r=t.vnode.props||qe;let s=n;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in r){const h=`${o==="modelValue"?"model":o}Modifiers`,{number:l,trim:f}=r[h]||qe;f&&(s=n.map(d=>it(d)?d.trim():d)),l&&(s=n.map(G_))}let a,u=r[a=qu(e)]||r[a=qu(Fn(e))];!u&&i&&(u=r[a=qu(bi(e))]),u&&cn(u,t,6,s);const c=r[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,cn(c,t,6,s)}}function yy(t,e,n=!1){const r=e.emitsCache,s=r.get(t);if(s!==void 0)return s;const i=t.emits;let o={},a=!1;if(!Te(t)){const u=c=>{const h=yy(c,e,!0);h&&(a=!0,ht(o,h))};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}return!i&&!a?(Ve(t)&&r.set(t,null),null):(ue(i)?i.forEach(u=>o[u]=null):ht(o,i),Ve(t)&&r.set(t,o),o)}function ql(t,e){return!t||!Ml(e)?!1:(e=e.slice(2).replace(/Once$/,""),Ne(t,e[0].toLowerCase()+e.slice(1))||Ne(t,bi(e))||Ne(t,e))}let Xt=null,vy=null;function nl(t){const e=Xt;return Xt=t,vy=t&&t.type.__scopeId||null,e}function tn(t,e=Xt,n){if(!e||t._n)return t;const r=(...s)=>{r._d&&Pp(-1);const i=nl(e);let o;try{o=t(...s)}finally{nl(i),r._d&&Pp(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function Wu(t){const{type:e,vnode:n,proxy:r,withProxy:s,props:i,propsOptions:[o],slots:a,attrs:u,emit:c,render:h,renderCache:l,data:f,setupState:d,ctx:p,inheritAttrs:y}=t;let v,m;const w=nl(t);try{if(n.shapeFlag&4){const E=s||r;v=An(h.call(E,E,l,i,d,f,p)),m=u}else{const E=e;v=An(E.length>1?E(i,{attrs:u,slots:a,emit:c}):E(i,null)),m=e.props?u:eI(u)}}catch(E){Zi.length=0,Hl(E,t,1),v=Ee(gn)}let S=v;if(m&&y!==!1){const E=Object.keys(m),{shapeFlag:R}=S;E.length&&R&7&&(o&&E.some(Yf)&&(m=tI(m,o)),S=Mr(S,m))}return n.dirs&&(S=Mr(S),S.dirs=S.dirs?S.dirs.concat(n.dirs):n.dirs),n.transition&&(S.transition=n.transition),v=S,nl(w),v}const eI=t=>{let e;for(const n in t)(n==="class"||n==="style"||Ml(n))&&((e||(e={}))[n]=t[n]);return e},tI=(t,e)=>{const n={};for(const r in t)(!Yf(r)||!(r.slice(9)in e))&&(n[r]=t[r]);return n};function nI(t,e,n){const{props:r,children:s,component:i}=t,{props:o,children:a,patchFlag:u}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&u>=0){if(u&1024)return!0;if(u&16)return r?wp(r,o,c):!!o;if(u&8){const h=e.dynamicProps;for(let l=0;l<h.length;l++){const f=h[l];if(o[f]!==r[f]&&!ql(c,f))return!0}}}else return(s||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?wp(r,o,c):!0:!!o;return!1}function wp(t,e,n){const r=Object.keys(e);if(r.length!==Object.keys(t).length)return!0;for(let s=0;s<r.length;s++){const i=r[s];if(e[i]!==t[i]&&!ql(n,i))return!0}return!1}function rI({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const sI=t=>t.__isSuspense;function iI(t,e){e&&e.pendingBranch?ue(t)?e.effects.push(...t):e.effects.push(t):QT(t)}function oI(t,e){return uh(t,null,e)}const Aa={};function Pt(t,e,n){return uh(t,e,n)}function uh(t,e,{immediate:n,deep:r,flush:s,onTrack:i,onTrigger:o}=qe){var a;const u=X_()===((a=dt)==null?void 0:a.scope)?dt:null;let c,h=!1,l=!1;if($e(t)?(c=()=>t.value,h=tl(t)):Rr(t)?(c=()=>t,r=!0):ue(t)?(l=!0,h=t.some(E=>Rr(E)||tl(E)),c=()=>t.map(E=>{if($e(E))return E.value;if(Rr(E))return os(E);if(Te(E))return Nr(E,u,2)})):Te(t)?e?c=()=>Nr(t,u,2):c=()=>{if(!(u&&u.isUnmounted))return f&&f(),cn(t,u,3,[d])}:c=mn,e&&r){const E=c;c=()=>os(E())}let f,d=E=>{f=w.onStop=()=>{Nr(E,u,4)}},p;if(wo)if(d=mn,e?n&&cn(e,u,3,[c(),l?[]:void 0,d]):c(),s==="sync"){const E=JI();p=E.__watcherHandles||(E.__watcherHandles=[])}else return mn;let y=l?new Array(t.length).fill(Aa):Aa;const v=()=>{if(w.active)if(e){const E=w.run();(r||h||(l?E.some((R,O)=>po(R,y[O])):po(E,y)))&&(f&&f(),cn(e,u,3,[E,y===Aa?void 0:l&&y[0]===Aa?[]:y,d]),y=E)}else w.run()};v.allowRecurse=!!e;let m;s==="sync"?m=v:s==="post"?m=()=>Gt(v,u&&u.suspense):(v.pre=!0,u&&(v.id=u.uid),m=()=>lh(v));const w=new eh(c,m);e?n?v():y=w.run():s==="post"?Gt(w.run.bind(w),u&&u.suspense):w.run();const S=()=>{w.stop(),u&&u.scope&&Xf(u.scope.effects,w)};return p&&p.push(S),S}function aI(t,e,n){const r=this.proxy,s=it(t)?t.includes(".")?by(r,t):()=>r[t]:t.bind(r,r);let i;Te(e)?i=e:(i=e.handler,n=e);const o=dt;oi(this);const a=uh(s,i.bind(r),n);return o?oi(o):hs(),a}function by(t,e){const n=e.split(".");return()=>{let r=t;for(let s=0;s<n.length&&r;s++)r=r[n[s]];return r}}function os(t,e){if(!Ve(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),$e(t))os(t.value,e);else if(ue(t))for(let n=0;n<t.length;n++)os(t[n],e);else if(Fl(t)||Xs(t))t.forEach(n=>{os(n,e)});else if(W_(t))for(const n in t)os(t[n],e);return t}function RB(t,e){const n=Xt;if(n===null)return t;const r=Yl(n)||n.proxy,s=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[o,a,u,c=qe]=e[i];o&&(Te(o)&&(o={mounted:o,updated:o}),o.deep&&os(a),s.push({dir:o,instance:r,value:a,oldValue:void 0,arg:u,modifiers:c}))}return t}function Yr(t,e,n,r){const s=t.dirs,i=e&&e.dirs;for(let o=0;o<s.length;o++){const a=s[o];i&&(a.oldValue=i[o].value);let u=a.dir[r];u&&(wi(),cn(u,n,8,[t.el,a,t,e]),Ei())}}function lI(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ho(()=>{t.isMounted=!0}),ch(()=>{t.isUnmounting=!0}),t}const an=[Function,Array],wy={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:an,onEnter:an,onAfterEnter:an,onEnterCancelled:an,onBeforeLeave:an,onLeave:an,onAfterLeave:an,onLeaveCancelled:an,onBeforeAppear:an,onAppear:an,onAfterAppear:an,onAppearCancelled:an},uI={name:"BaseTransition",props:wy,setup(t,{slots:e}){const n=tr(),r=lI();let s;return()=>{const i=e.default&&Ty(e.default(),!0);if(!i||!i.length)return;let o=i[0];if(i.length>1){for(const y of i)if(y.type!==gn){o=y;break}}const a=Re(t),{mode:u}=a;if(r.isLeaving)return Gu(o);const c=Ep(o);if(!c)return Gu(o);const h=Dc(c,a,r,n);xc(c,h);const l=n.subTree,f=l&&Ep(l);let d=!1;const{getTransitionKey:p}=c.type;if(p){const y=p();s===void 0?s=y:y!==s&&(s=y,d=!0)}if(f&&f.type!==gn&&(!ns(c,f)||d)){const y=Dc(f,a,r,n);if(xc(f,y),u==="out-in")return r.isLeaving=!0,y.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Gu(o);u==="in-out"&&c.type!==gn&&(y.delayLeave=(v,m,w)=>{const S=Ey(r,f);S[String(f.key)]=f,v._leaveCb=()=>{m(),v._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=w})}return o}}},cI=uI;function Ey(t,e){const{leavingVNodes:n}=t;let r=n.get(e.type);return r||(r=Object.create(null),n.set(e.type,r)),r}function Dc(t,e,n,r){const{appear:s,mode:i,persisted:o=!1,onBeforeEnter:a,onEnter:u,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:l,onLeave:f,onAfterLeave:d,onLeaveCancelled:p,onBeforeAppear:y,onAppear:v,onAfterAppear:m,onAppearCancelled:w}=e,S=String(t.key),E=Ey(n,t),R=(L,D)=>{L&&cn(L,r,9,D)},O=(L,D)=>{const Q=D[1];R(L,D),ue(L)?L.every(ae=>ae.length<=1)&&Q():L.length<=1&&Q()},x={mode:i,persisted:o,beforeEnter(L){let D=a;if(!n.isMounted)if(s)D=y||a;else return;L._leaveCb&&L._leaveCb(!0);const Q=E[S];Q&&ns(t,Q)&&Q.el._leaveCb&&Q.el._leaveCb(),R(D,[L])},enter(L){let D=u,Q=c,ae=h;if(!n.isMounted)if(s)D=v||u,Q=m||c,ae=w||h;else return;let W=!1;const re=L._enterCb=ce=>{W||(W=!0,ce?R(ae,[L]):R(Q,[L]),x.delayedLeave&&x.delayedLeave(),L._enterCb=void 0)};D?O(D,[L,re]):re()},leave(L,D){const Q=String(t.key);if(L._enterCb&&L._enterCb(!0),n.isUnmounting)return D();R(l,[L]);let ae=!1;const W=L._leaveCb=re=>{ae||(ae=!0,D(),re?R(p,[L]):R(d,[L]),L._leaveCb=void 0,E[Q]===t&&delete E[Q])};E[Q]=t,f?O(f,[L,W]):W()},clone(L){return Dc(L,e,n,r)}};return x}function Gu(t){if(Wl(t))return t=Mr(t),t.children=null,t}function Ep(t){return Wl(t)?t.children?t.children[0]:void 0:t}function xc(t,e){t.shapeFlag&6&&t.component?xc(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ty(t,e=!1,n){let r=[],s=0;for(let i=0;i<t.length;i++){let o=t[i];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:i);o.type===yt?(o.patchFlag&128&&s++,r=r.concat(Ty(o.children,e,a))):(e||o.type!==gn)&&r.push(a!=null?Mr(o,{key:a}):o)}if(s>1)for(let i=0;i<r.length;i++)r[i].patchFlag=-2;return r}function jr(t,e){return Te(t)?(()=>ht({name:t.name},e,{setup:t}))():t}const Ha=t=>!!t.type.__asyncLoader,Wl=t=>t.type.__isKeepAlive;function fI(t,e){Iy(t,"a",e)}function hI(t,e){Iy(t,"da",e)}function Iy(t,e,n=dt){const r=t.__wdc||(t.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return t()});if(Gl(e,r,n),n){let s=n.parent;for(;s&&s.parent;)Wl(s.parent.vnode)&&dI(r,e,n,s),s=s.parent}}function dI(t,e,n,r){const s=Gl(e,t,r,!0);fh(()=>{Xf(r[e],s)},n)}function Gl(t,e,n=dt,r=!1){if(n){const s=n[t]||(n[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;wi(),oi(n);const a=cn(e,n,t,o);return hs(),Ei(),a});return r?s.unshift(i):s.push(i),i}}const lr=t=>(e,n=dt)=>(!wo||t==="sp")&&Gl(t,(...r)=>e(...r),n),Ay=lr("bm"),Ho=lr("m"),pI=lr("bu"),mI=lr("u"),ch=lr("bum"),fh=lr("um"),gI=lr("sp"),_I=lr("rtg"),yI=lr("rtc");function vI(t,e=dt){Gl("ec",t,e)}const hh="components",bI="directives";function Qt(t,e){return dh(hh,t,!0,e)||t}const Sy=Symbol.for("v-ndc");function Kl(t){return it(t)?dh(hh,t,!1)||t:t||Sy}function NB(t){return dh(bI,t)}function dh(t,e,n=!0,r=!1){const s=Xt||dt;if(s){const i=s.type;if(t===hh){const a=YI(i,!1);if(a&&(a===e||a===Fn(e)||a===$l(Fn(e))))return i}const o=Tp(s[t]||i[t],e)||Tp(s.appContext[t],e);return!o&&r?i:o}}function Tp(t,e){return t&&(t[e]||t[Fn(e)]||t[$l(Fn(e))])}function Cy(t,e,n,r){let s;const i=n&&n[r];if(ue(t)||it(t)){s=new Array(t.length);for(let o=0,a=t.length;o<a;o++)s[o]=e(t[o],o,void 0,i&&i[o])}else if(typeof t=="number"){s=new Array(t);for(let o=0;o<t;o++)s[o]=e(o+1,o,void 0,i&&i[o])}else if(Ve(t))if(t[Symbol.iterator])s=Array.from(t,(o,a)=>e(o,a,void 0,i&&i[a]));else{const o=Object.keys(t);s=new Array(o.length);for(let a=0,u=o.length;a<u;a++){const c=o[a];s[a]=e(t[c],c,a,i&&i[a])}}else s=[];return n&&(n[r]=s),s}const Mc=t=>t?Uy(t)?Yl(t)||t.proxy:Mc(t.parent):null,Ji=ht(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Mc(t.parent),$root:t=>Mc(t.root),$emit:t=>t.emit,$options:t=>ph(t),$forceUpdate:t=>t.f||(t.f=()=>lh(t.update)),$nextTick:t=>t.n||(t.n=is.bind(t.proxy)),$watch:t=>aI.bind(t)}),Ku=(t,e)=>t!==qe&&!t.__isScriptSetup&&Ne(t,e),wI={get({_:t},e){const{ctx:n,setupState:r,data:s,props:i,accessCache:o,type:a,appContext:u}=t;let c;if(e[0]!=="$"){const d=o[e];if(d!==void 0)switch(d){case 1:return r[e];case 2:return s[e];case 4:return n[e];case 3:return i[e]}else{if(Ku(r,e))return o[e]=1,r[e];if(s!==qe&&Ne(s,e))return o[e]=2,s[e];if((c=t.propsOptions[0])&&Ne(c,e))return o[e]=3,i[e];if(n!==qe&&Ne(n,e))return o[e]=4,n[e];Fc&&(o[e]=0)}}const h=Ji[e];let l,f;if(h)return e==="$attrs"&&Jt(t,"get",e),h(t);if((l=a.__cssModules)&&(l=l[e]))return l;if(n!==qe&&Ne(n,e))return o[e]=4,n[e];if(f=u.config.globalProperties,Ne(f,e))return f[e]},set({_:t},e,n){const{data:r,setupState:s,ctx:i}=t;return Ku(s,e)?(s[e]=n,!0):r!==qe&&Ne(r,e)?(r[e]=n,!0):Ne(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:r,appContext:s,propsOptions:i}},o){let a;return!!n[o]||t!==qe&&Ne(t,o)||Ku(e,o)||(a=i[0])&&Ne(a,o)||Ne(r,o)||Ne(Ji,o)||Ne(s.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:Ne(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Ip(t){return ue(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Fc=!0;function EI(t){const e=ph(t),n=t.proxy,r=t.ctx;Fc=!1,e.beforeCreate&&Ap(e.beforeCreate,t,"bc");const{data:s,computed:i,methods:o,watch:a,provide:u,inject:c,created:h,beforeMount:l,mounted:f,beforeUpdate:d,updated:p,activated:y,deactivated:v,beforeDestroy:m,beforeUnmount:w,destroyed:S,unmounted:E,render:R,renderTracked:O,renderTriggered:x,errorCaptured:L,serverPrefetch:D,expose:Q,inheritAttrs:ae,components:W,directives:re,filters:ce}=e;if(c&&TI(c,r,null),o)for(const fe in o){const le=o[fe];Te(le)&&(r[fe]=le.bind(n))}if(s){const fe=s.call(n,n);Ve(fe)&&(t.data=Un(fe))}if(Fc=!0,i)for(const fe in i){const le=i[fe],Be=Te(le)?le.bind(n,n):Te(le.get)?le.get.bind(n,n):mn,st=!Te(le)&&Te(le.set)?le.set.bind(n):mn,nt=de({get:Be,set:st});Object.defineProperty(r,fe,{enumerable:!0,configurable:!0,get:()=>nt.value,set:Ye=>nt.value=Ye})}if(a)for(const fe in a)ky(a[fe],r,n,fe);if(u){const fe=Te(u)?u.call(n):u;Reflect.ownKeys(fe).forEach(le=>{Js(le,fe[le])})}h&&Ap(h,t,"c");function te(fe,le){ue(le)?le.forEach(Be=>fe(Be.bind(n))):le&&fe(le.bind(n))}if(te(Ay,l),te(Ho,f),te(pI,d),te(mI,p),te(fI,y),te(hI,v),te(vI,L),te(yI,O),te(_I,x),te(ch,w),te(fh,E),te(gI,D),ue(Q))if(Q.length){const fe=t.exposed||(t.exposed={});Q.forEach(le=>{Object.defineProperty(fe,le,{get:()=>n[le],set:Be=>n[le]=Be})})}else t.exposed||(t.exposed={});R&&t.render===mn&&(t.render=R),ae!=null&&(t.inheritAttrs=ae),W&&(t.components=W),re&&(t.directives=re)}function TI(t,e,n=mn){ue(t)&&(t=Uc(t));for(const r in t){const s=t[r];let i;Ve(s)?"default"in s?i=sn(s.from||r,s.default,!0):i=sn(s.from||r):i=sn(s),$e(i)?Object.defineProperty(e,r,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[r]=i}}function Ap(t,e,n){cn(ue(t)?t.map(r=>r.bind(e.proxy)):t.bind(e.proxy),e,n)}function ky(t,e,n,r){const s=r.includes(".")?by(n,r):()=>n[r];if(it(t)){const i=e[t];Te(i)&&Pt(s,i)}else if(Te(t))Pt(s,t.bind(n));else if(Ve(t))if(ue(t))t.forEach(i=>ky(i,e,n,r));else{const i=Te(t.handler)?t.handler.bind(n):e[t.handler];Te(i)&&Pt(s,i,t)}}function ph(t){const e=t.type,{mixins:n,extends:r}=e,{mixins:s,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let u;return a?u=a:!s.length&&!n&&!r?u=e:(u={},s.length&&s.forEach(c=>rl(u,c,o,!0)),rl(u,e,o)),Ve(e)&&i.set(e,u),u}function rl(t,e,n,r=!1){const{mixins:s,extends:i}=e;i&&rl(t,i,n,!0),s&&s.forEach(o=>rl(t,o,n,!0));for(const o in e)if(!(r&&o==="expose")){const a=II[o]||n&&n[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const II={data:Sp,props:Cp,emits:Cp,methods:qi,computed:qi,beforeCreate:$t,created:$t,beforeMount:$t,mounted:$t,beforeUpdate:$t,updated:$t,beforeDestroy:$t,beforeUnmount:$t,destroyed:$t,unmounted:$t,activated:$t,deactivated:$t,errorCaptured:$t,serverPrefetch:$t,components:qi,directives:qi,watch:SI,provide:Sp,inject:AI};function Sp(t,e){return e?t?function(){return ht(Te(t)?t.call(this,this):t,Te(e)?e.call(this,this):e)}:e:t}function AI(t,e){return qi(Uc(t),Uc(e))}function Uc(t){if(ue(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function $t(t,e){return t?[...new Set([].concat(t,e))]:e}function qi(t,e){return t?ht(Object.create(null),t,e):e}function Cp(t,e){return t?ue(t)&&ue(e)?[...new Set([...t,...e])]:ht(Object.create(null),Ip(t),Ip(e??{})):e}function SI(t,e){if(!t)return e;if(!e)return t;const n=ht(Object.create(null),t);for(const r in e)n[r]=$t(t[r],e[r]);return n}function Oy(){return{app:null,config:{isNativeTag:XE,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let CI=0;function kI(t,e){return function(r,s=null){Te(r)||(r=ht({},r)),s!=null&&!Ve(s)&&(s=null);const i=Oy(),o=new Set;let a=!1;const u=i.app={_uid:CI++,_component:r,_props:s,_container:null,_context:i,_instance:null,version:ZI,get config(){return i.config},set config(c){},use(c,...h){return o.has(c)||(c&&Te(c.install)?(o.add(c),c.install(u,...h)):Te(c)&&(o.add(c),c(u,...h))),u},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),u},component(c,h){return h?(i.components[c]=h,u):i.components[c]},directive(c,h){return h?(i.directives[c]=h,u):i.directives[c]},mount(c,h,l){if(!a){const f=Ee(r,s);return f.appContext=i,h&&e?e(f,c):t(f,c,l),a=!0,u._container=c,c.__vue_app__=u,Yl(f.component)||f.component.proxy}},unmount(){a&&(t(null,u._container),delete u._container.__vue_app__)},provide(c,h){return i.provides[c]=h,u},runWithContext(c){vo=u;try{return c()}finally{vo=null}}};return u}}let vo=null;function Js(t,e){if(dt){let n=dt.provides;const r=dt.parent&&dt.parent.provides;r===n&&(n=dt.provides=Object.create(r)),n[t]=e}}function sn(t,e,n=!1){const r=dt||Xt;if(r||vo){const s=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:vo._context.provides;if(s&&t in s)return s[t];if(arguments.length>1)return n&&Te(e)?e.call(r&&r.proxy):e}}function OI(){return!!(dt||Xt||vo)}function RI(t,e,n,r=!1){const s={},i={};Za(i,zl,1),t.propsDefaults=Object.create(null),Ry(t,e,s,i);for(const o in t.propsOptions[0])o in s||(s[o]=void 0);n?t.props=r?s:VT(s):t.type.props?t.props=s:t.props=i,t.attrs=i}function NI(t,e,n,r){const{props:s,attrs:i,vnode:{patchFlag:o}}=t,a=Re(s),[u]=t.propsOptions;let c=!1;if((r||o>0)&&!(o&16)){if(o&8){const h=t.vnode.dynamicProps;for(let l=0;l<h.length;l++){let f=h[l];if(ql(t.emitsOptions,f))continue;const d=e[f];if(u)if(Ne(i,f))d!==i[f]&&(i[f]=d,c=!0);else{const p=Fn(f);s[p]=$c(u,a,p,d,t,!1)}else d!==i[f]&&(i[f]=d,c=!0)}}}else{Ry(t,e,s,i)&&(c=!0);let h;for(const l in a)(!e||!Ne(e,l)&&((h=bi(l))===l||!Ne(e,h)))&&(u?n&&(n[l]!==void 0||n[h]!==void 0)&&(s[l]=$c(u,a,l,void 0,t,!0)):delete s[l]);if(i!==a)for(const l in i)(!e||!Ne(e,l))&&(delete i[l],c=!0)}c&&er(t,"set","$attrs")}function Ry(t,e,n,r){const[s,i]=t.propsOptions;let o=!1,a;if(e)for(let u in e){if(Ba(u))continue;const c=e[u];let h;s&&Ne(s,h=Fn(u))?!i||!i.includes(h)?n[h]=c:(a||(a={}))[h]=c:ql(t.emitsOptions,u)||(!(u in r)||c!==r[u])&&(r[u]=c,o=!0)}if(i){const u=Re(n),c=a||qe;for(let h=0;h<i.length;h++){const l=i[h];n[l]=$c(s,u,l,c[l],t,!Ne(c,l))}}return o}function $c(t,e,n,r,s,i){const o=t[n];if(o!=null){const a=Ne(o,"default");if(a&&r===void 0){const u=o.default;if(o.type!==Function&&!o.skipFactory&&Te(u)){const{propsDefaults:c}=s;n in c?r=c[n]:(oi(s),r=c[n]=u.call(null,e),hs())}else r=u}o[0]&&(i&&!a?r=!1:o[1]&&(r===""||r===bi(n))&&(r=!0))}return r}function Ny(t,e,n=!1){const r=e.propsCache,s=r.get(t);if(s)return s;const i=t.props,o={},a=[];let u=!1;if(!Te(t)){const h=l=>{u=!0;const[f,d]=Ny(l,e,!0);ht(o,f),d&&a.push(...d)};!n&&e.mixins.length&&e.mixins.forEach(h),t.extends&&h(t.extends),t.mixins&&t.mixins.forEach(h)}if(!i&&!u)return Ve(t)&&r.set(t,Ys),Ys;if(ue(i))for(let h=0;h<i.length;h++){const l=Fn(i[h]);kp(l)&&(o[l]=qe)}else if(i)for(const h in i){const l=Fn(h);if(kp(l)){const f=i[h],d=o[l]=ue(f)||Te(f)?{type:f}:ht({},f);if(d){const p=Np(Boolean,d.type),y=Np(String,d.type);d[0]=p>-1,d[1]=y<0||p<y,(p>-1||Ne(d,"default"))&&a.push(l)}}}const c=[o,a];return Ve(t)&&r.set(t,c),c}function kp(t){return t[0]!=="$"}function Op(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Rp(t,e){return Op(t)===Op(e)}function Np(t,e){return ue(e)?e.findIndex(n=>Rp(n,t)):Te(e)&&Rp(e,t)?0:-1}const Py=t=>t[0]==="_"||t==="$stable",mh=t=>ue(t)?t.map(An):[An(t)],PI=(t,e,n)=>{if(e._n)return e;const r=tn((...s)=>mh(e(...s)),n);return r._c=!1,r},Ly=(t,e,n)=>{const r=t._ctx;for(const s in t){if(Py(s))continue;const i=t[s];if(Te(i))e[s]=PI(s,i,r);else if(i!=null){const o=mh(i);e[s]=()=>o}}},Dy=(t,e)=>{const n=mh(e);t.slots.default=()=>n},LI=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=Re(e),Za(e,"_",n)):Ly(e,t.slots={})}else t.slots={},e&&Dy(t,e);Za(t.slots,zl,1)},DI=(t,e,n)=>{const{vnode:r,slots:s}=t;let i=!0,o=qe;if(r.shapeFlag&32){const a=e._;a?n&&a===1?i=!1:(ht(s,e),!n&&a===1&&delete s._):(i=!e.$stable,Ly(e,s)),o=e}else e&&(Dy(t,e),o={default:1});if(i)for(const a in s)!Py(a)&&!(a in o)&&delete s[a]};function Vc(t,e,n,r,s=!1){if(ue(t)){t.forEach((f,d)=>Vc(f,e&&(ue(e)?e[d]:e),n,r,s));return}if(Ha(r)&&!s)return;const i=r.shapeFlag&4?Yl(r.component)||r.component.proxy:r.el,o=s?null:i,{i:a,r:u}=t,c=e&&e.r,h=a.refs===qe?a.refs={}:a.refs,l=a.setupState;if(c!=null&&c!==u&&(it(c)?(h[c]=null,Ne(l,c)&&(l[c]=null)):$e(c)&&(c.value=null)),Te(u))Nr(u,a,12,[o,h]);else{const f=it(u),d=$e(u);if(f||d){const p=()=>{if(t.f){const y=f?Ne(l,u)?l[u]:h[u]:u.value;s?ue(y)&&Xf(y,i):ue(y)?y.includes(i)||y.push(i):f?(h[u]=[i],Ne(l,u)&&(l[u]=h[u])):(u.value=[i],t.k&&(h[t.k]=u.value))}else f?(h[u]=o,Ne(l,u)&&(l[u]=o)):d&&(u.value=o,t.k&&(h[t.k]=o))};o?(p.id=-1,Gt(p,n)):p()}}}const Gt=iI;function xI(t){return MI(t)}function MI(t,e){const n=Oc();n.__VUE__=!0;const{insert:r,remove:s,patchProp:i,createElement:o,createText:a,createComment:u,setText:c,setElementText:h,parentNode:l,nextSibling:f,setScopeId:d=mn,insertStaticContent:p}=t,y=(I,g,_,T=null,k=null,N=null,F=!1,B=null,q=!!g.dynamicChildren)=>{if(I===g)return;I&&!ns(I,g)&&(T=P(I),Ye(I,k,N,!0),I=null),g.patchFlag===-2&&(q=!1,g.dynamicChildren=null);const{type:V,ref:C,shapeFlag:b}=g;switch(V){case qo:v(I,g,_,T);break;case gn:m(I,g,_,T);break;case zu:I==null&&w(g,_,T,F);break;case yt:W(I,g,_,T,k,N,F,B,q);break;default:b&1?R(I,g,_,T,k,N,F,B,q):b&6?re(I,g,_,T,k,N,F,B,q):(b&64||b&128)&&V.process(I,g,_,T,k,N,F,B,q,j)}C!=null&&k&&Vc(C,I&&I.ref,N,g||I,!g)},v=(I,g,_,T)=>{if(I==null)r(g.el=a(g.children),_,T);else{const k=g.el=I.el;g.children!==I.children&&c(k,g.children)}},m=(I,g,_,T)=>{I==null?r(g.el=u(g.children||""),_,T):g.el=I.el},w=(I,g,_,T)=>{[I.el,I.anchor]=p(I.children,g,_,T,I.el,I.anchor)},S=({el:I,anchor:g},_,T)=>{let k;for(;I&&I!==g;)k=f(I),r(I,_,T),I=k;r(g,_,T)},E=({el:I,anchor:g})=>{let _;for(;I&&I!==g;)_=f(I),s(I),I=_;s(g)},R=(I,g,_,T,k,N,F,B,q)=>{F=F||g.type==="svg",I==null?O(g,_,T,k,N,F,B,q):D(I,g,k,N,F,B,q)},O=(I,g,_,T,k,N,F,B)=>{let q,V;const{type:C,props:b,shapeFlag:A,transition:U,dirs:G}=I;if(q=I.el=o(I.type,N,b&&b.is,b),A&8?h(q,I.children):A&16&&L(I.children,q,null,T,k,N&&C!=="foreignObject",F,B),G&&Yr(I,null,T,"created"),x(q,I,I.scopeId,F,T),b){for(const ne in b)ne!=="value"&&!Ba(ne)&&i(q,ne,null,b[ne],N,I.children,T,k,oe);"value"in b&&i(q,"value",null,b.value),(V=b.onVnodeBeforeMount)&&Tn(V,T,I)}G&&Yr(I,null,T,"beforeMount");const ee=(!k||k&&!k.pendingBranch)&&U&&!U.persisted;ee&&U.beforeEnter(q),r(q,g,_),((V=b&&b.onVnodeMounted)||ee||G)&&Gt(()=>{V&&Tn(V,T,I),ee&&U.enter(q),G&&Yr(I,null,T,"mounted")},k)},x=(I,g,_,T,k)=>{if(_&&d(I,_),T)for(let N=0;N<T.length;N++)d(I,T[N]);if(k){let N=k.subTree;if(g===N){const F=k.vnode;x(I,F,F.scopeId,F.slotScopeIds,k.parent)}}},L=(I,g,_,T,k,N,F,B,q=0)=>{for(let V=q;V<I.length;V++){const C=I[V]=B?yr(I[V]):An(I[V]);y(null,C,g,_,T,k,N,F,B)}},D=(I,g,_,T,k,N,F)=>{const B=g.el=I.el;let{patchFlag:q,dynamicChildren:V,dirs:C}=g;q|=I.patchFlag&16;const b=I.props||qe,A=g.props||qe;let U;_&&Xr(_,!1),(U=A.onVnodeBeforeUpdate)&&Tn(U,_,g,I),C&&Yr(g,I,_,"beforeUpdate"),_&&Xr(_,!0);const G=k&&g.type!=="foreignObject";if(V?Q(I.dynamicChildren,V,B,_,T,G,N):F||le(I,g,B,null,_,T,G,N,!1),q>0){if(q&16)ae(B,g,b,A,_,T,k);else if(q&2&&b.class!==A.class&&i(B,"class",null,A.class,k),q&4&&i(B,"style",b.style,A.style,k),q&8){const ee=g.dynamicProps;for(let ne=0;ne<ee.length;ne++){const he=ee[ne],Ae=b[he],xe=A[he];(xe!==Ae||he==="value")&&i(B,he,Ae,xe,k,I.children,_,T,oe)}}q&1&&I.children!==g.children&&h(B,g.children)}else!F&&V==null&&ae(B,g,b,A,_,T,k);((U=A.onVnodeUpdated)||C)&&Gt(()=>{U&&Tn(U,_,g,I),C&&Yr(g,I,_,"updated")},T)},Q=(I,g,_,T,k,N,F)=>{for(let B=0;B<g.length;B++){const q=I[B],V=g[B],C=q.el&&(q.type===yt||!ns(q,V)||q.shapeFlag&70)?l(q.el):_;y(q,V,C,null,T,k,N,F,!0)}},ae=(I,g,_,T,k,N,F)=>{if(_!==T){if(_!==qe)for(const B in _)!Ba(B)&&!(B in T)&&i(I,B,_[B],null,F,g.children,k,N,oe);for(const B in T){if(Ba(B))continue;const q=T[B],V=_[B];q!==V&&B!=="value"&&i(I,B,V,q,F,g.children,k,N,oe)}"value"in T&&i(I,"value",_.value,T.value)}},W=(I,g,_,T,k,N,F,B,q)=>{const V=g.el=I?I.el:a(""),C=g.anchor=I?I.anchor:a("");let{patchFlag:b,dynamicChildren:A,slotScopeIds:U}=g;U&&(B=B?B.concat(U):U),I==null?(r(V,_,T),r(C,_,T),L(g.children,_,C,k,N,F,B,q)):b>0&&b&64&&A&&I.dynamicChildren?(Q(I.dynamicChildren,A,_,k,N,F,B),(g.key!=null||k&&g===k.subTree)&&xy(I,g,!0)):le(I,g,_,C,k,N,F,B,q)},re=(I,g,_,T,k,N,F,B,q)=>{g.slotScopeIds=B,I==null?g.shapeFlag&512?k.ctx.activate(g,_,T,F,q):ce(g,_,T,k,N,F,q):Se(I,g,q)},ce=(I,g,_,T,k,N,F)=>{const B=I.component=qI(I,T,k);if(Wl(I)&&(B.ctx.renderer=j),WI(B),B.asyncDep){if(k&&k.registerDep(B,te),!I.el){const q=B.subTree=Ee(gn);m(null,q,g,_)}return}te(B,I,g,_,k,N,F)},Se=(I,g,_)=>{const T=g.component=I.component;if(nI(I,g,_))if(T.asyncDep&&!T.asyncResolved){fe(T,g,_);return}else T.next=g,XT(T.update),T.update();else g.el=I.el,T.vnode=g},te=(I,g,_,T,k,N,F)=>{const B=()=>{if(I.isMounted){let{next:C,bu:b,u:A,parent:U,vnode:G}=I,ee=C,ne;Xr(I,!1),C?(C.el=G.el,fe(I,C,F)):C=G,b&&ja(b),(ne=C.props&&C.props.onVnodeBeforeUpdate)&&Tn(ne,U,C,G),Xr(I,!0);const he=Wu(I),Ae=I.subTree;I.subTree=he,y(Ae,he,l(Ae.el),P(Ae),I,k,N),C.el=he.el,ee===null&&rI(I,he.el),A&&Gt(A,k),(ne=C.props&&C.props.onVnodeUpdated)&&Gt(()=>Tn(ne,U,C,G),k)}else{let C;const{el:b,props:A}=g,{bm:U,m:G,parent:ee}=I,ne=Ha(g);if(Xr(I,!1),U&&ja(U),!ne&&(C=A&&A.onVnodeBeforeMount)&&Tn(C,ee,g),Xr(I,!0),b&&pe){const he=()=>{I.subTree=Wu(I),pe(b,I.subTree,I,k,null)};ne?g.type.__asyncLoader().then(()=>!I.isUnmounted&&he()):he()}else{const he=I.subTree=Wu(I);y(null,he,_,T,I,k,N),g.el=he.el}if(G&&Gt(G,k),!ne&&(C=A&&A.onVnodeMounted)){const he=g;Gt(()=>Tn(C,ee,he),k)}(g.shapeFlag&256||ee&&Ha(ee.vnode)&&ee.vnode.shapeFlag&256)&&I.a&&Gt(I.a,k),I.isMounted=!0,g=_=T=null}},q=I.effect=new eh(B,()=>lh(V),I.scope),V=I.update=()=>q.run();V.id=I.uid,Xr(I,!0),V()},fe=(I,g,_)=>{g.component=I;const T=I.vnode.props;I.vnode=g,I.next=null,NI(I,g.props,T,_),DI(I,g.children,_),wi(),bp(),Ei()},le=(I,g,_,T,k,N,F,B,q=!1)=>{const V=I&&I.children,C=I?I.shapeFlag:0,b=g.children,{patchFlag:A,shapeFlag:U}=g;if(A>0){if(A&128){st(V,b,_,T,k,N,F,B,q);return}else if(A&256){Be(V,b,_,T,k,N,F,B,q);return}}U&8?(C&16&&oe(V,k,N),b!==V&&h(_,b)):C&16?U&16?st(V,b,_,T,k,N,F,B,q):oe(V,k,N,!0):(C&8&&h(_,""),U&16&&L(b,_,T,k,N,F,B,q))},Be=(I,g,_,T,k,N,F,B,q)=>{I=I||Ys,g=g||Ys;const V=I.length,C=g.length,b=Math.min(V,C);let A;for(A=0;A<b;A++){const U=g[A]=q?yr(g[A]):An(g[A]);y(I[A],U,_,null,k,N,F,B,q)}V>C?oe(I,k,N,!0,!1,b):L(g,_,T,k,N,F,B,q,b)},st=(I,g,_,T,k,N,F,B,q)=>{let V=0;const C=g.length;let b=I.length-1,A=C-1;for(;V<=b&&V<=A;){const U=I[V],G=g[V]=q?yr(g[V]):An(g[V]);if(ns(U,G))y(U,G,_,null,k,N,F,B,q);else break;V++}for(;V<=b&&V<=A;){const U=I[b],G=g[A]=q?yr(g[A]):An(g[A]);if(ns(U,G))y(U,G,_,null,k,N,F,B,q);else break;b--,A--}if(V>b){if(V<=A){const U=A+1,G=U<C?g[U].el:T;for(;V<=A;)y(null,g[V]=q?yr(g[V]):An(g[V]),_,G,k,N,F,B,q),V++}}else if(V>A)for(;V<=b;)Ye(I[V],k,N,!0),V++;else{const U=V,G=V,ee=new Map;for(V=G;V<=A;V++){const Zt=g[V]=q?yr(g[V]):An(g[V]);Zt.key!=null&&ee.set(Zt.key,V)}let ne,he=0;const Ae=A-G+1;let xe=!1,qt=0;const Bn=new Array(Ae);for(V=0;V<Ae;V++)Bn[V]=0;for(V=U;V<=b;V++){const Zt=I[V];if(he>=Ae){Ye(Zt,k,N,!0);continue}let En;if(Zt.key!=null)En=ee.get(Zt.key);else for(ne=G;ne<=A;ne++)if(Bn[ne-G]===0&&ns(Zt,g[ne])){En=ne;break}En===void 0?Ye(Zt,k,N,!0):(Bn[En-G]=V+1,En>=qt?qt=En:xe=!0,y(Zt,g[En],_,null,k,N,F,B,q),he++)}const up=xe?FI(Bn):Ys;for(ne=up.length-1,V=Ae-1;V>=0;V--){const Zt=G+V,En=g[Zt],cp=Zt+1<C?g[Zt+1].el:T;Bn[V]===0?y(null,En,_,cp,k,N,F,B,q):xe&&(ne<0||V!==up[ne]?nt(En,_,cp,2):ne--)}}},nt=(I,g,_,T,k=null)=>{const{el:N,type:F,transition:B,children:q,shapeFlag:V}=I;if(V&6){nt(I.component.subTree,g,_,T);return}if(V&128){I.suspense.move(g,_,T);return}if(V&64){F.move(I,g,_,j);return}if(F===yt){r(N,g,_);for(let b=0;b<q.length;b++)nt(q[b],g,_,T);r(I.anchor,g,_);return}if(F===zu){S(I,g,_);return}if(T!==2&&V&1&&B)if(T===0)B.beforeEnter(N),r(N,g,_),Gt(()=>B.enter(N),k);else{const{leave:b,delayLeave:A,afterLeave:U}=B,G=()=>r(N,g,_),ee=()=>{b(N,()=>{G(),U&&U()})};A?A(N,G,ee):ee()}else r(N,g,_)},Ye=(I,g,_,T=!1,k=!1)=>{const{type:N,props:F,ref:B,children:q,dynamicChildren:V,shapeFlag:C,patchFlag:b,dirs:A}=I;if(B!=null&&Vc(B,null,_,I,!0),C&256){g.ctx.deactivate(I);return}const U=C&1&&A,G=!Ha(I);let ee;if(G&&(ee=F&&F.onVnodeBeforeUnmount)&&Tn(ee,g,I),C&6)J(I.component,_,T);else{if(C&128){I.suspense.unmount(_,T);return}U&&Yr(I,null,g,"beforeUnmount"),C&64?I.type.remove(I,g,_,k,j,T):V&&(N!==yt||b>0&&b&64)?oe(V,g,_,!1,!0):(N===yt&&b&384||!k&&C&16)&&oe(q,g,_),T&&je(I)}(G&&(ee=F&&F.onVnodeUnmounted)||U)&&Gt(()=>{ee&&Tn(ee,g,I),U&&Yr(I,null,g,"unmounted")},_)},je=I=>{const{type:g,el:_,anchor:T,transition:k}=I;if(g===yt){Xe(_,T);return}if(g===zu){E(I);return}const N=()=>{s(_),k&&!k.persisted&&k.afterLeave&&k.afterLeave()};if(I.shapeFlag&1&&k&&!k.persisted){const{leave:F,delayLeave:B}=k,q=()=>F(_,N);B?B(I.el,N,q):q()}else N()},Xe=(I,g)=>{let _;for(;I!==g;)_=f(I),s(I),I=_;s(g)},J=(I,g,_)=>{const{bum:T,scope:k,update:N,subTree:F,um:B}=I;T&&ja(T),k.stop(),N&&(N.active=!1,Ye(F,I,g,_)),B&&Gt(B,g),Gt(()=>{I.isUnmounted=!0},g),g&&g.pendingBranch&&!g.isUnmounted&&I.asyncDep&&!I.asyncResolved&&I.suspenseId===g.pendingId&&(g.deps--,g.deps===0&&g.resolve())},oe=(I,g,_,T=!1,k=!1,N=0)=>{for(let F=N;F<I.length;F++)Ye(I[F],g,_,T,k)},P=I=>I.shapeFlag&6?P(I.component.subTree):I.shapeFlag&128?I.suspense.next():f(I.anchor||I.el),$=(I,g,_)=>{I==null?g._vnode&&Ye(g._vnode,null,null,!0):y(g._vnode||null,I,g,null,null,null,_),bp(),gy(),g._vnode=I},j={p:y,um:Ye,m:nt,r:je,mt:ce,mc:L,pc:le,pbc:Q,n:P,o:t};let z,pe;return e&&([z,pe]=e(j)),{render:$,hydrate:z,createApp:kI($,z)}}function Xr({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function xy(t,e,n=!1){const r=t.children,s=e.children;if(ue(r)&&ue(s))for(let i=0;i<r.length;i++){const o=r[i];let a=s[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=s[i]=yr(s[i]),a.el=o.el),n||xy(o,a)),a.type===qo&&(a.el=o.el)}}function FI(t){const e=t.slice(),n=[0];let r,s,i,o,a;const u=t.length;for(r=0;r<u;r++){const c=t[r];if(c!==0){if(s=n[n.length-1],t[s]<c){e[r]=s,n.push(r);continue}for(i=0,o=n.length-1;i<o;)a=i+o>>1,t[n[a]]<c?i=a+1:o=a;c<t[n[i]]&&(i>0&&(e[r]=n[i-1]),n[i]=r)}}for(i=n.length,o=n[i-1];i-- >0;)n[i]=o,o=e[o];return n}const UI=t=>t.__isTeleport,yt=Symbol.for("v-fgt"),qo=Symbol.for("v-txt"),gn=Symbol.for("v-cmt"),zu=Symbol.for("v-stc"),Zi=[];let pn=null;function ct(t=!1){Zi.push(pn=t?null:[])}function $I(){Zi.pop(),pn=Zi[Zi.length-1]||null}let bo=1;function Pp(t){bo+=t}function My(t){return t.dynamicChildren=bo>0?pn||Ys:null,$I(),bo>0&&pn&&pn.push(t),t}function Nt(t,e,n,r,s,i){return My(Z(t,e,n,r,s,i,!0))}function sl(t,e,n,r,s){return My(Ee(t,e,n,r,s,!0))}function Bc(t){return t?t.__v_isVNode===!0:!1}function ns(t,e){return t.type===e.type&&t.key===e.key}const zl="__vInternal",Fy=({key:t})=>t??null,qa=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?it(t)||$e(t)||Te(t)?{i:Xt,r:t,k:e,f:!!n}:t:null);function Z(t,e=null,n=null,r=0,s=null,i=t===yt?0:1,o=!1,a=!1){const u={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Fy(e),ref:e&&qa(e),scopeId:vy,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:r,dynamicProps:s,dynamicChildren:null,appContext:null,ctx:Xt};return a?(_h(u,n),i&128&&t.normalize(u)):n&&(u.shapeFlag|=it(n)?8:16),bo>0&&!o&&pn&&(u.patchFlag>0||i&6)&&u.patchFlag!==32&&pn.push(u),u}const Ee=VI;function VI(t,e=null,n=null,r=0,s=null,i=!1){if((!t||t===Sy)&&(t=gn),Bc(t)){const a=Mr(t,e,!0);return n&&_h(a,n),bo>0&&!i&&pn&&(a.shapeFlag&6?pn[pn.indexOf(t)]=a:pn.push(a)),a.patchFlag|=-2,a}if(XI(t)&&(t=t.__vccOpts),e){e=BI(e);let{class:a,style:u}=e;a&&!it(a)&&(e.class=Qn(a)),Ve(u)&&(ly(u)&&!ue(u)&&(u=ht({},u)),e.style=mo(u))}const o=it(t)?1:sI(t)?128:UI(t)?64:Ve(t)?4:Te(t)?2:0;return Z(t,e,n,r,s,o,i,!0)}function BI(t){return t?ly(t)||zl in t?ht({},t):t:null}function Mr(t,e,n=!1){const{props:r,ref:s,patchFlag:i,children:o}=t,a=e?yh(r||{},e):r;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&Fy(a),ref:e&&e.ref?n&&s?ue(s)?s.concat(qa(e)):[s,qa(e)]:qa(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==yt?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Mr(t.ssContent),ssFallback:t.ssFallback&&Mr(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function eo(t=" ",e=0){return Ee(qo,null,t,e)}function gh(t="",e=!1){return e?(ct(),sl(gn,null,t)):Ee(gn,null,t)}function An(t){return t==null||typeof t=="boolean"?Ee(gn):ue(t)?Ee(yt,null,t.slice()):typeof t=="object"?yr(t):Ee(qo,null,String(t))}function yr(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Mr(t)}function _h(t,e){let n=0;const{shapeFlag:r}=t;if(e==null)e=null;else if(ue(e))n=16;else if(typeof e=="object")if(r&65){const s=e.default;s&&(s._c&&(s._d=!1),_h(t,s()),s._c&&(s._d=!0));return}else{n=32;const s=e._;!s&&!(zl in e)?e._ctx=Xt:s===3&&Xt&&(Xt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else Te(e)?(e={default:e,_ctx:Xt},n=32):(e=String(e),r&64?(n=16,e=[eo(e)]):n=8);t.children=e,t.shapeFlag|=n}function yh(...t){const e={};for(let n=0;n<t.length;n++){const r=t[n];for(const s in r)if(s==="class")e.class!==r.class&&(e.class=Qn([e.class,r.class]));else if(s==="style")e.style=mo([e.style,r.style]);else if(Ml(s)){const i=e[s],o=r[s];o&&i!==o&&!(ue(i)&&i.includes(o))&&(e[s]=i?[].concat(i,o):o)}else s!==""&&(e[s]=r[s])}return e}function Tn(t,e,n,r=null){cn(t,e,7,[n,r])}const jI=Oy();let HI=0;function qI(t,e,n){const r=t.type,s=(e?e.appContext:t.appContext)||jI,i={uid:HI++,vnode:t,type:r,parent:e,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Y_(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Ny(r,s),emitsOptions:yy(r,s),emit:null,emitted:null,propsDefaults:qe,inheritAttrs:r.inheritAttrs,ctx:qe,data:qe,props:qe,attrs:qe,slots:qe,refs:qe,setupState:qe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=ZT.bind(null,i),t.ce&&t.ce(i),i}let dt=null;const tr=()=>dt||Xt;let vh,Fs,Lp="__VUE_INSTANCE_SETTERS__";(Fs=Oc()[Lp])||(Fs=Oc()[Lp]=[]),Fs.push(t=>dt=t),vh=t=>{Fs.length>1?Fs.forEach(e=>e(t)):Fs[0](t)};const oi=t=>{vh(t),t.scope.on()},hs=()=>{dt&&dt.scope.off(),vh(null)};function Uy(t){return t.vnode.shapeFlag&4}let wo=!1;function WI(t,e=!1){wo=e;const{props:n,children:r}=t.vnode,s=Uy(t);RI(t,n,s,e),LI(t,r);const i=s?GI(t,e):void 0;return wo=!1,i}function GI(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=jl(new Proxy(t.ctx,wI));const{setup:r}=n;if(r){const s=t.setupContext=r.length>1?zI(t):null;oi(t),wi();const i=Nr(r,t,0,[t.props,s]);if(Ei(),hs(),H_(i)){if(i.then(hs,hs),e)return i.then(o=>{Dp(t,o,e)}).catch(o=>{Hl(o,t,0)});t.asyncDep=i}else Dp(t,i,e)}else $y(t,e)}function Dp(t,e,n){Te(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ve(e)&&(t.setupState=hy(e)),$y(t,n)}let xp;function $y(t,e,n){const r=t.type;if(!t.render){if(!e&&xp&&!r.render){const s=r.template||ph(t).template;if(s){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:u}=r,c=ht(ht({isCustomElement:i,delimiters:a},o),u);r.render=xp(s,c)}}t.render=r.render||mn}oi(t),wi(),EI(t),Ei(),hs()}function KI(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return Jt(t,"get","$attrs"),e[n]}}))}function zI(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return KI(t)},slots:t.slots,emit:t.emit,expose:e}}function Yl(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(hy(jl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Ji)return Ji[n](t)},has(e,n){return n in e||n in Ji}}))}function YI(t,e=!0){return Te(t)?t.displayName||t.name:t.name||e&&t.__name}function XI(t){return Te(t)&&"__vccOpts"in t}const de=(t,e)=>KT(t,e,wo);function nr(t,e,n){const r=arguments.length;return r===2?Ve(e)&&!ue(e)?Bc(e)?Ee(t,null,[e]):Ee(t,e):Ee(t,null,e):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&Bc(n)&&(n=[n]),Ee(t,e,n))}const QI=Symbol.for("v-scx"),JI=()=>sn(QI),ZI="3.3.4",eA="http://www.w3.org/2000/svg",rs=typeof document<"u"?document:null,Mp=rs&&rs.createElement("template"),tA={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,r)=>{const s=e?rs.createElementNS(eA,t):rs.createElement(t,n?{is:n}:void 0);return t==="select"&&r&&r.multiple!=null&&s.setAttribute("multiple",r.multiple),s},createText:t=>rs.createTextNode(t),createComment:t=>rs.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>rs.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,r,s,i){const o=n?n.previousSibling:e.lastChild;if(s&&(s===i||s.nextSibling))for(;e.insertBefore(s.cloneNode(!0),n),!(s===i||!(s=s.nextSibling)););else{Mp.innerHTML=r?`<svg>${t}</svg>`:t;const a=Mp.content;if(r){const u=a.firstChild;for(;u.firstChild;)a.appendChild(u.firstChild);a.removeChild(u)}e.insertBefore(a,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function nA(t,e,n){const r=t._vtc;r&&(e=(e?[e,...r]:[...r]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function rA(t,e,n){const r=t.style,s=it(n);if(n&&!s){if(e&&!it(e))for(const i in e)n[i]==null&&jc(r,i,"");for(const i in n)jc(r,i,n[i])}else{const i=r.display;s?e!==n&&(r.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(r.display=i)}}const Fp=/\s*!important$/;function jc(t,e,n){if(ue(n))n.forEach(r=>jc(t,e,r));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const r=sA(t,e);Fp.test(n)?t.setProperty(bi(r),n.replace(Fp,""),"important"):t[r]=n}}const Up=["Webkit","Moz","ms"],Yu={};function sA(t,e){const n=Yu[e];if(n)return n;let r=Fn(e);if(r!=="filter"&&r in t)return Yu[e]=r;r=$l(r);for(let s=0;s<Up.length;s++){const i=Up[s]+r;if(i in t)return Yu[e]=i}return e}const $p="http://www.w3.org/1999/xlink";function iA(t,e,n,r,s){if(r&&e.startsWith("xlink:"))n==null?t.removeAttributeNS($p,e.slice(6,e.length)):t.setAttributeNS($p,e,n);else{const i=lT(e);n==null||i&&!K_(n)?t.removeAttribute(e):t.setAttribute(e,i?"":n)}}function oA(t,e,n,r,s,i,o){if(e==="innerHTML"||e==="textContent"){r&&o(r,s,i),t[e]=n??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=n;const c=a==="OPTION"?t.getAttribute("value"):t.value,h=n??"";c!==h&&(t.value=h),n==null&&t.removeAttribute(e);return}let u=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=K_(n):n==null&&c==="string"?(n="",u=!0):c==="number"&&(n=0,u=!0)}try{t[e]=n}catch{}u&&t.removeAttribute(e)}function Vy(t,e,n,r){t.addEventListener(e,n,r)}function aA(t,e,n,r){t.removeEventListener(e,n,r)}function lA(t,e,n,r,s=null){const i=t._vei||(t._vei={}),o=i[e];if(r&&o)o.value=r;else{const[a,u]=uA(e);if(r){const c=i[e]=hA(r,s);Vy(t,a,c,u)}else o&&(aA(t,a,o,u),i[e]=void 0)}}const Vp=/(?:Once|Passive|Capture)$/;function uA(t){let e;if(Vp.test(t)){e={};let r;for(;r=t.match(Vp);)t=t.slice(0,t.length-r[0].length),e[r[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):bi(t.slice(2)),e]}let Xu=0;const cA=Promise.resolve(),fA=()=>Xu||(cA.then(()=>Xu=0),Xu=Date.now());function hA(t,e){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;cn(dA(r,n.value),e,5,[r])};return n.value=t,n.attached=fA(),n}function dA(t,e){if(ue(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(r=>s=>!s._stopped&&r&&r(s))}else return e}const Bp=/^on[a-z]/,pA=(t,e,n,r,s=!1,i,o,a,u)=>{e==="class"?nA(t,r,s):e==="style"?rA(t,n,r):Ml(e)?Yf(e)||lA(t,e,n,r,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):mA(t,e,r,s))?oA(t,e,r,i,o,a,u):(e==="true-value"?t._trueValue=r:e==="false-value"&&(t._falseValue=r),iA(t,e,r,s))};function mA(t,e,n,r){return r?!!(e==="innerHTML"||e==="textContent"||e in t&&Bp.test(e)&&Te(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Bp.test(e)&&it(n)?!1:e in t}const fr="transition",Li="animation",bh=(t,{slots:e})=>nr(cI,gA(t),e);bh.displayName="Transition";const By={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String};bh.props=ht({},wy,By);const Qr=(t,e=[])=>{ue(t)?t.forEach(n=>n(...e)):t&&t(...e)},jp=t=>t?ue(t)?t.some(e=>e.length>1):t.length>1:!1;function gA(t){const e={};for(const W in t)W in By||(e[W]=t[W]);if(t.css===!1)return e;const{name:n="v",type:r,duration:s,enterFromClass:i=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:u=i,appearActiveClass:c=o,appearToClass:h=a,leaveFromClass:l=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=t,p=_A(s),y=p&&p[0],v=p&&p[1],{onBeforeEnter:m,onEnter:w,onEnterCancelled:S,onLeave:E,onLeaveCancelled:R,onBeforeAppear:O=m,onAppear:x=w,onAppearCancelled:L=S}=e,D=(W,re,ce)=>{Jr(W,re?h:a),Jr(W,re?c:o),ce&&ce()},Q=(W,re)=>{W._isLeaving=!1,Jr(W,l),Jr(W,d),Jr(W,f),re&&re()},ae=W=>(re,ce)=>{const Se=W?x:w,te=()=>D(re,W,ce);Qr(Se,[re,te]),Hp(()=>{Jr(re,W?u:i),hr(re,W?h:a),jp(Se)||qp(re,r,y,te)})};return ht(e,{onBeforeEnter(W){Qr(m,[W]),hr(W,i),hr(W,o)},onBeforeAppear(W){Qr(O,[W]),hr(W,u),hr(W,c)},onEnter:ae(!1),onAppear:ae(!0),onLeave(W,re){W._isLeaving=!0;const ce=()=>Q(W,re);hr(W,l),bA(),hr(W,f),Hp(()=>{W._isLeaving&&(Jr(W,l),hr(W,d),jp(E)||qp(W,r,v,ce))}),Qr(E,[W,ce])},onEnterCancelled(W){D(W,!1),Qr(S,[W])},onAppearCancelled(W){D(W,!0),Qr(L,[W])},onLeaveCancelled(W){Q(W),Qr(R,[W])}})}function _A(t){if(t==null)return null;if(Ve(t))return[Qu(t.enter),Qu(t.leave)];{const e=Qu(t);return[e,e]}}function Qu(t){return nT(t)}function hr(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t._vtc||(t._vtc=new Set)).add(e)}function Jr(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.remove(r));const{_vtc:n}=t;n&&(n.delete(e),n.size||(t._vtc=void 0))}function Hp(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let yA=0;function qp(t,e,n,r){const s=t._endId=++yA,i=()=>{s===t._endId&&r()};if(n)return setTimeout(i,n);const{type:o,timeout:a,propCount:u}=vA(t,e);if(!o)return r();const c=o+"end";let h=0;const l=()=>{t.removeEventListener(c,f),i()},f=d=>{d.target===t&&++h>=u&&l()};setTimeout(()=>{h<u&&l()},a+1),t.addEventListener(c,f)}function vA(t,e){const n=window.getComputedStyle(t),r=p=>(n[p]||"").split(", "),s=r(`${fr}Delay`),i=r(`${fr}Duration`),o=Wp(s,i),a=r(`${Li}Delay`),u=r(`${Li}Duration`),c=Wp(a,u);let h=null,l=0,f=0;e===fr?o>0&&(h=fr,l=o,f=i.length):e===Li?c>0&&(h=Li,l=c,f=u.length):(l=Math.max(o,c),h=l>0?o>c?fr:Li:null,f=h?h===fr?i.length:u.length:0);const d=h===fr&&/\b(transform|all)(,|$)/.test(r(`${fr}Property`).toString());return{type:h,timeout:l,propCount:f,hasTransform:d}}function Wp(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,r)=>Gp(n)+Gp(t[r])))}function Gp(t){return Number(t.slice(0,-1).replace(",","."))*1e3}function bA(){return document.body.offsetHeight}const Kp=t=>{const e=t.props["onUpdate:modelValue"]||!1;return ue(e)?n=>ja(e,n):e},PB={deep:!0,created(t,{value:e,modifiers:{number:n}},r){const s=Fl(e);Vy(t,"change",()=>{const i=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?G_(il(o)):il(o));t._assign(t.multiple?s?new Set(i):i:i[0])}),t._assign=Kp(r)},mounted(t,{value:e}){zp(t,e)},beforeUpdate(t,e,n){t._assign=Kp(n)},updated(t,{value:e}){zp(t,e)}};function zp(t,e){const n=t.multiple;if(!(n&&!ue(e)&&!Fl(e))){for(let r=0,s=t.options.length;r<s;r++){const i=t.options[r],o=il(i);if(n)ue(e)?i.selected=cT(e,o)>-1:i.selected=e.has(o);else if(Vl(il(i),e)){t.selectedIndex!==r&&(t.selectedIndex=r);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function il(t){return"_value"in t?t._value:t.value}const wA=["ctrl","shift","alt","meta"],EA={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>wA.some(n=>t[`${n}Key`]&&!e.includes(n))},ds=(t,e)=>(n,...r)=>{for(let s=0;s<e.length;s++){const i=EA[e[s]];if(i&&i(n,e))return}return t(n,...r)},LB={beforeMount(t,{value:e},{transition:n}){t._vod=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):Di(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:r}){!e!=!n&&(r?e?(r.beforeEnter(t),Di(t,!0),r.enter(t)):r.leave(t,()=>{Di(t,!1)}):Di(t,e))},beforeUnmount(t,{value:e}){Di(t,e)}};function Di(t,e){t.style.display=e?t._vod:"none"}const TA=ht({patchProp:pA},tA);let Yp;function IA(){return Yp||(Yp=xI(TA))}const AA=(...t)=>{const e=IA().createApp(...t),{mount:n}=e;return e.mount=r=>{const s=SA(r);if(!s)return;const i=e._component;!Te(i)&&!i.render&&!i.template&&(i.template=s.innerHTML),s.innerHTML="";const o=n(s,!1,s instanceof SVGElement);return s instanceof Element&&(s.removeAttribute("v-cloak"),s.setAttribute("data-v-app","")),o},e};function SA(t){return it(t)?document.querySelector(t):t}var CA=!1;/*!
  * pinia v2.1.3
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let jy;const Xl=t=>jy=t,Hy=Symbol();function Hc(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var to;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(to||(to={}));function kA(){const t=Jf(!0),e=t.run(()=>Qe({}));let n=[],r=[];const s=jl({install(i){Xl(s),s._a=i,i.provide(Hy,s),i.config.globalProperties.$pinia=s,r.forEach(o=>n.push(o)),r=[]},use(i){return!this._a&&!CA?r.push(i):n.push(i),this},_p:n,_a:null,_e:t,_s:new Map,state:e});return s}const qy=()=>{};function Xp(t,e,n,r=qy){t.push(e);const s=()=>{const i=t.indexOf(e);i>-1&&(t.splice(i,1),r())};return!n&&X_()&&hT(s),s}function Us(t,...e){t.slice().forEach(n=>{n(...e)})}const OA=t=>t();function qc(t,e){t instanceof Map&&e instanceof Map&&e.forEach((n,r)=>t.set(r,n)),t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const n in e){if(!e.hasOwnProperty(n))continue;const r=e[n],s=t[n];Hc(s)&&Hc(r)&&t.hasOwnProperty(n)&&!$e(r)&&!Rr(r)?t[n]=qc(s,r):t[n]=r}return t}const RA=Symbol();function NA(t){return!Hc(t)||!t.hasOwnProperty(RA)}const{assign:_r}=Object;function PA(t){return!!($e(t)&&t.effect)}function LA(t,e,n,r){const{state:s,actions:i,getters:o}=e,a=n.state.value[t];let u;function c(){a||(n.state.value[t]=s?s():{});const h=HT(n.state.value[t]);return _r(h,i,Object.keys(o||{}).reduce((l,f)=>(l[f]=jl(de(()=>{Xl(n);const d=n._s.get(t);return o[f].call(d,d)})),l),{}))}return u=Wy(t,c,e,n,r,!0),u}function Wy(t,e,n={},r,s,i){let o;const a=_r({actions:{}},n),u={deep:!0};let c,h,l=[],f=[],d;const p=r.state.value[t];!i&&!p&&(r.state.value[t]={}),Qe({});let y;function v(L){let D;c=h=!1,typeof L=="function"?(L(r.state.value[t]),D={type:to.patchFunction,storeId:t,events:d}):(qc(r.state.value[t],L),D={type:to.patchObject,payload:L,storeId:t,events:d});const Q=y=Symbol();is().then(()=>{y===Q&&(c=!0)}),h=!0,Us(l,D,r.state.value[t])}const m=i?function(){const{state:D}=n,Q=D?D():{};this.$patch(ae=>{_r(ae,Q)})}:qy;function w(){o.stop(),l=[],f=[],r._s.delete(t)}function S(L,D){return function(){Xl(r);const Q=Array.from(arguments),ae=[],W=[];function re(te){ae.push(te)}function ce(te){W.push(te)}Us(f,{args:Q,name:L,store:R,after:re,onError:ce});let Se;try{Se=D.apply(this&&this.$id===t?this:R,Q)}catch(te){throw Us(W,te),te}return Se instanceof Promise?Se.then(te=>(Us(ae,te),te)).catch(te=>(Us(W,te),Promise.reject(te))):(Us(ae,Se),Se)}}const E={_p:r,$id:t,$onAction:Xp.bind(null,f),$patch:v,$reset:m,$subscribe(L,D={}){const Q=Xp(l,L,D.detached,()=>ae()),ae=o.run(()=>Pt(()=>r.state.value[t],W=>{(D.flush==="sync"?h:c)&&L({storeId:t,type:to.direct,events:d},W)},_r({},u,D)));return Q},$dispose:w},R=Un(E);r._s.set(t,R);const O=r._a&&r._a.runWithContext||OA,x=r._e.run(()=>(o=Jf(),O(()=>o.run(e))));for(const L in x){const D=x[L];if($e(D)&&!PA(D)||Rr(D))i||(p&&NA(D)&&($e(D)?D.value=p[L]:qc(D,p[L])),r.state.value[t][L]=D);else if(typeof D=="function"){const Q=S(L,D);x[L]=Q,a.actions[L]=D}}return _r(R,x),_r(Re(R),x),Object.defineProperty(R,"$state",{get:()=>r.state.value[t],set:L=>{v(D=>{_r(D,L)})}}),r._p.forEach(L=>{_r(R,o.run(()=>L({store:R,app:r._a,pinia:r,options:a})))}),p&&i&&n.hydrate&&n.hydrate(R.$state,p),c=!0,h=!0,R}function wh(t,e,n){let r,s;const i=typeof e=="function";typeof t=="string"?(r=t,s=i?n:e):(s=t,r=t.id);function o(a,u){const c=OI();return a=a||(c?sn(Hy,null):null),a&&Xl(a),a=jy,a._s.has(r)||(i?Wy(r,e,s,a):LA(r,s,a)),a._s.get(r)}return o.$id=r,o}let DA="Store";function xA(...t){return t.reduce((e,n)=>(e[n.$id+DA]=function(){return n(this.$pinia)},e),{})}function Gy(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(){return t(this.$pinia)[r]},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(){const s=t(this.$pinia),i=e[r];return typeof i=="function"?i.call(this,s):s[i]},n),{})}function Eh(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]=function(...s){return t(this.$pinia)[r](...s)},n),{}):Object.keys(e).reduce((n,r)=>(n[r]=function(...s){return t(this.$pinia)[e[r]](...s)},n),{})}function Th(t,e){return Array.isArray(e)?e.reduce((n,r)=>(n[r]={get(){return t(this.$pinia)[r]},set(s){return t(this.$pinia)[r]=s}},n),{}):Object.keys(e).reduce((n,r)=>(n[r]={get(){return t(this.$pinia)[e[r]]},set(s){return t(this.$pinia)[e[r]]=s}},n),{})}const ol=wh("modal",{state:()=>({isOpen:!1}),getters:{hiddenClass(t){return t.isOpen?"":"hidden"}}});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},MA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},zy={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,l=(i&3)<<4|a>>4;let f=(a&15)<<2|c>>6,d=c&63;u||(d=64,o||(f=64)),r.push(n[h],n[l],n[f],n[d])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Ky(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const l=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||c==null||l==null)throw new FA;const f=i<<2|a>>4;if(r.push(f),c!==64){const d=a<<4&240|c>>2;if(r.push(d),l!==64){const p=c<<6&192|l;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class FA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const UA=function(t){const e=Ky(t);return zy.encodeByteArray(e,!0)},al=function(t){return UA(t).replace(/\./g,"")},Yy=function(t){try{return zy.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VA=()=>$A().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},jA=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Yy(t[1]);return e&&JSON.parse(e)},Ql=()=>{try{return VA()||BA()||jA()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Xy=t=>{var e,n;return(n=(e=Ql())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Qy=t=>{const e=Xy(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Jy=()=>{var t;return(t=Ql())===null||t===void 0?void 0:t.config},Zy=t=>{var e;return(e=Ql())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ev(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[al(JSON.stringify(n)),al(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function qA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Mt())}function WA(){var t;const e=(t=Ql())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function GA(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function zA(){const t=Mt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function YA(){try{return typeof indexedDB=="object"}catch{return!1}}function XA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QA="FirebaseError";class Vn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=QA,Object.setPrototypeOf(this,Vn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wo.prototype.create)}}class Wo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?JA(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new Vn(s,a,r)}}function JA(t,e){return t.replace(ZA,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const ZA=/\{\$([^}]+)}/g;function eS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ll(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Qp(i)&&Qp(o)){if(!ll(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Qp(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Go(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Wi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function Gi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function tS(t,e){const n=new nS(t,e);return n.subscribe.bind(n)}class nS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");rS(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ju),s.error===void 0&&(s.error=Ju),s.complete===void 0&&(s.complete=Ju);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rS(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ju(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Je(t){return t&&t._delegate?t._delegate:t}class Fr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new HA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(oS(e))try{this.getOrInitializeService({instanceIdentifier:Zr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Zr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Zr){return this.instances.has(e)}getOptions(e=Zr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:iS(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Zr){return this.component?this.component.multipleInstances?e:Zr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function iS(t){return t===Zr?void 0:t}function oS(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Le||(Le={}));const lS={debug:Le.DEBUG,verbose:Le.VERBOSE,info:Le.INFO,warn:Le.WARN,error:Le.ERROR,silent:Le.SILENT},uS=Le.INFO,cS={[Le.DEBUG]:"log",[Le.VERBOSE]:"log",[Le.INFO]:"info",[Le.WARN]:"warn",[Le.ERROR]:"error"},fS=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=cS[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ih{constructor(e){this.name=e,this._logLevel=uS,this._logHandler=fS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Le.DEBUG,...e),this._logHandler(this,Le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Le.VERBOSE,...e),this._logHandler(this,Le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Le.INFO,...e),this._logHandler(this,Le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Le.WARN,...e),this._logHandler(this,Le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Le.ERROR,...e),this._logHandler(this,Le.ERROR,...e)}}const hS=(t,e)=>e.some(n=>t instanceof n);let Jp,Zp;function dS(){return Jp||(Jp=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pS(){return Zp||(Zp=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tv=new WeakMap,Wc=new WeakMap,nv=new WeakMap,Zu=new WeakMap,Ah=new WeakMap;function mS(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Pr(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tv.set(n,t)}).catch(()=>{}),Ah.set(e,t),e}function gS(t){if(Wc.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Wc.set(t,e)}let Gc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nv.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Pr(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _S(t){Gc=t(Gc)}function yS(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ec(this),e,...n);return nv.set(r,e.sort?e.sort():[e]),Pr(r)}:pS().includes(t)?function(...e){return t.apply(ec(this),e),Pr(tv.get(this))}:function(...e){return Pr(t.apply(ec(this),e))}}function vS(t){return typeof t=="function"?yS(t):(t instanceof IDBTransaction&&gS(t),hS(t,dS())?new Proxy(t,Gc):t)}function Pr(t){if(t instanceof IDBRequest)return mS(t);if(Zu.has(t))return Zu.get(t);const e=vS(t);return e!==t&&(Zu.set(t,e),Ah.set(e,t)),e}const ec=t=>Ah.get(t);function bS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Pr(o);return r&&o.addEventListener("upgradeneeded",u=>{r(Pr(o.result),u.oldVersion,u.newVersion,Pr(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const wS=["get","getKey","getAll","getAllKeys","count"],ES=["put","add","delete","clear"],tc=new Map;function em(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(tc.get(e))return tc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=ES.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||wS.includes(n)))return;const i=async function(o,...a){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),s&&u.done]))[0]};return tc.set(e,i),i}_S(t=>({...t,get:(e,n,r)=>em(e,n)||t.get(e,n,r),has:(e,n)=>!!em(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IS(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function IS(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Kc="@firebase/app",tm="0.9.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=new Ih("@firebase/app"),AS="@firebase/app-compat",SS="@firebase/analytics-compat",CS="@firebase/analytics",kS="@firebase/app-check-compat",OS="@firebase/app-check",RS="@firebase/auth",NS="@firebase/auth-compat",PS="@firebase/database",LS="@firebase/database-compat",DS="@firebase/functions",xS="@firebase/functions-compat",MS="@firebase/installations",FS="@firebase/installations-compat",US="@firebase/messaging",$S="@firebase/messaging-compat",VS="@firebase/performance",BS="@firebase/performance-compat",jS="@firebase/remote-config",HS="@firebase/remote-config-compat",qS="@firebase/storage",WS="@firebase/storage-compat",GS="@firebase/firestore",KS="@firebase/firestore-compat",zS="firebase",YS="9.23.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zc="[DEFAULT]",XS={[Kc]:"fire-core",[AS]:"fire-core-compat",[CS]:"fire-analytics",[SS]:"fire-analytics-compat",[OS]:"fire-app-check",[kS]:"fire-app-check-compat",[RS]:"fire-auth",[NS]:"fire-auth-compat",[PS]:"fire-rtdb",[LS]:"fire-rtdb-compat",[DS]:"fire-fn",[xS]:"fire-fn-compat",[MS]:"fire-iid",[FS]:"fire-iid-compat",[US]:"fire-fcm",[$S]:"fire-fcm-compat",[VS]:"fire-perf",[BS]:"fire-perf-compat",[jS]:"fire-rc",[HS]:"fire-rc-compat",[qS]:"fire-gcs",[WS]:"fire-gcs-compat",[GS]:"fire-fst",[KS]:"fire-fst-compat","fire-js":"fire-js",[zS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new Map,Yc=new Map;function QS(t,e){try{t.container.addComponent(e)}catch(n){ys.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function vs(t){const e=t.name;if(Yc.has(e))return ys.debug(`There were multiple attempts to register component ${e}.`),!1;Yc.set(e,t);for(const n of ul.values())QS(n,t);return!0}function Jl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Lr=new Wo("app","Firebase",JS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Fr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Lr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ks=YS;function rv(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:zc,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw Lr.create("bad-app-name",{appName:String(s)});if(n||(n=Jy()),!n)throw Lr.create("no-options");const i=ul.get(s);if(i){if(ll(n,i.options)&&ll(r,i.config))return i;throw Lr.create("duplicate-app",{appName:s})}const o=new aS(s);for(const u of Yc.values())o.addComponent(u);const a=new ZS(n,r,o);return ul.set(s,a),a}function Sh(t=zc){const e=ul.get(t);if(!e&&t===zc&&Jy())return rv();if(!e)throw Lr.create("no-app",{appName:t});return e}function Ln(t,e,n){var r;let s=(r=XS[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${s}" with version "${e}":`];i&&a.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ys.warn(a.join(" "));return}vs(new Fr(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1="firebase-heartbeat-database",t1=1,Eo="firebase-heartbeat-store";let nc=null;function sv(){return nc||(nc=bS(e1,t1,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Eo)}}}).catch(t=>{throw Lr.create("idb-open",{originalErrorMessage:t.message})})),nc}async function n1(t){try{return await(await sv()).transaction(Eo).objectStore(Eo).get(iv(t))}catch(e){if(e instanceof Vn)ys.warn(e.message);else{const n=Lr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ys.warn(n.message)}}}async function nm(t,e){try{const r=(await sv()).transaction(Eo,"readwrite");await r.objectStore(Eo).put(e,iv(t)),await r.done}catch(n){if(n instanceof Vn)ys.warn(n.message);else{const r=Lr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ys.warn(r.message)}}}function iv(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r1=1024,s1=30*24*60*60*1e3;class i1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=rm();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(s=>s.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const i=new Date(s.date).valueOf();return Date.now()-i<=s1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=rm(),{heartbeatsToSend:n,unsentEntries:r}=o1(this._heartbeatsCache.heartbeats),s=al(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function rm(){return new Date().toISOString().substring(0,10)}function o1(t,e=r1){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),sm(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),sm(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class a1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return YA()?XA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await n1(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return nm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function sm(t){return al(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l1(t){vs(new Fr("platform-logger",e=>new TS(e),"PRIVATE")),vs(new Fr("heartbeat",e=>new i1(e),"PRIVATE")),Ln(Kc,tm,t),Ln(Kc,tm,"esm2017"),Ln("fire-js","")}l1("");var u1="firebase",c1="9.23.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ln(u1,c1,"app");function Ch(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function ov(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const f1=ov,av=new Wo("auth","Firebase",ov());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new Ih("@firebase/auth");function h1(t,...e){cl.logLevel<=Le.WARN&&cl.warn(`Auth (${ks}): ${t}`,...e)}function Wa(t,...e){cl.logLevel<=Le.ERROR&&cl.error(`Auth (${ks}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _n(t,...e){throw kh(t,...e)}function Dn(t,...e){return kh(t,...e)}function d1(t,e,n){const r=Object.assign(Object.assign({},f1()),{[e]:n});return new Wo("auth","Firebase",r).create(e,{appName:t.name})}function kh(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return av.create(t,...e)}function _e(t,e,...n){if(!t)throw kh(e,...n)}function zn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Wa(e),new Error(e)}function rr(t,e){t||zn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function p1(){return im()==="http:"||im()==="https:"}function im(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(p1()||GA()||"connection"in navigator)?navigator.onLine:!0}function g1(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e,n){this.shortDelay=e,this.longDelay=n,rr(n>e,"Short delay should be less than long delay!"),this.isMobile=qA()||KA()}get(){return m1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(t,e){rr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Ko(3e4,6e4);function Ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Os(t,e,n,r,s={}){return uv(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Go(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();return u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),lv.fetch()(cv(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},i))})}async function uv(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},_1),e);try{const s=new v1(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Sa(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[u,c]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Sa(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Sa(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Sa(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw d1(t,h,c);_n(t,h)}}catch(s){if(s instanceof Vn)throw s;_n(t,"network-request-failed",{message:String(s)})}}async function zo(t,e,n,r,s={}){const i=await Os(t,e,n,r,s);return"mfaPendingCredential"in i&&_n(t,"multi-factor-auth-required",{_serverResponse:i}),i}function cv(t,e,n,r){const s=`${e}${n}?${r}`;return t.config.emulator?Oh(t.config,s):`${t.config.apiScheme}://${s}`}class v1{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Dn(this.auth,"network-request-failed")),y1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Sa(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=Dn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b1(t,e){return Os(t,"POST","/v1/accounts:delete",e)}async function w1(t,e){return Os(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function E1(t,e=!1){const n=Je(t),r=await n.getIdToken(e),s=Rh(r);_e(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:no(rc(s.auth_time)),issuedAtTime:no(rc(s.iat)),expirationTime:no(rc(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function rc(t){return Number(t)*1e3}function Rh(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Wa("JWT malformed, contained fewer than 3 sections"),null;try{const s=Yy(n);return s?JSON.parse(s):(Wa("Failed to decode base64 JWT payload"),null)}catch(s){return Wa("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function T1(t){const e=Rh(t);return _e(e,"internal-error"),_e(typeof e.exp<"u","internal-error"),_e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ai(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Vn&&I1(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function I1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=no(this.lastLoginAt),this.creationTime=no(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fl(t){var e;const n=t.auth,r=await t.getIdToken(),s=await ai(t,w1(n,{idToken:r}));_e(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?k1(i.providerUserInfo):[],a=C1(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),h=u?c:!1,l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new fv(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,l)}async function S1(t){const e=Je(t);await fl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function C1(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function k1(t){return t.map(e=>{var{providerId:n}=e,r=Ch(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O1(t,e){const n=await uv(t,{},async()=>{const r=Go({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=cv(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",lv.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){_e(e.idToken,"internal-error"),_e(typeof e.idToken<"u","internal-error"),_e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):T1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return _e(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await O1(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new To;return r&&(_e(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(_e(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(_e(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new To,this.toJSON())}_performRefresh(){return zn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dr(t,e){_e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ps{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Ch(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new fv(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ai(this,this.stsTokenManager.getToken(this.auth,e));return _e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return E1(this,e)}reload(){return S1(this)}_assign(e){this!==e&&(_e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ps(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){_e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await fl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await ai(this,b1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,a,u,c,h;const l=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(s=n.email)!==null&&s!==void 0?s:void 0,d=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,y=(a=n.tenantId)!==null&&a!==void 0?a:void 0,v=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,m=(c=n.createdAt)!==null&&c!==void 0?c:void 0,w=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:S,emailVerified:E,isAnonymous:R,providerData:O,stsTokenManager:x}=n;_e(S&&x,e,"internal-error");const L=To.fromJSON(this.name,x);_e(typeof S=="string",e,"internal-error"),dr(l,e.name),dr(f,e.name),_e(typeof E=="boolean",e,"internal-error"),_e(typeof R=="boolean",e,"internal-error"),dr(d,e.name),dr(p,e.name),dr(y,e.name),dr(v,e.name),dr(m,e.name),dr(w,e.name);const D=new ps({uid:S,auth:e,email:f,emailVerified:E,displayName:l,isAnonymous:R,photoURL:p,phoneNumber:d,tenantId:y,stsTokenManager:L,createdAt:m,lastLoginAt:w});return O&&Array.isArray(O)&&(D.providerData=O.map(Q=>Object.assign({},Q))),v&&(D._redirectEventId=v),D}static async _fromIdTokenResponse(e,n,r=!1){const s=new To;s.updateFromServerResponse(n);const i=new ps({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await fl(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om=new Map;function Yn(t){rr(t instanceof Function,"Expected a class definition");let e=om.get(t);return e?(rr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,om.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}hv.type="NONE";const am=hv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ga(t,e,n){return`firebase:${t}:${e}:${n}`}class Zs{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Ga(this.userKey,s.apiKey,i),this.fullPersistenceKey=Ga("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ps._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Zs(Yn(am),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||Yn(am);const o=Ga(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){const l=ps._fromJSON(e,h);c!==i&&(a=l),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new Zs(i,e,r):(i=u[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new Zs(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lm(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(mv(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(dv(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_v(e))return"Blackberry";if(yv(e))return"Webos";if(Nh(e))return"Safari";if((e.includes("chrome/")||pv(e))&&!e.includes("edge/"))return"Chrome";if(gv(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function dv(t=Mt()){return/firefox\//i.test(t)}function Nh(t=Mt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function pv(t=Mt()){return/crios\//i.test(t)}function mv(t=Mt()){return/iemobile/i.test(t)}function gv(t=Mt()){return/android/i.test(t)}function _v(t=Mt()){return/blackberry/i.test(t)}function yv(t=Mt()){return/webos/i.test(t)}function Zl(t=Mt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function R1(t=Mt()){var e;return Zl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function N1(){return zA()&&document.documentMode===10}function vv(t=Mt()){return Zl(t)||gv(t)||yv(t)||_v(t)||/windows phone/i.test(t)||mv(t)}function P1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bv(t,e=[]){let n;switch(t){case"Browser":n=lm(Mt());break;case"Worker":n=`${lm(Mt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ks}/${r}`}async function wv(t,e){return Os(t,"GET","/v2/recaptchaConfig",Ti(t,e))}function um(t){return t!==void 0&&t.enterprise!==void 0}class Ev{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L1(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Tv(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=Dn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",L1().appendChild(r)})}function D1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const x1="https://www.google.com/recaptcha/enterprise.js?render=",M1="recaptcha-enterprise",F1="NO_RECAPTCHA";class Iv{constructor(e){this.type=M1,this.auth=Ii(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{wv(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Ev(u);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,o(c.siteKey)}}).catch(u=>{a(u)})})}function s(i,o,a){const u=window.grecaptcha;um(u)?u.enterprise.ready(()=>{u.enterprise.execute(i,{action:e}).then(c=>{o(c)}).catch(()=>{o(F1)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&um(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Tv(x1+a).then(()=>{s(a,i,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function hl(t,e,n,r=!1){const s=new Iv(t);let i;try{i=await s.verify(n)}catch{i=await s.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:i}):Object.assign(o,{captchaResponse:i}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const u=e(i);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cm(this),this.idTokenSubscription=new cm(this),this.beforeStateQueue=new U1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=av,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Yn(n)),this._initializationPromise=this.queue(async()=>{var r,s;if(!this._deleted&&(this.persistenceManager=await Zs.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===a)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return _e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await fl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=g1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?Je(e):null;return n&&_e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&_e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Yn(e))})}async initializeRecaptchaConfig(){const e=await wv(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Ev(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Iv(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Wo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Yn(e)||this._popupRedirectResolver;_e(n,this,"argument-error"),this.redirectPersistenceManager=await Zs.create(this,[Yn(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return _e(o,this,"internal-error"),o.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,s):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return _e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&h1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ii(t){return Je(t)}class cm{constructor(e){this.auth=e,this.observer=null,this.addObserver=tS(n=>this.observer=n)}get next(){return _e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V1(t,e){const n=Jl(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ll(i,e??{}))return s;_n(s,"already-initialized")}return n.initialize({options:e})}function B1(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Yn);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function j1(t,e,n){const r=Ii(t);_e(r._canInitEmulator,r,"emulator-config-failed"),_e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=Av(e),{host:o,port:a}=H1(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})}),s||q1()}function Av(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function H1(t){const e=Av(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:fm(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:fm(o)}}}function fm(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function q1(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return zn("not implemented")}_getIdTokenResponse(e){return zn("not implemented")}_linkToIdToken(e,n){return zn("not implemented")}_getReauthenticationResolver(e){return zn("not implemented")}}async function W1(t,e){return Os(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t,e){return zo(t,"POST","/v1/accounts:signInWithPassword",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G1(t,e){return zo(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))}async function K1(t,e){return zo(t,"POST","/v1/accounts:signInWithEmailLink",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io extends Ph{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new Io(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Io(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const s=await hl(e,r,"signInWithPassword");return sc(e,s)}else return sc(e,r).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const i=await hl(e,r,"signInWithPassword");return sc(e,i)}else return Promise.reject(s)});case"emailLink":return G1(e,{email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return W1(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return K1(e,{idToken:n,email:this._email,oobCode:this._password});default:_n(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ei(t,e){return zo(t,"POST","/v1/accounts:signInWithIdp",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1="http://localhost";class bs extends Ph{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new bs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_n("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Ch(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new bs(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ei(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ei(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ei(e,n)}buildRequest(){const e={requestUri:z1,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Go(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y1(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function X1(t){const e=Wi(Gi(t)).link,n=e?Wi(Gi(e)).deep_link_id:null,r=Wi(Gi(t)).deep_link_id;return(r?Wi(Gi(r)).link:null)||r||n||e||t}class Lh{constructor(e){var n,r,s,i,o,a;const u=Wi(Gi(e)),c=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,l=Y1((s=u.mode)!==null&&s!==void 0?s:null);_e(c&&h&&l,"argument-error"),this.apiKey=c,this.operation=l,this.code=h,this.continueUrl=(i=u.continueUrl)!==null&&i!==void 0?i:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=X1(e);try{return new Lh(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ai{constructor(){this.providerId=Ai.PROVIDER_ID}static credential(e,n){return Io._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Lh.parseLink(n);return _e(r,"argument-error"),Io._fromEmailAndCode(e,r.code,r.tenantId)}}Ai.PROVIDER_ID="password";Ai.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ai.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo extends Sv{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends Yo{constructor(){super("facebook.com")}static credential(e){return bs._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wr.credential(e.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er extends Yo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return bs._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Er.credential(n,r)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends Yo{constructor(){super("github.com")}static credential(e){return bs._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Tr.credentialFromTaggedObject(e)}static credentialFromError(e){return Tr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Tr.credential(e.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends Yo{constructor(){super("twitter.com")}static credential(e,n){return bs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ir.credential(n,r)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ic(t,e){return zo(t,"POST","/v1/accounts:signUp",Ti(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ws{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ps._fromIdTokenResponse(e,r,s),o=hm(r);return new ws({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=hm(r);return new ws({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function hm(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl extends Vn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,dl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new dl(e,n,r,s)}}function Cv(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?dl._fromErrorAndOperation(t,i,e,r):i})}async function Q1(t,e,n=!1){const r=await ai(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return ws._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(t,e,n=!1){const{auth:r}=t,s="reauthenticate";try{const i=await ai(t,Cv(r,s,e,t),n);_e(i.idToken,r,"internal-error");const o=Rh(i.idToken);_e(o,r,"internal-error");const{sub:a}=o;return _e(t.uid===a,r,"user-mismatch"),ws._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&_n(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kv(t,e,n=!1){const r="signIn",s=await Cv(t,r,e),i=await ws._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function Z1(t,e){return kv(Ii(t),e)}async function eC(t,e,n){var r;const s=Ii(t),i={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=s._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const c=await hl(s,i,"signUpPassword");o=ic(s,c)}else o=ic(s,i).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const h=await hl(s,i,"signUpPassword");return ic(s,h)}else return Promise.reject(c)});const a=await o.catch(c=>Promise.reject(c)),u=await ws._fromIdTokenResponse(s,"signIn",a);return await s._updateCurrentUser(u.user),u}function tC(t,e,n){return Z1(Je(t),Ai.credential(e,n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nC(t,e){return Os(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rC(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=Je(t),i={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await ai(r,nC(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:u})=>u==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function sC(t,e,n,r){return Je(t).onIdTokenChanged(e,n,r)}function iC(t,e,n){return Je(t).beforeAuthStateChanged(e,n)}function oC(t){return Je(t).signOut()}const pl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(pl,"1"),this.storage.removeItem(pl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aC(){const t=Mt();return Nh(t)||Zl(t)}const lC=1e3,uC=10;class Rv extends Ov{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=aC()&&P1(),this.fallbackToPolling=vv(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,u)=>{this.notifyListeners(o,u)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);N1()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,uC):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},lC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Rv.type="LOCAL";const cC=Rv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends Ov{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Nv.type="SESSION";const Pv=Nv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fC(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new eu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async c=>c(n.origin,i)),u=await fC(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}eu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dh(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,u)=>{const c=Dh("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(l){const f=l;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(f.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(){return window}function dC(t){xn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lv(){return typeof xn().WorkerGlobalScope<"u"&&typeof xn().importScripts=="function"}async function pC(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mC(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function gC(){return Lv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dv="firebaseLocalStorageDb",_C=1,ml="firebaseLocalStorage",xv="fbase_key";class Xo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tu(t,e){return t.transaction([ml],e?"readwrite":"readonly").objectStore(ml)}function yC(){const t=indexedDB.deleteDatabase(Dv);return new Xo(t).toPromise()}function Qc(){const t=indexedDB.open(Dv,_C);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ml,{keyPath:xv})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ml)?e(r):(r.close(),await yC(),e(await Qc()))})})}async function dm(t,e,n){const r=tu(t,!0).put({[xv]:e,value:n});return new Xo(r).toPromise()}async function vC(t,e){const n=tu(t,!1).get(e),r=await new Xo(n).toPromise();return r===void 0?null:r.value}function pm(t,e){const n=tu(t,!0).delete(e);return new Xo(n).toPromise()}const bC=800,wC=3;class Mv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Qc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>wC)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Lv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=eu._getInstance(gC()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await pC(),!this.activeServiceWorker)return;this.sender=new hC(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mC()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Qc();return await dm(e,pl,"1"),await pm(e,pl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>dm(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vC(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>pm(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=tu(s,!1).getAll();return new Xo(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),bC)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Mv.type="LOCAL";const EC=Mv;new Ko(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TC(t,e){return e?Yn(e):(_e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xh extends Ph{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ei(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ei(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ei(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function IC(t){return kv(t.auth,new xh(t),t.bypassAuthState)}function AC(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),J1(n,new xh(t),t.bypassAuthState)}async function SC(t){const{auth:e,user:n}=t;return _e(n,e,"internal-error"),Q1(n,new xh(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return IC;case"linkViaPopup":case"linkViaRedirect":return SC;case"reauthViaPopup":case"reauthViaRedirect":return AC;default:_n(this.auth,"internal-error")}}resolve(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){rr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=new Ko(2e3,1e4);class Gs extends Fv{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,Gs.currentPopupAction&&Gs.currentPopupAction.cancel(),Gs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return _e(e,this.auth,"internal-error"),e}async onExecution(){rr(this.filter.length===1,"Popup operations only handle one event");const e=Dh();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Dn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Dn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Gs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Dn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,CC.get())};e()}}Gs.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kC="pendingRedirect",Ka=new Map;class OC extends Fv{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ka.get(this.auth._key());if(!e){try{const r=await RC(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ka.set(this.auth._key(),e)}return this.bypassAuthState||Ka.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function RC(t,e){const n=LC(e),r=PC(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function NC(t,e){Ka.set(t._key(),e)}function PC(t){return Yn(t._redirectPersistence)}function LC(t){return Ga(kC,t.config.apiKey,t.name)}async function DC(t,e,n=!1){const r=Ii(t),s=TC(r,e),o=await new OC(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC=10*60*1e3;class MC{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!FC(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!Uv(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Dn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=xC&&this.cachedEventUids.clear(),this.cachedEventUids.has(mm(e))}saveEventToCache(e){this.cachedEventUids.add(mm(e)),this.lastProcessedEventTime=Date.now()}}function mm(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function Uv({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function FC(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Uv(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UC(t,e={}){return Os(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $C=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,VC=/^https?/;async function BC(t){if(t.config.emulator)return;const{authorizedDomains:e}=await UC(t);for(const n of e)try{if(jC(n))return}catch{}_n(t,"unauthorized-domain")}function jC(t){const e=Xc(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!VC.test(n))return!1;if($C.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=new Ko(3e4,6e4);function gm(){const t=xn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function qC(t){return new Promise((e,n)=>{var r,s,i;function o(){gm(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gm(),n(Dn(t,"network-request-failed"))},timeout:HC.get()})}if(!((s=(r=xn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=xn().gapi)===null||i===void 0)&&i.load)o();else{const a=D1("iframefcb");return xn()[a]=()=>{gapi.load?o():n(Dn(t,"network-request-failed"))},Tv(`https://apis.google.com/js/api.js?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw za=null,e})}let za=null;function WC(t){return za=za||qC(t),za}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC=new Ko(5e3,15e3),KC="__/auth/iframe",zC="emulator/auth/iframe",YC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},XC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QC(t){const e=t.config;_e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?Oh(e,zC):`https://${t.config.authDomain}/${KC}`,r={apiKey:e.apiKey,appName:t.name,v:ks},s=XC.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Go(r).slice(1)}`}async function JC(t){const e=await WC(t),n=xn().gapi;return _e(n,t,"internal-error"),e.open({where:document.body,url:QC(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:YC,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=Dn(t,"network-request-failed"),a=xn().setTimeout(()=>{i(o)},GC.get());function u(){xn().clearTimeout(a),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ek=500,tk=600,nk="_blank",rk="http://localhost";class _m{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function sk(t,e,n,r=ek,s=tk){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const u=Object.assign(Object.assign({},ZC),{width:r.toString(),height:s.toString(),top:i,left:o}),c=Mt().toLowerCase();n&&(a=pv(c)?nk:n),dv(c)&&(e=e||rk,u.scrollbars="yes");const h=Object.entries(u).reduce((f,[d,p])=>`${f}${d}=${p},`,"");if(R1(c)&&a!=="_self")return ik(e||"",a),new _m(null);const l=window.open(e||"",a,h);_e(l,t,"popup-blocked");try{l.focus()}catch{}return new _m(l)}function ik(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ok="__/auth/handler",ak="emulator/auth/handler",lk=encodeURIComponent("fac");async function ym(t,e,n,r,s,i){_e(t.config.authDomain,t,"auth-domain-config-required"),_e(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ks,eventId:s};if(e instanceof Sv){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",eS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,l]of Object.entries(i||{}))o[h]=l}if(e instanceof Yo){const h=e.getScopes().filter(l=>l!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const u=await t._getAppCheckToken(),c=u?`#${lk}=${encodeURIComponent(u)}`:"";return`${uk(t)}?${Go(a).slice(1)}${c}`}function uk({config:t}){return t.emulator?Oh(t,ak):`https://${t.authDomain}/${ok}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oc="webStorageSupport";class ck{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Pv,this._completeRedirectFn=DC,this._overrideRedirectResult=NC}async _openPopup(e,n,r,s){var i;rr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await ym(e,n,r,Xc(),s);return sk(e,o,Dh())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await ym(e,n,r,Xc(),s);return dC(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(rr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await JC(e),r=new MC(e);return n.register("authEvent",s=>(_e(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(oc,{type:oc},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[oc];o!==void 0&&n(!!o),_n(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=BC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return vv()||Nh()||Zl()}}const fk=ck;var vm="@firebase/auth",bm="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){_e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dk(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function pk(t){vs(new Fr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;_e(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bv(t)},c=new $1(r,s,i,u);return B1(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),vs(new Fr("auth-internal",e=>{const n=Ii(e.getProvider("auth").getImmediate());return(r=>new hk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ln(vm,bm,dk(t)),Ln(vm,bm,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk=5*60,gk=Zy("authIdTokenMaxAge")||mk;let wm=null;const _k=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gk)return;const s=n==null?void 0:n.token;wm!==s&&(wm=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function yk(t=Sh()){const e=Jl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=V1(t,{popupRedirectResolver:fk,persistence:[EC,cC,Pv]}),r=Zy("authTokenSyncURL");if(r){const i=_k(r);iC(n,i,()=>i(n.currentUser)),sC(n,o=>i(o))}const s=Xy("auth");return s&&j1(n,`http://${s}`),n}pk("Browser");var vk=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Y,Mh=Mh||{},ve=vk||self;function nu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Qo(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function bk(t){return Object.prototype.hasOwnProperty.call(t,ac)&&t[ac]||(t[ac]=++wk)}var ac="closure_uid_"+(1e9*Math.random()>>>0),wk=0;function Ek(t,e,n){return t.call.apply(t.bind,arguments)}function Tk(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),t.apply(e,s)}}return function(){return t.apply(e,arguments)}}function Lt(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Lt=Ek:Lt=Tk,Lt.apply(null,arguments)}function Ca(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function bt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,s,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[s].apply(r,o)}}function Hr(){this.s=this.s,this.o=this.o}var Ik=0;Hr.prototype.s=!1;Hr.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Ik!=0)&&bk(this)};Hr.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const $v=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Fh(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function Em(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(nu(r)){const s=t.length||0,i=r.length||0;t.length=s+i;for(let o=0;o<i;o++)t[s+o]=r[o]}else t.push(r)}}function Dt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Dt.prototype.h=function(){this.defaultPrevented=!0};var Ak=function(){if(!ve.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{ve.addEventListener("test",()=>{},e),ve.removeEventListener("test",()=>{},e)}catch{}return t}();function Ao(t){return/^[\s\xa0]*$/.test(t)}function ru(){var t=ve.navigator;return t&&(t=t.userAgent)?t:""}function kn(t){return ru().indexOf(t)!=-1}function Uh(t){return Uh[" "](t),t}Uh[" "]=function(){};function Sk(t,e){var n=yO;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var Ck=kn("Opera"),li=kn("Trident")||kn("MSIE"),Vv=kn("Edge"),Jc=Vv||li,Bv=kn("Gecko")&&!(ru().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge"))&&!(kn("Trident")||kn("MSIE"))&&!kn("Edge"),kk=ru().toLowerCase().indexOf("webkit")!=-1&&!kn("Edge");function jv(){var t=ve.document;return t?t.documentMode:void 0}var Zc;e:{var lc="",uc=function(){var t=ru();if(Bv)return/rv:([^\);]+)(\)|;)/.exec(t);if(Vv)return/Edge\/([\d\.]+)/.exec(t);if(li)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(kk)return/WebKit\/(\S+)/.exec(t);if(Ck)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(uc&&(lc=uc?uc[1]:""),li){var cc=jv();if(cc!=null&&cc>parseFloat(lc)){Zc=String(cc);break e}}Zc=lc}var ef;if(ve.document&&li){var Tm=jv();ef=Tm||parseInt(Zc,10)||void 0}else ef=void 0;var Ok=ef;function So(t,e){if(Dt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Bv){e:{try{Uh(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Rk[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&So.$.h.call(this)}}bt(So,Dt);var Rk={2:"touch",3:"pen",4:"mouse"};So.prototype.h=function(){So.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Jo="closure_listenable_"+(1e6*Math.random()|0),Nk=0;function Pk(t,e,n,r,s){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=s,this.key=++Nk,this.fa=this.ia=!1}function su(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function $h(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Lk(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function Hv(t){const e={};for(const n in t)e[n]=t[n];return e}const Im="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qv(t,e){let n,r;for(let s=1;s<arguments.length;s++){r=arguments[s];for(n in r)t[n]=r[n];for(let i=0;i<Im.length;i++)n=Im[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function iu(t){this.src=t,this.g={},this.h=0}iu.prototype.add=function(t,e,n,r,s){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=nf(t,e,r,s);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new Pk(e,this.src,i,!!r,s),e.ia=n,t.push(e)),e};function tf(t,e){var n=e.type;if(n in t.g){var r=t.g[n],s=$v(r,e),i;(i=0<=s)&&Array.prototype.splice.call(r,s,1),i&&(su(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function nf(t,e,n,r){for(var s=0;s<t.length;++s){var i=t[s];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return s}return-1}var Vh="closure_lm_"+(1e6*Math.random()|0),fc={};function Wv(t,e,n,r,s){if(r&&r.once)return Kv(t,e,n,r,s);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Wv(t,e[i],n,r,s);return null}return n=Hh(n),t&&t[Jo]?t.O(e,n,Qo(r)?!!r.capture:!!r,s):Gv(t,e,n,!1,r,s)}function Gv(t,e,n,r,s,i){if(!e)throw Error("Invalid event type");var o=Qo(s)?!!s.capture:!!s,a=jh(t);if(a||(t[Vh]=a=new iu(t)),n=a.add(e,n,r,o,i),n.proxy)return n;if(r=Dk(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ak||(s=o),s===void 0&&(s=!1),t.addEventListener(e.toString(),r,s);else if(t.attachEvent)t.attachEvent(Yv(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Dk(){function t(n){return e.call(t.src,t.listener,n)}const e=xk;return t}function Kv(t,e,n,r,s){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Kv(t,e[i],n,r,s);return null}return n=Hh(n),t&&t[Jo]?t.P(e,n,Qo(r)?!!r.capture:!!r,s):Gv(t,e,n,!0,r,s)}function zv(t,e,n,r,s){if(Array.isArray(e))for(var i=0;i<e.length;i++)zv(t,e[i],n,r,s);else r=Qo(r)?!!r.capture:!!r,n=Hh(n),t&&t[Jo]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=nf(i,n,r,s),-1<n&&(su(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=jh(t))&&(e=t.g[e.toString()],t=-1,e&&(t=nf(e,n,r,s)),(n=-1<t?e[t]:null)&&Bh(n))}function Bh(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Jo])tf(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Yv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=jh(e))?(tf(n,t),n.h==0&&(n.src=null,e[Vh]=null)):su(t)}}}function Yv(t){return t in fc?fc[t]:fc[t]="on"+t}function xk(t,e){if(t.fa)t=!0;else{e=new So(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Bh(t),t=n.call(r,e)}return t}function jh(t){return t=t[Vh],t instanceof iu?t:null}var hc="__closure_events_fn_"+(1e9*Math.random()>>>0);function Hh(t){return typeof t=="function"?t:(t[hc]||(t[hc]=function(e){return t.handleEvent(e)}),t[hc])}function vt(){Hr.call(this),this.i=new iu(this),this.S=this,this.J=null}bt(vt,Hr);vt.prototype[Jo]=!0;vt.prototype.removeEventListener=function(t,e,n,r){zv(this,t,e,n,r)};function It(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Dt(e,t);else if(e instanceof Dt)e.target=e.target||t;else{var s=e;e=new Dt(r,t),qv(e,s)}if(s=!0,n)for(var i=n.length-1;0<=i;i--){var o=e.g=n[i];s=ka(o,r,!0,e)&&s}if(o=e.g=t,s=ka(o,r,!0,e)&&s,s=ka(o,r,!1,e)&&s,n)for(i=0;i<n.length;i++)o=e.g=n[i],s=ka(o,r,!1,e)&&s}vt.prototype.N=function(){if(vt.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)su(n[r]);delete t.g[e],t.h--}}this.J=null};vt.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};vt.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function ka(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var s=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.fa&&o.capture==n){var a=o.listener,u=o.la||o.src;o.ia&&tf(t.i,o),s=a.call(u,r)!==!1&&s}}return s&&!r.defaultPrevented}var qh=ve.JSON.stringify;class Mk{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function Fk(){var t=Wh;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Uk{constructor(){this.h=this.g=null}add(e,n){const r=Xv.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Xv=new Mk(()=>new $k,t=>t.reset());class $k{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Vk(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Bk(t){ve.setTimeout(()=>{throw t},0)}let Co,ko=!1,Wh=new Uk,Qv=()=>{const t=ve.Promise.resolve(void 0);Co=()=>{t.then(jk)}};var jk=()=>{for(var t;t=Fk();){try{t.h.call(t.g)}catch(n){Bk(n)}var e=Xv;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ko=!1};function ou(t,e){vt.call(this),this.h=t||1,this.g=e||ve,this.j=Lt(this.qb,this),this.l=Date.now()}bt(ou,vt);Y=ou.prototype;Y.ga=!1;Y.T=null;Y.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),It(this,"tick"),this.ga&&(Gh(this),this.start()))}};Y.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Gh(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}Y.N=function(){ou.$.N.call(this),Gh(this),delete this.g};function Kh(t,e,n){if(typeof t=="function")n&&(t=Lt(t,n));else if(t&&typeof t.handleEvent=="function")t=Lt(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:ve.setTimeout(t,e||0)}function Jv(t){t.g=Kh(()=>{t.g=null,t.i&&(t.i=!1,Jv(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Hk extends Hr{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jv(this)}N(){super.N(),this.g&&(ve.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Oo(t){Hr.call(this),this.h=t,this.g={}}bt(Oo,Hr);var Am=[];function Zv(t,e,n,r){Array.isArray(n)||(n&&(Am[0]=n.toString()),n=Am);for(var s=0;s<n.length;s++){var i=Wv(e,n[s],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function e0(t){$h(t.g,function(e,n){this.g.hasOwnProperty(n)&&Bh(e)},t),t.g={}}Oo.prototype.N=function(){Oo.$.N.call(this),e0(this)};Oo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function au(){this.g=!0}au.prototype.Ea=function(){this.g=!1};function qk(t,e,n,r,s,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var h=c[0];c=c[1];var l=h.split("_");o=2<=l.length&&l[1]=="type"?o+(h+"="+c+"&"):o+(h+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+`
`+n+`
`+o})}function Wk(t,e,n,r,s,i,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+`
`+n+`
`+i+" "+o})}function Ks(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Kk(t,n)+(r?" "+r:"")})}function Gk(t,e){t.info(function(){return"TIMEOUT: "+e})}au.prototype.info=function(){};function Kk(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var i=s[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<s.length;o++)s[o]=""}}}}return qh(n)}catch{return e}}var Rs={},Sm=null;function lu(){return Sm=Sm||new vt}Rs.Ta="serverreachability";function t0(t){Dt.call(this,Rs.Ta,t)}bt(t0,Dt);function Ro(t){const e=lu();It(e,new t0(e))}Rs.STAT_EVENT="statevent";function n0(t,e){Dt.call(this,Rs.STAT_EVENT,t),this.stat=e}bt(n0,Dt);function Bt(t){const e=lu();It(e,new n0(e,t))}Rs.Ua="timingevent";function r0(t,e){Dt.call(this,Rs.Ua,t),this.size=e}bt(r0,Dt);function Zo(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return ve.setTimeout(function(){t()},e)}var uu={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},s0={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function zh(){}zh.prototype.h=null;function Cm(t){return t.h||(t.h=t.i())}function i0(){}var ea={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yh(){Dt.call(this,"d")}bt(Yh,Dt);function Xh(){Dt.call(this,"c")}bt(Xh,Dt);var rf;function cu(){}bt(cu,zh);cu.prototype.g=function(){return new XMLHttpRequest};cu.prototype.i=function(){return{}};rf=new cu;function ta(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Oo(this),this.P=zk,t=Jc?125:void 0,this.V=new ou(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new o0}function o0(){this.i=null,this.g="",this.h=!1}var zk=45e3,sf={},gl={};Y=ta.prototype;Y.setTimeout=function(t){this.P=t};function of(t,e,n){t.L=1,t.v=hu(sr(e)),t.s=n,t.S=!0,a0(t,null)}function a0(t,e){t.G=Date.now(),na(t),t.A=sr(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),m0(n.i,"t",r),t.C=0,n=t.l.J,t.h=new o0,t.g=M0(t.l,n?e:null,!t.s),0<t.O&&(t.M=new Hk(Lt(t.Pa,t,t.g),t.O)),Zv(t.U,t.g,"readystatechange",t.nb),e=t.I?Hv(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Ro(),qk(t.j,t.u,t.A,t.m,t.W,t.s)}Y.nb=function(t){t=t.target;const e=this.M;e&&Rn(t)==3?e.l():this.Pa(t)};Y.Pa=function(t){try{if(t==this.g)e:{const h=Rn(this.g);var e=this.g.Ia();const l=this.g.da();if(!(3>h)&&(h!=3||Jc||this.g&&(this.h.h||this.g.ja()||Nm(this.g)))){this.J||h!=4||e==7||(e==8||0>=l?Ro(3):Ro(2)),fu(this);var n=this.g.da();this.ca=n;t:if(l0(this)){var r=Nm(this.g);t="";var s=r.length,i=Rn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){as(this),ro(this);var o="";break t}this.h.i=new ve.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==s-1});r.splice(0,s),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,Wk(this.j,this.u,this.A,this.m,this.W,h,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Ao(a)){var c=a;break t}}c=null}if(n=c)Ks(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,af(this,n);else{this.i=!1,this.o=3,Bt(12),as(this),ro(this);break e}}this.S?(u0(this,h,o),Jc&&this.i&&h==3&&(Zv(this.U,this.V,"tick",this.mb),this.V.start())):(Ks(this.j,this.m,o,null),af(this,o)),h==4&&as(this),this.i&&!this.J&&(h==4?P0(this.l,this):(this.i=!1,na(this)))}else mO(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,Bt(12)):(this.o=0,Bt(13)),as(this),ro(this)}}}catch{}finally{}};function l0(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function u0(t,e,n){let r=!0,s;for(;!t.J&&t.C<n.length;)if(s=Yk(t,n),s==gl){e==4&&(t.o=4,Bt(14),r=!1),Ks(t.j,t.m,null,"[Incomplete Response]");break}else if(s==sf){t.o=4,Bt(15),Ks(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Ks(t.j,t.m,s,null),af(t,s);l0(t)&&s!=gl&&s!=sf&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,Bt(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),nd(e),e.M=!0,Bt(11))):(Ks(t.j,t.m,n,"[Invalid Chunked Response]"),as(t),ro(t))}Y.mb=function(){if(this.g){var t=Rn(this.g),e=this.g.ja();this.C<e.length&&(fu(this),u0(this,t,e),this.i&&t!=4&&na(this))}};function Yk(t,e){var n=t.C,r=e.indexOf(`
`,n);return r==-1?gl:(n=Number(e.substring(n,r)),isNaN(n)?sf:(r+=1,r+n>e.length?gl:(e=e.slice(r,r+n),t.C=r+n,e)))}Y.cancel=function(){this.J=!0,as(this)};function na(t){t.Y=Date.now()+t.P,c0(t,t.P)}function c0(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=Zo(Lt(t.lb,t),e)}function fu(t){t.B&&(ve.clearTimeout(t.B),t.B=null)}Y.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(Gk(this.j,this.A),this.L!=2&&(Ro(),Bt(17)),as(this),this.o=2,ro(this)):c0(this,this.Y-t)};function ro(t){t.l.H==0||t.J||P0(t.l,t)}function as(t){fu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Gh(t.V),e0(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function af(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||lf(n.i,t))){if(!t.K&&lf(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var s=r;if(s[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)vl(n),mu(n);else break e;td(n),Bt(18)}}else n.Fa=s[1],0<n.Fa-n.V&&37500>s[2]&&n.G&&n.A==0&&!n.v&&(n.v=Zo(Lt(n.ib,n),6e3));if(1>=y0(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else ls(n,11)}else if((t.K||n.g==t)&&vl(n),!Ao(e))for(s=n.Ja.g.parse(e),e=0;e<s.length;e++){let c=s[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const h=c[3];h!=null&&(n.ra=h,n.l.info("VER="+n.ra));const l=c[4];l!=null&&(n.Ga=l,n.l.info("SVER="+n.Ga));const f=c[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=t.g;if(d){const p=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var i=r.i;i.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Qh(i,i.h),i.h=null))}if(r.F){const y=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;y&&(r.Da=y,We(r.I,r.F,y))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=x0(r,r.J?r.pa:null,r.Y),o.K){v0(r.i,o);var a=o,u=r.L;u&&a.setTimeout(u),a.B&&(fu(a),na(a)),r.g=o}else R0(r);0<n.j.length&&gu(n)}else c[0]!="stop"&&c[0]!="close"||ls(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?ls(n,7):ed(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Ro(4)}catch{}}function Xk(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(nu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function Qk(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(nu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function f0(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(nu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=Qk(t),r=Xk(t),s=r.length,i=0;i<s;i++)e.call(void 0,r[i],n&&n[i],t)}var h0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jk(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),s=null;if(0<=r){var i=t[n].substring(0,r);s=t[n].substring(r+1)}else i=t[n];e(i,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}function ms(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ms){this.h=t.h,_l(this,t.j),this.s=t.s,this.g=t.g,yl(this,t.m),this.l=t.l;var e=t.i,n=new No;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),km(this,n),this.o=t.o}else t&&(e=String(t).match(h0))?(this.h=!1,_l(this,e[1]||"",!0),this.s=Ki(e[2]||""),this.g=Ki(e[3]||"",!0),yl(this,e[4]),this.l=Ki(e[5]||"",!0),km(this,e[6]||"",!0),this.o=Ki(e[7]||"")):(this.h=!1,this.i=new No(null,this.h))}ms.prototype.toString=function(){var t=[],e=this.j;e&&t.push(zi(e,Om,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(zi(e,Om,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(zi(n,n.charAt(0)=="/"?tO:eO,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",zi(n,rO)),t.join("")};function sr(t){return new ms(t)}function _l(t,e,n){t.j=n?Ki(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function yl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function km(t,e,n){e instanceof No?(t.i=e,sO(t.i,t.h)):(n||(e=zi(e,nO)),t.i=new No(e,t.h))}function We(t,e,n){t.i.set(e,n)}function hu(t){return We(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ki(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function zi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,Zk),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Zk(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var Om=/[#\/\?@]/g,eO=/[#\?:]/g,tO=/[#\?]/g,nO=/[#\?@]/g,rO=/#/g;function No(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function qr(t){t.g||(t.g=new Map,t.h=0,t.i&&Jk(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}Y=No.prototype;Y.add=function(t,e){qr(this),this.i=null,t=Si(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function d0(t,e){qr(t),e=Si(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function p0(t,e){return qr(t),e=Si(t,e),t.g.has(e)}Y.forEach=function(t,e){qr(this),this.g.forEach(function(n,r){n.forEach(function(s){t.call(e,s,r,this)},this)},this)};Y.ta=function(){qr(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const s=t[r];for(let i=0;i<s.length;i++)n.push(e[r])}return n};Y.Z=function(t){qr(this);let e=[];if(typeof t=="string")p0(this,t)&&(e=e.concat(this.g.get(Si(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};Y.set=function(t,e){return qr(this),this.i=null,t=Si(this,t),p0(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};Y.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function m0(t,e,n){d0(t,e),0<n.length&&(t.i=null,t.g.set(Si(t,e),Fh(n)),t.h+=n.length)}Y.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var s=i;o[r]!==""&&(s+="="+encodeURIComponent(String(o[r]))),t.push(s)}}return this.i=t.join("&")};function Si(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function sO(t,e){e&&!t.j&&(qr(t),t.i=null,t.g.forEach(function(n,r){var s=r.toLowerCase();r!=s&&(d0(this,r),m0(this,s,n))},t)),t.j=e}var iO=class{constructor(t,e){this.g=t,this.map=e}};function g0(t){this.l=t||oO,ve.PerformanceNavigationTiming?(t=ve.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(ve.g&&ve.g.Ka&&ve.g.Ka()&&ve.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var oO=10;function _0(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function y0(t){return t.h?1:t.g?t.g.size:0}function lf(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Qh(t,e){t.g?t.g.add(e):t.h=e}function v0(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}g0.prototype.cancel=function(){if(this.i=b0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function b0(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Fh(t.i)}var aO=class{stringify(t){return ve.JSON.stringify(t,void 0)}parse(t){return ve.JSON.parse(t,void 0)}};function lO(){this.g=new aO}function uO(t,e,n){const r=n||"";try{f0(t,function(s,i){let o=s;Qo(s)&&(o=qh(s)),e.push(r+i+"="+encodeURIComponent(o))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function cO(t,e){const n=new au;if(ve.Image){const r=new Image;r.onload=Ca(Oa,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Ca(Oa,n,r,"TestLoadImage: error",!1,e),r.onabort=Ca(Oa,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Ca(Oa,n,r,"TestLoadImage: timeout",!1,e),ve.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function Oa(t,e,n,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function ra(t){this.l=t.fc||null,this.j=t.ob||!1}bt(ra,zh);ra.prototype.g=function(){return new du(this.l,this.j)};ra.prototype.i=function(t){return function(){return t}}({});function du(t,e){vt.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Jh,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}bt(du,vt);var Jh=0;Y=du.prototype;Y.open=function(t,e){if(this.readyState!=Jh)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Po(this)};Y.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||ve).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};Y.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,sa(this)),this.readyState=Jh};Y.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Po(this)),this.g&&(this.readyState=3,Po(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof ve.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;w0(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function w0(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}Y.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?sa(this):Po(this),this.readyState==3&&w0(this)}};Y.Za=function(t){this.g&&(this.response=this.responseText=t,sa(this))};Y.Ya=function(t){this.g&&(this.response=t,sa(this))};Y.ka=function(){this.g&&sa(this)};function sa(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Po(t)}Y.setRequestHeader=function(t,e){this.v.append(t,e)};Y.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};Y.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Po(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(du.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var fO=ve.JSON.parse;function rt(t){vt.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=E0,this.L=this.M=!1}bt(rt,vt);var E0="",hO=/^https?$/i,dO=["POST","PUT"];Y=rt.prototype;Y.Oa=function(t){this.M=t};Y.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():rf.g(),this.C=this.u?Cm(this.u):Cm(rf),this.g.onreadystatechange=Lt(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){Rm(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),s=ve.FormData&&t instanceof ve.FormData,!(0<=$v(dO,e))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{A0(this),0<this.B&&((this.L=pO(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Lt(this.ua,this)):this.A=Kh(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){Rm(this,i)}};function pO(t){return li&&typeof t.timeout=="number"&&t.ontimeout!==void 0}Y.ua=function(){typeof Mh<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,It(this,"timeout"),this.abort(8))};function Rm(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,T0(t),pu(t)}function T0(t){t.F||(t.F=!0,It(t,"complete"),It(t,"error"))}Y.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,It(this,"complete"),It(this,"abort"),pu(this))};Y.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),pu(this,!0)),rt.$.N.call(this)};Y.La=function(){this.s||(this.G||this.v||this.l?I0(this):this.kb())};Y.kb=function(){I0(this)};function I0(t){if(t.h&&typeof Mh<"u"&&(!t.C[1]||Rn(t)!=4||t.da()!=2)){if(t.v&&Rn(t)==4)Kh(t.La,0,t);else if(It(t,"readystatechange"),Rn(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var s=String(t.I).match(h0)[1]||null;!s&&ve.self&&ve.self.location&&(s=ve.self.location.protocol.slice(0,-1)),r=!hO.test(s?s.toLowerCase():"")}n=r}if(n)It(t,"complete"),It(t,"success");else{t.m=6;try{var i=2<Rn(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",T0(t)}}finally{pu(t)}}}}function pu(t,e){if(t.g){A0(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||It(t,"ready");try{n.onreadystatechange=r}catch{}}}function A0(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(ve.clearTimeout(t.A),t.A=null)}Y.isActive=function(){return!!this.g};function Rn(t){return t.g?t.g.readyState:0}Y.da=function(){try{return 2<Rn(this)?this.g.status:-1}catch{return-1}};Y.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Y.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),fO(e)}};function Nm(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case E0:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function mO(t){const e={};t=(t.g&&2<=Rn(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(Ao(t[r]))continue;var n=Vk(t[r]);const s=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[s]||[];e[s]=i,i.push(n)}Lk(e,function(r){return r.join(", ")})}Y.Ia=function(){return this.m};Y.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function S0(t){let e="";return $h(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function Zh(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=S0(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):We(t,e,n))}function xi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function C0(t){this.Ga=0,this.j=[],this.l=new au,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xi("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xi("baseRetryDelayMs",5e3,t),this.hb=xi("retryDelaySeedMs",1e4,t),this.eb=xi("forwardChannelMaxRetries",2,t),this.xa=xi("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new g0(t&&t.concurrentRequestLimit),this.Ja=new lO,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Y=C0.prototype;Y.ra=8;Y.H=1;function ed(t){if(k0(t),t.H==3){var e=t.W++,n=sr(t.I);if(We(n,"SID",t.K),We(n,"RID",e),We(n,"TYPE","terminate"),ia(t,n),e=new ta(t,t.l,e),e.L=2,e.v=hu(sr(n)),n=!1,ve.navigator&&ve.navigator.sendBeacon)try{n=ve.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&ve.Image&&(new Image().src=e.v,n=!0),n||(e.g=M0(e.l,null),e.g.ha(e.v)),e.G=Date.now(),na(e)}D0(t)}function mu(t){t.g&&(nd(t),t.g.cancel(),t.g=null)}function k0(t){mu(t),t.u&&(ve.clearTimeout(t.u),t.u=null),vl(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&ve.clearTimeout(t.m),t.m=null)}function gu(t){if(!_0(t.i)&&!t.m){t.m=!0;var e=t.Na;Co||Qv(),ko||(Co(),ko=!0),Wh.add(e,t),t.C=0}}function gO(t,e){return y0(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=Zo(Lt(t.Na,t,e),L0(t,t.C)),t.C++,!0)}Y.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const s=new ta(this,this.l,t);let i=this.s;if(this.U&&(i?(i=Hv(i),qv(i,this.U)):i=this.U),this.o!==null||this.O||(s.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=O0(this,s,e),n=sr(this.I),We(n,"RID",t),We(n,"CVER",22),this.F&&We(n,"X-HTTP-Session-Id",this.F),ia(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(S0(i)))+"&"+e:this.o&&Zh(n,this.o,i)),Qh(this.i,s),this.bb&&We(n,"TYPE","init"),this.P?(We(n,"$req",e),We(n,"SID","null"),s.aa=!0,of(s,n,null)):of(s,n,e),this.H=2}}else this.H==3&&(t?Pm(this,t):this.j.length==0||_0(this.i)||Pm(this))};function Pm(t,e){var n;e?n=e.m:n=t.W++;const r=sr(t.I);We(r,"SID",t.K),We(r,"RID",n),We(r,"AID",t.V),ia(t,r),t.o&&t.s&&Zh(r,t.o,t.s),n=new ta(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=O0(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Qh(t.i,n),of(n,r,e)}function ia(t,e){t.na&&$h(t.na,function(n,r){We(e,r,n)}),t.h&&f0({},function(n,r){We(e,r,n)})}function O0(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Lt(t.h.Va,t.h,t):null;e:{var s=t.j;let i=-1;for(;;){const o=["count="+n];i==-1?0<n?(i=s[0].g,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let u=0;u<n;u++){let c=s[u].g;const h=s[u].map;if(c-=i,0>c)i=Math.max(0,s[u].g-100),a=!1;else try{uO(h,o,"req"+c+"_")}catch{r&&r(h)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function R0(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Co||Qv(),ko||(Co(),ko=!0),Wh.add(e,t),t.A=0}}function td(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=Zo(Lt(t.Ma,t),L0(t,t.A)),t.A++,!0)}Y.Ma=function(){if(this.u=null,N0(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Zo(Lt(this.jb,this),t)}};Y.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Bt(10),mu(this),N0(this))};function nd(t){t.B!=null&&(ve.clearTimeout(t.B),t.B=null)}function N0(t){t.g=new ta(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=sr(t.wa);We(e,"RID","rpc"),We(e,"SID",t.K),We(e,"AID",t.V),We(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&We(e,"TO",t.qa),We(e,"TYPE","xmlhttp"),ia(t,e),t.o&&t.s&&Zh(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=hu(sr(e)),n.s=null,n.S=!0,a0(n,t)}Y.ib=function(){this.v!=null&&(this.v=null,mu(this),td(this),Bt(19))};function vl(t){t.v!=null&&(ve.clearTimeout(t.v),t.v=null)}function P0(t,e){var n=null;if(t.g==e){vl(t),nd(t),t.g=null;var r=2}else if(lf(t.i,e))n=e.F,v0(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var s=t.C;r=lu(),It(r,new r0(r,n)),gu(t)}else R0(t);else if(s=e.o,s==3||s==0&&0<e.ca||!(r==1&&gO(t,e)||r==2&&td(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),s){case 1:ls(t,5);break;case 4:ls(t,10);break;case 3:ls(t,6);break;default:ls(t,2)}}}function L0(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function ls(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Lt(t.pb,t);n||(n=new ms("//www.google.com/images/cleardot.gif"),ve.location&&ve.location.protocol=="http"||_l(n,"https"),hu(n)),cO(n.toString(),r)}else Bt(2);t.H=0,t.h&&t.h.za(e),D0(t),k0(t)}Y.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Bt(2)):(this.l.info("Failed to ping google.com"),Bt(1))};function D0(t){if(t.H=0,t.ma=[],t.h){const e=b0(t.i);(e.length!=0||t.j.length!=0)&&(Em(t.ma,e),Em(t.ma,t.j),t.i.i.length=0,Fh(t.j),t.j.length=0),t.h.ya()}}function x0(t,e,n){var r=n instanceof ms?sr(n):new ms(n);if(r.g!="")e&&(r.g=e+"."+r.g),yl(r,r.m);else{var s=ve.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var i=new ms(null);r&&_l(i,r),e&&(i.g=e),s&&yl(i,s),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&We(r,n,e),We(r,"VER",t.ra),ia(t,r),r}function M0(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new rt(new ra({ob:!0})):new rt(t.va),e.Oa(t.J),e}Y.isActive=function(){return!!this.h&&this.h.isActive(this)};function F0(){}Y=F0.prototype;Y.Ba=function(){};Y.Aa=function(){};Y.za=function(){};Y.ya=function(){};Y.isActive=function(){return!0};Y.Va=function(){};function bl(){if(li&&!(10<=Number(Ok)))throw Error("Environmental error: no available transport.")}bl.prototype.g=function(t,e){return new on(t,e)};function on(t,e){vt.call(this),this.g=new C0(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!Ao(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Ao(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ci(this)}bt(on,vt);on.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Bt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=x0(t,null,t.Y),gu(t)};on.prototype.close=function(){ed(this.g)};on.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=qh(t),t=n);e.j.push(new iO(e.fb++,t)),e.H==3&&gu(e)};on.prototype.N=function(){this.g.h=null,delete this.j,ed(this.g),delete this.g,on.$.N.call(this)};function U0(t){Yh.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}bt(U0,Yh);function $0(){Xh.call(this),this.status=1}bt($0,Xh);function Ci(t){this.g=t}bt(Ci,F0);Ci.prototype.Ba=function(){It(this.g,"a")};Ci.prototype.Aa=function(t){It(this.g,new U0(t))};Ci.prototype.za=function(t){It(this.g,new $0)};Ci.prototype.ya=function(){It(this.g,"b")};function _O(){this.blockSize=-1}function yn(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}bt(yn,_O);yn.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function dc(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var s=0;16>s;++s)r[s]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(s=0;16>s;++s)r[s]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],s=t.g[2];var i=t.g[3],o=e+(i^n&(s^i))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[1]+3905402710&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[2]+606105819&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[3]+3250441966&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[5]+1200080426&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[6]+2821735955&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[7]+4249261313&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[9]+2336552879&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[10]+4294925233&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[11]+2304563134&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(i^n&(s^i))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=i+(s^e&(n^s))+r[13]+4254626195&4294967295,i=e+(o<<12&4294967295|o>>>20),o=s+(n^i&(e^n))+r[14]+2792965006&4294967295,s=i+(o<<17&4294967295|o>>>15),o=n+(e^s&(i^e))+r[15]+1236535329&4294967295,n=s+(o<<22&4294967295|o>>>10),o=e+(s^i&(n^s))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[6]+3225465664&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[11]+643717713&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[0]+3921069994&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[10]+38016083&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[15]+3634488961&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[4]+3889429448&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[14]+3275163606&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[3]+4107603335&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[8]+1163531501&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(s^i&(n^s))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=i+(n^s&(e^n))+r[2]+4243563512&4294967295,i=e+(o<<9&4294967295|o>>>23),o=s+(e^n&(i^e))+r[7]+1735328473&4294967295,s=i+(o<<14&4294967295|o>>>18),o=n+(i^e&(s^i))+r[12]+2368359562&4294967295,n=s+(o<<20&4294967295|o>>>12),o=e+(n^s^i)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[8]+2272392833&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[11]+1839030562&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[14]+4259657740&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[4]+1272893353&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[7]+4139469664&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[10]+3200236656&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[0]+3936430074&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[3]+3572445317&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[6]+76029189&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(n^s^i)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=i+(e^n^s)+r[12]+3873151461&4294967295,i=e+(o<<11&4294967295|o>>>21),o=s+(i^e^n)+r[15]+530742520&4294967295,s=i+(o<<16&4294967295|o>>>16),o=n+(s^i^e)+r[2]+3299628645&4294967295,n=s+(o<<23&4294967295|o>>>9),o=e+(s^(n|~i))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[7]+1126891415&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[14]+2878612391&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[5]+4237533241&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[3]+2399980690&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[10]+4293915773&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[1]+2240044497&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[15]+4264355552&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[6]+2734768916&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[13]+1309151649&4294967295,n=s+(o<<21&4294967295|o>>>11),o=e+(s^(n|~i))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=i+(n^(e|~s))+r[11]+3174756917&4294967295,i=e+(o<<10&4294967295|o>>>22),o=s+(e^(i|~n))+r[2]+718787259&4294967295,s=i+(o<<15&4294967295|o>>>17),o=n+(i^(s|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(s+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+s&4294967295,t.g[3]=t.g[3]+i&4294967295}yn.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,s=this.h,i=0;i<e;){if(s==0)for(;i<=n;)dc(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[s++]=t.charCodeAt(i++),s==this.blockSize){dc(this,r),s=0;break}}else for(;i<e;)if(r[s++]=t[i++],s==this.blockSize){dc(this,r),s=0;break}}this.h=s,this.i+=e};yn.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Ue(t,e){this.h=e;for(var n=[],r=!0,s=t.length-1;0<=s;s--){var i=t[s]|0;r&&i==e||(n[s]=i,r=!1)}this.g=n}var yO={};function rd(t){return-128<=t&&128>t?Sk(t,function(e){return new Ue([e|0],0>e?-1:0)}):new Ue([t|0],0>t?-1:0)}function Nn(t){if(isNaN(t)||!isFinite(t))return ti;if(0>t)return Et(Nn(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=uf;return new Ue(e,0)}function V0(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Et(V0(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Nn(Math.pow(e,8)),r=ti,s=0;s<t.length;s+=8){var i=Math.min(8,t.length-s),o=parseInt(t.substring(s,s+i),e);8>i?(i=Nn(Math.pow(e,i)),r=r.R(i).add(Nn(o))):(r=r.R(n),r=r.add(Nn(o)))}return r}var uf=4294967296,ti=rd(0),cf=rd(1),Lm=rd(16777216);Y=Ue.prototype;Y.ea=function(){if(un(this))return-Et(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:uf+r)*e,e*=uf}return t};Y.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(Xn(this))return"0";if(un(this))return"-"+Et(this).toString(t);for(var e=Nn(Math.pow(t,6)),n=this,r="";;){var s=El(n,e).g;n=wl(n,s.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=s,Xn(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};Y.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function Xn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function un(t){return t.h==-1}Y.X=function(t){return t=wl(this,t),un(t)?-1:Xn(t)?0:1};function Et(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ue(n,~t.h).add(cf)}Y.abs=function(){return un(this)?Et(this):this};Y.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,s=0;s<=e;s++){var i=r+(this.D(s)&65535)+(t.D(s)&65535),o=(i>>>16)+(this.D(s)>>>16)+(t.D(s)>>>16);r=o>>>16,i&=65535,o&=65535,n[s]=o<<16|i}return new Ue(n,n[n.length-1]&-2147483648?-1:0)};function wl(t,e){return t.add(Et(e))}Y.R=function(t){if(Xn(this)||Xn(t))return ti;if(un(this))return un(t)?Et(this).R(Et(t)):Et(Et(this).R(t));if(un(t))return Et(this.R(Et(t)));if(0>this.X(Lm)&&0>t.X(Lm))return Nn(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<t.g.length;s++){var i=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(s)>>>16,u=t.D(s)&65535;n[2*r+2*s]+=o*u,Ra(n,2*r+2*s),n[2*r+2*s+1]+=i*u,Ra(n,2*r+2*s+1),n[2*r+2*s+1]+=o*a,Ra(n,2*r+2*s+1),n[2*r+2*s+2]+=i*a,Ra(n,2*r+2*s+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ue(n,0)};function Ra(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Mi(t,e){this.g=t,this.h=e}function El(t,e){if(Xn(e))throw Error("division by zero");if(Xn(t))return new Mi(ti,ti);if(un(t))return e=El(Et(t),e),new Mi(Et(e.g),Et(e.h));if(un(e))return e=El(t,Et(e)),new Mi(Et(e.g),e.h);if(30<t.g.length){if(un(t)||un(e))throw Error("slowDivide_ only works with positive integers.");for(var n=cf,r=e;0>=r.X(t);)n=Dm(n),r=Dm(r);var s=$s(n,1),i=$s(r,1);for(r=$s(r,2),n=$s(n,2);!Xn(r);){var o=i.add(r);0>=o.X(t)&&(s=s.add(n),i=o),r=$s(r,1),n=$s(n,1)}return e=wl(t,s.R(e)),new Mi(s,e)}for(s=ti;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Nn(n),o=i.R(e);un(o)||0<o.X(t);)n-=r,i=Nn(n),o=i.R(e);Xn(i)&&(i=cf),s=s.add(i),t=wl(t,o)}return new Mi(s,t)}Y.gb=function(t){return El(this,t).h};Y.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ue(n,this.h&t.h)};Y.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ue(n,this.h|t.h)};Y.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ue(n,this.h^t.h)};function Dm(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ue(n,t.h)}function $s(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,s=[],i=0;i<r;i++)s[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new Ue(s,t.h)}bl.prototype.createWebChannel=bl.prototype.g;on.prototype.send=on.prototype.u;on.prototype.open=on.prototype.m;on.prototype.close=on.prototype.close;uu.NO_ERROR=0;uu.TIMEOUT=8;uu.HTTP_ERROR=6;s0.COMPLETE="complete";i0.EventType=ea;ea.OPEN="a";ea.CLOSE="b";ea.ERROR="c";ea.MESSAGE="d";vt.prototype.listen=vt.prototype.O;rt.prototype.listenOnce=rt.prototype.P;rt.prototype.getLastError=rt.prototype.Sa;rt.prototype.getLastErrorCode=rt.prototype.Ia;rt.prototype.getStatus=rt.prototype.da;rt.prototype.getResponseJson=rt.prototype.Wa;rt.prototype.getResponseText=rt.prototype.ja;rt.prototype.send=rt.prototype.ha;rt.prototype.setWithCredentials=rt.prototype.Oa;yn.prototype.digest=yn.prototype.l;yn.prototype.reset=yn.prototype.reset;yn.prototype.update=yn.prototype.j;Ue.prototype.add=Ue.prototype.add;Ue.prototype.multiply=Ue.prototype.R;Ue.prototype.modulo=Ue.prototype.gb;Ue.prototype.compare=Ue.prototype.X;Ue.prototype.toNumber=Ue.prototype.ea;Ue.prototype.toString=Ue.prototype.toString;Ue.prototype.getBits=Ue.prototype.D;Ue.fromNumber=Nn;Ue.fromString=V0;var vO=function(){return new bl},bO=function(){return lu()},pc=uu,wO=s0,EO=Rs,xm={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},TO=ra,Na=i0,IO=rt,AO=yn,ni=Ue;const Mm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ki="9.23.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=new Ih("@firebase/firestore");function Fm(){return Es.logLevel}function se(t,...e){if(Es.logLevel<=Le.DEBUG){const n=e.map(sd);Es.debug(`Firestore (${ki}): ${t}`,...n)}}function ir(t,...e){if(Es.logLevel<=Le.ERROR){const n=e.map(sd);Es.error(`Firestore (${ki}): ${t}`,...n)}}function ui(t,...e){if(Es.logLevel<=Le.WARN){const n=e.map(sd);Es.warn(`Firestore (${ki}): ${t}`,...n)}}function sd(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(t="Unexpected state"){const e=`FIRESTORE (${ki}) INTERNAL ASSERTION FAILED: `+t;throw ir(e),new Error(e)}function Ke(t,e){t||ye()}function Ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Vn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B0{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class CO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kO{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Jn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Jn,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},a=u=>{se("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?a(u):(se("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Jn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(se("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ke(typeof r.accessToken=="string"),new B0(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string"),new Ct(e)}}class OO{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class RO{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new OO(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PO{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=i=>{i.error!=null&&se("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.T;return this.T=i.token,se("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{se("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.I.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.I.getImmediate({optional:!0});i?s(i):se("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string"),this.T=n.token,new NO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j0{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=LO(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%e.length))}return r}}function De(t,e){return t<e?-1:t>e?1:0}function ci(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return mt.fromMillis(Date.now())}static fromDate(e){return mt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new mt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(e){this.timestamp=e}static fromTimestamp(e){return new we(e)}static min(){return new we(new mt(0,0))}static max(){return new we(new mt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(e,n,r){n===void 0?n=0:n>e.length&&ye(),r===void 0?r=e.length-n:r>e.length-n&&ye(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Lo.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lo?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=e.get(s),o=n.get(s);if(i<o)return-1;if(i>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class He extends Lo{construct(e,n,r){return new He(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new He(n)}static emptyPath(){return new He([])}}const DO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Rt extends Lo{construct(e,n,r){return new Rt(e,n,r)}static isValidIdentifier(e){return DO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Rt(["__name__"])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new K(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new K(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new K(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new K(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Rt(n)}static emptyPath(){return new Rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(e){this.path=e}static fromPath(e){return new ie(He.fromString(e))}static fromName(e){return new ie(He.fromString(e).popFirst(5))}static empty(){return new ie(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ie(new He(e.slice()))}}function xO(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=we.fromTimestamp(r===1e9?new mt(n+1,0):new mt(n,r));return new Ur(s,ie.empty(),e)}function MO(t){return new Ur(t.readTime,t.key,-1)}class Ur{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ur(we.min(),ie.empty(),-1)}static max(){return new Ur(we.max(),ie.empty(),-1)}}function FO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class $O{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oa(t){if(t.code!==M.FAILED_PRECONDITION||t.message!==UO)throw t;se("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ye(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function aa(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}id.ct=-1;function _u(t){return t==null}function Tl(t){return t===0&&1/t==-1/0}function VO(t){return typeof t=="number"&&Number.isInteger(t)&&!Tl(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Um(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ns(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function H0(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,n){this.comparator=e,this.root=n||wt.EMPTY}insert(e,n){return new et(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,wt.BLACK,null,null))}remove(e){return new et(this.comparator,this.root.remove(e,this.comparator).copy(null,null,wt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pa(this.root,e,this.comparator,!0)}}class Pa{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class wt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??wt.RED,this.left=s??wt.EMPTY,this.right=i??wt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new wt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return wt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return wt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,wt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,wt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ye();const e=this.left.check();if(e!==this.right.check())throw ye();return e+(this.isRed()?0:1)}}wt.EMPTY=null,wt.RED=!0,wt.BLACK=!1;wt.EMPTY=new class{constructor(){this.size=0}get key(){throw ye()}get value(){throw ye()}get color(){throw ye()}get left(){throw ye()}get right(){throw ye()}copy(t,e,n,r,s){return this}insert(t,e,n){return new wt(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new et(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $m(this.data.getIterator())}getIteratorFrom(e){return new $m(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class $m{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(Rt.comparator)}static empty(){return new nn([])}unionWith(e){let n=new xt(Rt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new nn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ci(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new q0("Invalid base64 string: "+s):s}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(r){let s="";for(let i=0;i<r.length;++i)s+=String.fromCharCode(r[i]);return s}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const BO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $r(t){if(Ke(!!t),typeof t=="string"){let e=0;const n=BO.exec(t);if(Ke(!!n),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:at(t.seconds),nanos:at(t.nanos)}}function at(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ts(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function od(t){const e=t.mapValue.fields.__previous_value__;return yu(e)?od(e):e}function Do(t){const e=$r(t.mapValue.fields.__local_write_time__.timestampValue);return new mt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,r,s,i,o,a,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=c}}class xo{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xo("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xo&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?yu(t)?4:HO(t)?9007199254740991:10:ye()}function $n(t,e){if(t===e)return!0;const n=Is(t);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Do(t).isEqual(Do(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const i=$r(r.timestampValue),o=$r(s.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Ts(r.bytesValue).isEqual(Ts(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return at(r.geoPointValue.latitude)===at(s.geoPointValue.latitude)&&at(r.geoPointValue.longitude)===at(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return at(r.integerValue)===at(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const i=at(r.doubleValue),o=at(s.doubleValue);return i===o?Tl(i)===Tl(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return ci(t.arrayValue.values||[],e.arrayValue.values||[],$n);case 10:return function(r,s){const i=r.mapValue.fields||{},o=s.mapValue.fields||{};if(Um(i)!==Um(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!$n(i[a],o[a])))return!1;return!0}(t,e);default:return ye()}}function Mo(t,e){return(t.values||[]).find(n=>$n(n,e))!==void 0}function fi(t,e){if(t===e)return 0;const n=Is(t),r=Is(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(s,i){const o=at(s.integerValue||s.doubleValue),a=at(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Vm(t.timestampValue,e.timestampValue);case 4:return Vm(Do(t),Do(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(s,i){const o=Ts(s),a=Ts(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(s,i){const o=s.split("/"),a=i.split("/");for(let u=0;u<o.length&&u<a.length;u++){const c=De(o[u],a[u]);if(c!==0)return c}return De(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,i){const o=De(at(s.latitude),at(i.latitude));return o!==0?o:De(at(s.longitude),at(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,i){const o=s.values||[],a=i.values||[];for(let u=0;u<o.length&&u<a.length;++u){const c=fi(o[u],a[u]);if(c)return c}return De(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,i){if(s===La.mapValue&&i===La.mapValue)return 0;if(s===La.mapValue)return 1;if(i===La.mapValue)return-1;const o=s.fields||{},a=Object.keys(o),u=i.fields||{},c=Object.keys(u);a.sort(),c.sort();for(let h=0;h<a.length&&h<c.length;++h){const l=De(a[h],c[h]);if(l!==0)return l;const f=fi(o[a[h]],u[c[h]]);if(f!==0)return f}return De(a.length,c.length)}(t.mapValue,e.mapValue);default:throw ye()}}function Vm(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);const n=$r(t),r=$r(e),s=De(n.seconds,r.seconds);return s!==0?s:De(n.nanos,r.nanos)}function hi(t){return ff(t)}function ff(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const s=$r(r);return`time(${s.seconds},${s.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?Ts(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,ie.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(r){let s="[",i=!0;for(const o of r.values||[])i?i=!1:s+=",",s+=ff(o);return s+"]"}(t.arrayValue):"mapValue"in t?function(r){const s=Object.keys(r.fields||{}).sort();let i="{",o=!0;for(const a of s)o?o=!1:i+=",",i+=`${a}:${ff(r.fields[a])}`;return i+"}"}(t.mapValue):ye();var e,n}function Il(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function hf(t){return!!t&&"integerValue"in t}function ad(t){return!!t&&"arrayValue"in t}function Bm(t){return!!t&&"nullValue"in t}function jm(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ya(t){return!!t&&"mapValue"in t}function so(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ns(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=so(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=so(t.arrayValue.values[n]);return e}return Object.assign({},t)}function HO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e){this.value=e}static empty(){return new zt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Ya(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=so(n)}setAll(e){let n=Rt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=so(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Ya(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return $n(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Ya(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Ns(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zt(so(this.value))}}function W0(t){const e=[];return Ns(t.fields,(n,r)=>{const s=new Rt([n]);if(Ya(r)){const i=W0(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new kt(e,0,we.min(),we.min(),we.min(),zt.empty(),0)}static newFoundDocument(e,n,r,s){return new kt(e,1,n,we.min(),r,s,0)}static newNoDocument(e,n){return new kt(e,2,n,we.min(),we.min(),zt.empty(),0)}static newUnknownDocument(e,n){return new kt(e,3,n,we.min(),we.min(),zt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){this.position=e,this.inclusive=n}}function Hm(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ie.comparator(ie.fromName(o.referenceValue),n.key):r=fi(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function qm(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!$n(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n="asc"){this.field=e,this.dir=n}}function qO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{}class ut extends G0{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new GO(e,n,r):n==="array-contains"?new YO(e,r):n==="in"?new XO(e,r):n==="not-in"?new QO(e,r):n==="array-contains-any"?new JO(e,r):new ut(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new KO(e,r):new zO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(fi(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(fi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ye()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class vn extends G0{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new vn(e,n)}matches(e){return K0(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function K0(t){return t.op==="and"}function z0(t){return WO(t)&&K0(t)}function WO(t){for(const e of t.filters)if(e instanceof vn)return!1;return!0}function df(t){if(t instanceof ut)return t.field.canonicalString()+t.op.toString()+hi(t.value);if(z0(t))return t.filters.map(e=>df(e)).join(",");{const e=t.filters.map(n=>df(n)).join(",");return`${t.op}(${e})`}}function Y0(t,e){return t instanceof ut?function(n,r){return r instanceof ut&&n.op===r.op&&n.field.isEqual(r.field)&&$n(n.value,r.value)}(t,e):t instanceof vn?function(n,r){return r instanceof vn&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((s,i,o)=>s&&Y0(i,r.filters[o]),!0):!1}(t,e):void ye()}function X0(t){return t instanceof ut?function(e){return`${e.field.canonicalString()} ${e.op} ${hi(e.value)}`}(t):t instanceof vn?function(e){return e.op.toString()+" {"+e.getFilters().map(X0).join(" ,")+"}"}(t):"Filter"}class GO extends ut{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){const n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}}class KO extends ut{constructor(e,n){super(e,"in",n),this.keys=Q0("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zO extends ut{constructor(e,n){super(e,"not-in",n),this.keys=Q0("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Q0(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}class YO extends ut{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ad(n)&&Mo(n.arrayValue,this.value)}}class XO extends ut{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mo(this.value.arrayValue,n)}}class QO extends ut{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Mo(this.value.arrayValue,n)}}class JO extends ut{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ad(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mo(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZO{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.dt=null}}function Wm(t,e=null,n=[],r=[],s=null,i=null,o=null){return new ZO(t,e,n,r,s,i,o)}function ld(t){const e=Ie(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>df(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_u(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hi(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hi(r)).join(",")),e.dt=n}return e.dt}function ud(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!qO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Y0(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qm(t.startAt,e.startAt)&&qm(t.endAt,e.endAt)}function pf(t){return ie.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ps{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=u,this.wt=null,this._t=null,this.startAt,this.endAt}}function eR(t,e,n,r,s,i,o,a){return new Ps(t,e,n,r,s,i,o,a)}function cd(t){return new Ps(t)}function Gm(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function fd(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function vu(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function hd(t){return t.collectionGroup!==null}function gs(t){const e=Ie(t);if(e.wt===null){e.wt=[];const n=vu(e),r=fd(e);if(n!==null&&r===null)n.isKeyField()||e.wt.push(new ri(n)),e.wt.push(new ri(Rt.keyField(),"asc"));else{let s=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(s=!0);if(!s){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new ri(Rt.keyField(),i))}}}return e.wt}function or(t){const e=Ie(t);if(!e._t)if(e.limitType==="F")e._t=Wm(e.path,e.collectionGroup,gs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const i of gs(e)){const o=i.dir==="desc"?"asc":"desc";n.push(new ri(i.field,o))}const r=e.endAt?new di(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new di(e.startAt.position,e.startAt.inclusive):null;e._t=Wm(e.path,e.collectionGroup,n,e.filters,e.limit,r,s)}return e._t}function mf(t,e){e.getFirstInequalityField(),vu(t);const n=t.filters.concat([e]);return new Ps(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Al(t,e,n){return new Ps(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function bu(t,e){return ud(or(t),or(e))&&t.limitType===e.limitType}function J0(t){return`${ld(or(t))}|lt:${t.limitType}`}function gf(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(r=>X0(r)).join(", ")}]`),_u(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(r=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(r)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>hi(r)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>hi(r)).join(",")),`Target(${n})`}(or(t))}; limitType=${t.limitType})`}function wu(t,e){return e.isFoundDocument()&&function(n,r){const s=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):ie.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,r){for(const s of gs(n))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,r){for(const s of n.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(n,r){return!(n.startAt&&!function(s,i,o){const a=Hm(s,i,o);return s.inclusive?a<=0:a<0}(n.startAt,gs(n),r)||n.endAt&&!function(s,i,o){const a=Hm(s,i,o);return s.inclusive?a>=0:a>0}(n.endAt,gs(n),r))}(t,e)}function tR(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Z0(t){return(e,n)=>{let r=!1;for(const s of gs(t)){const i=nR(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function nR(t,e,n){const r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(s,i,o){const a=i.data.field(s),u=o.data.field(s);return a!==null&&u!==null?fi(a,u):ye()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ye()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Ns(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return H0(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rR=new et(ie.comparator);function ar(){return rR}const eb=new et(ie.comparator);function Yi(...t){let e=eb;for(const n of t)e=e.insert(n.key,n);return e}function tb(t){let e=eb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function us(){return io()}function nb(){return io()}function io(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const sR=new et(ie.comparator),iR=new xt(ie.comparator);function ke(...t){let e=iR;for(const n of t)e=e.add(n);return e}const oR=new xt(De);function aR(){return oR}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tl(e)?"-0":e}}function sb(t){return{integerValue:""+t}}function lR(t,e){return VO(e)?sb(e):rb(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eu{constructor(){this._=void 0}}function uR(t,e,n){return t instanceof Sl?function(r,s){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&yu(s)&&(s=od(s)),s&&(i.fields.__previous_value__=s),{mapValue:i}}(n,e):t instanceof Fo?ob(t,e):t instanceof Uo?ab(t,e):function(r,s){const i=ib(r,s),o=Km(i)+Km(r.gt);return hf(i)&&hf(r.gt)?sb(o):rb(r.serializer,o)}(t,e)}function cR(t,e,n){return t instanceof Fo?ob(t,e):t instanceof Uo?ab(t,e):n}function ib(t,e){return t instanceof Cl?hf(n=e)||function(r){return!!r&&"doubleValue"in r}(n)?e:{integerValue:0}:null;var n}class Sl extends Eu{}class Fo extends Eu{constructor(e){super(),this.elements=e}}function ob(t,e){const n=lb(e);for(const r of t.elements)n.some(s=>$n(s,r))||n.push(r);return{arrayValue:{values:n}}}class Uo extends Eu{constructor(e){super(),this.elements=e}}function ab(t,e){let n=lb(e);for(const r of t.elements)n=n.filter(s=>!$n(s,r));return{arrayValue:{values:n}}}class Cl extends Eu{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Km(t){return at(t.integerValue||t.doubleValue)}function lb(t){return ad(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function fR(t,e){return t.field.isEqual(e.field)&&function(n,r){return n instanceof Fo&&r instanceof Fo||n instanceof Uo&&r instanceof Uo?ci(n.elements,r.elements,$n):n instanceof Cl&&r instanceof Cl?$n(n.gt,r.gt):n instanceof Sl&&r instanceof Sl}(t.transform,e.transform)}class hR{constructor(e,n){this.version=e,this.transformResults=n}}class fn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new fn}static exists(e){return new fn(void 0,e)}static updateTime(e){return new fn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Xa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Tu{}function ub(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new dd(t.key,fn.none()):new la(t.key,t.data,fn.none());{const n=t.data,r=zt.empty();let s=new xt(Rt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Wr(t.key,r,new nn(s.toArray()),fn.none())}}function dR(t,e,n){t instanceof la?function(r,s,i){const o=r.value.clone(),a=Ym(r.fieldTransforms,s,i.transformResults);o.setAll(a),s.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Wr?function(r,s,i){if(!Xa(r.precondition,s))return void s.convertToUnknownDocument(i.version);const o=Ym(r.fieldTransforms,s,i.transformResults),a=s.data;a.setAll(cb(r)),a.setAll(o),s.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,n):function(r,s,i){s.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,n)}function oo(t,e,n,r){return t instanceof la?function(s,i,o,a){if(!Xa(s.precondition,i))return o;const u=s.value.clone(),c=Xm(s.fieldTransforms,a,i);return u.setAll(c),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Wr?function(s,i,o,a){if(!Xa(s.precondition,i))return o;const u=Xm(s.fieldTransforms,a,i),c=i.data;return c.setAll(cb(s)),c.setAll(u),i.convertToFoundDocument(i.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,i,o){return Xa(s.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,n)}function pR(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=ib(r.transform,s||null);i!=null&&(n===null&&(n=zt.empty()),n.set(r.field,i))}return n||null}function zm(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&ci(n,r,(s,i)=>fR(s,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class la extends Tu{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Wr extends Tu{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function cb(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Ym(t,e,n){const r=new Map;Ke(t.length===n.length);for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,cR(o,a,n[s]))}return r}function Xm(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,uR(i,o,e))}return r}class dd extends Tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mR extends Tu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gR{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&dR(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=oo(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=oo(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=nb();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const u=ub(o,a);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(we.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&ci(this.mutations,e.mutations,(n,r)=>zm(n,r))&&ci(this.baseMutations,e.baseMutations,(n,r)=>zm(n,r))}}class pd{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ke(e.mutations.length===r.length);let s=sR;const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new pd(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _R{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot,Oe;function vR(t){switch(t){default:return ye();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function fb(t){if(t===void 0)return ir("GRPC error has no .code"),M.UNKNOWN;switch(t){case ot.OK:return M.OK;case ot.CANCELLED:return M.CANCELLED;case ot.UNKNOWN:return M.UNKNOWN;case ot.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case ot.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case ot.INTERNAL:return M.INTERNAL;case ot.UNAVAILABLE:return M.UNAVAILABLE;case ot.UNAUTHENTICATED:return M.UNAUTHENTICATED;case ot.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case ot.NOT_FOUND:return M.NOT_FOUND;case ot.ALREADY_EXISTS:return M.ALREADY_EXISTS;case ot.PERMISSION_DENIED:return M.PERMISSION_DENIED;case ot.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case ot.ABORTED:return M.ABORTED;case ot.OUT_OF_RANGE:return M.OUT_OF_RANGE;case ot.UNIMPLEMENTED:return M.UNIMPLEMENTED;case ot.DATA_LOSS:return M.DATA_LOSS;default:return ye()}}(Oe=ot||(ot={}))[Oe.OK=0]="OK",Oe[Oe.CANCELLED=1]="CANCELLED",Oe[Oe.UNKNOWN=2]="UNKNOWN",Oe[Oe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Oe[Oe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Oe[Oe.NOT_FOUND=5]="NOT_FOUND",Oe[Oe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Oe[Oe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Oe[Oe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Oe[Oe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Oe[Oe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Oe[Oe.ABORTED=10]="ABORTED",Oe[Oe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Oe[Oe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Oe[Oe.INTERNAL=13]="INTERNAL",Oe[Oe.UNAVAILABLE=14]="UNAVAILABLE",Oe[Oe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Da}static getOrCreateInstance(){return Da===null&&(Da=new md),Da}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let Da=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wR=new ni([4294967295,4294967295],0);function Qm(t){const e=bR().encode(t),n=new AO;return n.update(e),new Uint8Array(n.digest())}function Jm(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new ni([n,r],0),new ni([s,i],0)]}class gd{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Xi(`Invalid padding: ${n}`);if(r<0)throw new Xi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Xi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Xi(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=ni.fromNumber(this.It)}Et(e,n,r){let s=e.add(n.multiply(ni.fromNumber(r)));return s.compare(wR)===1&&(s=new ni([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Qm(e),[r,s]=Jm(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);if(!this.At(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new gd(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.It===0)return;const n=Qm(e),[r,s]=Jm(n);for(let i=0;i<this.hashCount;i++){const o=this.Et(r,s,i);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Xi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,ua.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Iu(we.min(),s,new et(De),ar(),ke())}}class ua{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ua(r,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e,n,r,s){this.Pt=e,this.removedTargetIds=n,this.key=r,this.bt=s}}class hb{constructor(e,n){this.targetId=e,this.Vt=n}}class db{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Zm{constructor(){this.St=0,this.Dt=tg(),this.Ct=Ft.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=ke(),n=ke(),r=ke();return this.Dt.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:ye()}}),new ua(this.Ct,this.xt,e,n,r)}Ft(){this.Nt=!1,this.Dt=tg()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class ER{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ar(),this.zt=eg(),this.Wt=new et(De)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const r=this.Zt(n);switch(e.state){case 0:this.te(n)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(e.resumeToken));break;default:ye()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((r,s)=>{this.te(s)&&n(s)})}ne(e){var n;const r=e.targetId,s=e.Vt.count,i=this.se(r);if(i){const o=i.target;if(pf(o))if(s===0){const a=new ie(o.path);this.Yt(r,a,kt.newNoDocument(a,we.min()))}else Ke(s===1);else{const a=this.ie(r);if(a!==s){const u=this.re(e,a);if(u!==0){this.ee(r);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,c)}(n=md.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,h,l){var f,d,p,y,v,m;const w={localCacheCount:h,existenceFilterCount:l.count},S=l.unchangedNames;return S&&(w.bloomFilter={applied:c===0,hashCount:(f=S==null?void 0:S.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(y=(p=(d=S==null?void 0:S.bits)===null||d===void 0?void 0:d.bitmap)===null||p===void 0?void 0:p.length)!==null&&y!==void 0?y:0,padding:(m=(v=S==null?void 0:S.bits)===null||v===void 0?void 0:v.padding)!==null&&m!==void 0?m:0}),w}(u,a,e.Vt))}}}}re(e,n){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:i="",padding:o=0},hashCount:a=0}=r;let u,c;try{u=Ts(i).toUint8Array()}catch(h){if(h instanceof q0)return ui("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw h}try{c=new gd(u,o,a)}catch(h){return ui(h instanceof Xi?"BloomFilter error: ":"Applying bloom filter failed: ",h),1}return c.It===0?1:s!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(i=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;n.vt(a)||(this.Yt(e,i,null),s++)}),s}ce(e){const n=new Map;this.Qt.forEach((i,o)=>{const a=this.se(o);if(a){if(i.current&&pf(a.target)){const u=new ie(a.target.path);this.jt.get(u)!==null||this.ae(o,u)||this.Yt(o,u,kt.newNoDocument(u,e))}i.Mt&&(n.set(o,i.Ot()),i.Ft())}});let r=ke();this.zt.forEach((i,o)=>{let a=!0;o.forEachWhile(u=>{const c=this.se(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.jt.forEach((i,o)=>o.setReadTime(e));const s=new Iu(e,n,this.Wt,this.jt,r);return this.jt=ar(),this.zt=eg(),this.Wt=new et(De),s}Jt(e,n){if(!this.te(e))return;const r=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,n)?s.Bt(n,1):s.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new Zm,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new xt(De),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||se("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new Zm),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function eg(){return new et(ie.comparator)}function tg(){return new et(ie.comparator)}const TR=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),IR=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),AR=(()=>({and:"AND",or:"OR"}))();class SR{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _f(t,e){return t.useProto3Json||_u(e)?e:{value:e}}function kl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function pb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function CR(t,e){return kl(t,e.toTimestamp())}function Mn(t){return Ke(!!t),we.fromTimestamp(function(e){const n=$r(e);return new mt(n.seconds,n.nanos)}(t))}function _d(t,e){return function(n){return new He(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function mb(t){const e=He.fromString(t);return Ke(vb(e)),e}function yf(t,e){return _d(t.databaseId,e.path)}function mc(t,e){const n=mb(e);if(n.get(1)!==t.databaseId.projectId)throw new K(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ie(gb(n))}function vf(t,e){return _d(t.databaseId,e)}function kR(t){const e=mb(t);return e.length===4?He.emptyPath():gb(e)}function bf(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function gb(t){return Ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function ng(t,e,n){return{name:yf(t,e),fields:n.value.mapValue.fields}}function OR(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ye()}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(u,c){return u.useProto3Json?(Ke(c===void 0||typeof c=="string"),Ft.fromBase64String(c||"")):(Ke(c===void 0||c instanceof Uint8Array),Ft.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?M.UNKNOWN:fb(u.code);return new K(c,u.message||"")}(o);n=new db(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mc(t,r.document.name),i=Mn(r.document.updateTime),o=r.document.createTime?Mn(r.document.createTime):we.min(),a=new zt({mapValue:{fields:r.document.fields}}),u=kt.newFoundDocument(s,i,o,a),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Qa(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mc(t,r.document),i=r.readTime?Mn(r.readTime):we.min(),o=kt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Qa([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mc(t,r.document),i=r.removedTargetIds||[];n=new Qa([],i,s,null)}else{if(!("filter"in e))return ye();{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new yR(s,i),a=r.targetId;n=new hb(a,o)}}return n}function RR(t,e){let n;if(e instanceof la)n={update:ng(t,e.key,e.value)};else if(e instanceof dd)n={delete:yf(t,e.key)};else if(e instanceof Wr)n={update:ng(t,e.key,e.data),updateMask:$R(e.fieldMask)};else{if(!(e instanceof mR))return ye();n={verify:yf(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,i){const o=i.transform;if(o instanceof Sl)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Fo)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Uo)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Cl)return{fieldPath:i.field.canonicalString(),increment:o.gt};throw ye()}(0,r))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:CR(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ye()}(t,e.precondition)),n}function NR(t,e){return t&&t.length>0?(Ke(e!==void 0),t.map(n=>function(r,s){let i=r.updateTime?Mn(r.updateTime):Mn(s);return i.isEqual(we.min())&&(i=Mn(s)),new hR(i,r.transformResults||[])}(n,e))):[]}function PR(t,e){return{documents:[vf(t,e.path)]}}function LR(t,e){const n={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(n.parent=vf(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=vf(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(u){if(u.length!==0)return yb(vn.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const i=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Bs(h.field),direction:MR(h.dir)}}(c))}(e.orderBy);i&&(n.structuredQuery.orderBy=i);const o=_f(t,e.limit);var a;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),n}function DR(t){let e=kR(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ke(r===1);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(h){const l=_b(h);return l instanceof vn&&z0(l)?l.getFilters():[l]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(h=>function(l){return new ri(js(l.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(l.direction))}(h)));let a=null;n.limit&&(a=function(h){let l;return l=typeof h=="object"?h.value:h,_u(l)?null:l}(n.limit));let u=null;n.startAt&&(u=function(h){const l=!!h.before,f=h.values||[];return new di(f,l)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const l=!h.before,f=h.values||[];return new di(f,l)}(n.endAt)),eR(e,s,o,i,a,"F",u,c)}function xR(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function _b(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=js(e.unaryFilter.field);return ut.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=js(e.unaryFilter.field);return ut.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=js(e.unaryFilter.field);return ut.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=js(e.unaryFilter.field);return ut.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ye()}}(t):t.fieldFilter!==void 0?function(e){return ut.create(js(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ye()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return vn.create(e.compositeFilter.filters.map(n=>_b(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ye()}}(e.compositeFilter.op))}(t):ye()}function MR(t){return TR[t]}function FR(t){return IR[t]}function UR(t){return AR[t]}function Bs(t){return{fieldPath:t.canonicalString()}}function js(t){return Rt.fromServerFormat(t.fieldPath)}function yb(t){return t instanceof ut?function(e){if(e.op==="=="){if(jm(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NAN"}};if(Bm(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jm(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NOT_NAN"}};if(Bm(e.value))return{unaryFilter:{field:Bs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bs(e.field),op:FR(e.op),value:e.value}}}(t):t instanceof vn?function(e){const n=e.getFilters().map(r=>yb(r));return n.length===1?n[0]:{compositeFilter:{op:UR(e.op),filters:n}}}(t):ye()}function $R(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function vb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,r,s,i=we.min(),o=we.min(),a=Ft.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new Cr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Cr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e){this.fe=e}}function BR(t){const e=DR({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Al(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.rn=new HR}addToCollectionParentIndex(e,n){return this.rn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ur.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ur.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class HR{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new xt(He.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xt(He.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new pi(0)}static Mn(){return new pi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,kt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WR{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&oo(r.mutation,s,nn.empty(),mt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ke()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ke()){const s=us();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Yi();return i.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=us();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ke()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ar();const o=io(),a=io();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Wr)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),oo(h.mutation,c,h.mutation.getFieldMask(),mt.now())):o.set(c.key,nn.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var l;return a.set(c,new WR(h,(l=o.get(c))!==null&&l!==void 0?l:null))}),a))}recalculateAndSaveOverlays(e,n){const r=io();let s=new et((o,a)=>o-a),i=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||nn.empty();h=a.applyToLocalView(c,h),r.set(u,h);const l=(s.get(a.batchId)||ke()).add(u);s=s.insert(a.batchId,l)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const u=a.getNext(),c=u.key,h=u.value,l=nb();h.forEach(f=>{if(!i.has(f)){const d=ub(n.get(f),r.get(f));d!==null&&l.set(f,d),i=i.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,l))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):hd(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r):this.getDocumentsMatchingCollectionQuery(e,n,r)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(us());let a=-1,u=i;return o.next(c=>H.forEach(c,(h,l)=>(a<l.largestBatchId&&(a=l.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{u=u.insert(h,f)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,ke())).next(h=>({batchId:a,changes:tb(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let s=Yi();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r){const s=n.collectionGroup;let i=Yi();return this.indexManager.getCollectionParents(e,s).next(o=>H.forEach(o,a=>{const u=function(c,h){return new Ps(h,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,a.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r).next(c=>{c.forEach((h,l)=>{i=i.insert(h,l)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,n,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(i=>(s=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s))).next(i=>{s.forEach((a,u)=>{const c=u.getKey();i.get(c)===null&&(i=i.insert(c,kt.newInvalidDocument(c)))});let o=Yi();return i.forEach((a,u)=>{const c=s.get(a);c!==void 0&&oo(c.mutation,u,nn.empty(),mt.now()),wu(n,u)&&(o=o.insert(a,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return H.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:Mn(r.createTime)}),H.resolve()}getNamedQuery(e,n){return H.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(r){return{name:r.name,query:BR(r.bundledQuery),readTime:Mn(r.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zR{constructor(){this.overlays=new et(ie.comparator),this.ls=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=us();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.we(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.ls.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.ls.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=us(),i=n.length+1,o=new ie(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const u=a.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new et((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=us(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const a=us(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>a.set(c,h)),!(a.size()>=s)););return H.resolve(a)}we(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new _R(n,r));let i=this.ls.get(n);i===void 0&&(i=ke(),this.ls.set(n,i)),this.ls.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(){this.fs=new xt(_t.ds),this.ws=new xt(_t._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const r=new _t(e,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.ys(new _t(e,n))}ps(e,n){e.forEach(r=>this.removeReference(r,n))}Is(e){const n=new ie(new He([])),r=new _t(n,e),s=new _t(n,e+1),i=[];return this.ws.forEachInRange([r,s],o=>{this.ys(o),i.push(o.key)}),i}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new ie(new He([])),r=new _t(n,e),s=new _t(n,e+1);let i=ke();return this.ws.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new _t(e,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class _t{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return ie.comparator(e.key,n.key)||De(e.As,n.As)}static _s(e,n){return De(e.As,n.As)||ie.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new xt(_t.ds)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new gR(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Rs=this.Rs.add(new _t(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.bs(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new _t(n,0),s=new _t(n,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([r,s],o=>{const a=this.Ps(o.As);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(De);return n.forEach(s=>{const i=new _t(s,0),o=new _t(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([i,o],a=>{r=r.add(a.As)})}),H.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ie.isDocumentKey(i)||(i=i.child(""));const o=new _t(new ie(i),0);let a=new xt(De);return this.Rs.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(a=a.add(u.As)),!0)},o),H.resolve(this.Vs(a))}Vs(e){const n=[];return e.forEach(r=>{const s=this.Ps(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ke(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return H.forEach(n.mutations,s=>{const i=new _t(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,n){const r=new _t(n,0),s=this.Rs.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.Ds=e,this.docs=new et(ie.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():kt.newInvalidDocument(n))}getEntries(e,n){let r=ar();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():kt.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ar();const o=n.path,a=new ie(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||FO(MO(h),r)<=0||(s.has(h.key)||wu(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){ye()}Cs(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new QR(this)}getSize(e){return H.resolve(this.size)}}class QR extends qR{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e){this.persistence=e,this.xs=new Oi(n=>ld(n),ud),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.Ns=0,this.ks=new yd,this.targetCount=0,this.Ms=pi.kn()}forEachTarget(e,n){return this.xs.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),H.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new pi(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Fn(n),H.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.xs.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.ks.gs(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.ks.ps(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ks.Es(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(e,n){this.$s={},this.overlays={},this.Os=new id(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new JR(this),this.indexManager=new jR,this.remoteDocumentCache=function(r){return new XR(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new VR(n),this.qs=new KR(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zR,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.$s[e.toKey()];return r||(r=new YR(n,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,r){se("MemoryPersistence","Starting transaction:",e);const s=new eN(this.Os.next());return this.referenceDelegate.Us(),r(s).next(i=>this.referenceDelegate.Ks(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Gs(e,n){return H.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,n)))}}class eN extends $O{constructor(e){super(),this.currentSequenceNumber=e}}class vd{constructor(e){this.persistence=e,this.Qs=new yd,this.js=null}static zs(e){return new vd(e)}get Ws(){if(this.js)return this.js;throw ye()}addReference(e,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),H.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.Ws.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Ws,r=>{const s=ie.fromPath(r);return this.Hs(e,s).next(i=>{i||n.removeEntry(s,we.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return H.or([()=>H.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bd{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Fi=r,this.Bi=s}static Li(e,n){let r=ke(),s=ke();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new bd(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,r,s){return this.Ki(e,n).next(i=>i||this.Gi(e,n,s,r)).next(i=>i||this.Qi(e,n))}Ki(e,n){if(Gm(n))return H.resolve(null);let r=or(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=Al(n,null,"F"),r=or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=ke(...i);return this.Ui.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ji(n,a);return this.zi(n,c,o,u.readTime)?this.Ki(e,Al(n,null,"F")):this.Wi(e,c,n,u)}))})))}Gi(e,n,r,s){return Gm(n)||s.isEqual(we.min())?this.Qi(e,n):this.Ui.getDocuments(e,r).next(i=>{const o=this.ji(n,i);return this.zi(n,o,r,s)?this.Qi(e,n):(Fm()<=Le.DEBUG&&se("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),gf(n)),this.Wi(e,o,n,xO(s,-1)))})}ji(e,n){let r=new xt(Z0(e));return n.forEach((s,i)=>{wu(e,i)&&(r=r.add(i))}),r}zi(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}Qi(e,n){return Fm()<=Le.DEBUG&&se("QueryEngine","Using full collection scan to execute query:",gf(n)),this.Ui.getDocumentsMatchingQuery(e,n,Ur.min())}Wi(e,n,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n,r,s){this.persistence=e,this.Hi=n,this.serializer=s,this.Ji=new et(De),this.Yi=new Oi(i=>ld(i),ud),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GR(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function rN(t,e,n,r){return new nN(t,e,n,r)}async function bb(t,e){const n=Ie(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.tr(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let u=ke();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){a.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({er:c,removedBatchIds:o,addedBatchIds:a}))})})}function sN(t,e){const n=Ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,u,c){const h=u.batch,l=h.keys();let f=H.resolve();return l.forEach(d=>{f=f.next(()=>c.getEntry(a,d)).next(p=>{const y=u.docVersions.get(d);Ke(y!==null),p.version.compareTo(y)<0&&(h.applyToRemoteDocument(p,u),p.isValidDocument()&&(p.setReadTime(u.commitVersion),c.addEntry(p)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,h))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=ke();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(a=a.add(o.batch.mutations[u].key));return a}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function wb(t){const e=Ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function iN(t,e){const n=Ie(t),r=e.snapshotVersion;let s=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});s=n.Ji;const a=[];e.targetChanges.forEach((h,l)=>{const f=s.get(l);if(!f)return;a.push(n.Bs.removeMatchingKeys(i,h.removedDocuments,l).next(()=>n.Bs.addMatchingKeys(i,h.addedDocuments,l)));let d=f.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(l)!==null?d=d.withResumeToken(Ft.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):h.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(h.resumeToken,r)),s=s.insert(l,d),function(p,y,v){return p.resumeToken.approximateByteSize()===0||y.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:v.addedDocuments.size+v.modifiedDocuments.size+v.removedDocuments.size>0}(f,d,h)&&a.push(n.Bs.updateTargetData(i,d))});let u=ar(),c=ke();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(oN(i,o,e.documentUpdates).next(h=>{u=h.nr,c=h.sr})),!r.isEqual(we.min())){const h=n.Bs.getLastRemoteSnapshotVersion(i).next(l=>n.Bs.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ji=s,i))}function oN(t,e,n){let r=ke(),s=ke();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ar();return n.forEach((a,u)=>{const c=i.get(a);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(a)),u.isNoDocument()&&u.version.isEqual(we.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):se("LocalStore","Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",u.version)}),{nr:o,sr:s}})}function aN(t,e){const n=Ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function lN(t,e){const n=Ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.Bs.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.Bs.allocateTargetId(r).next(o=>(s=new Cr(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ji.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(e,r.targetId)),r})}async function wf(t,e,n){const r=Ie(t),s=r.Ji.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!aa(o))throw o;se("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}function rg(t,e,n){const r=Ie(t);let s=we.min(),i=ke();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,u,c){const h=Ie(a),l=h.Yi.get(c);return l!==void 0?H.resolve(h.Ji.get(l)):h.Bs.getTargetData(u,c)}(r,o,or(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(u=>{i=u})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,e,n?s:we.min(),n?i:ke())).next(a=>(uN(r,tR(e),a),{documents:a,ir:i})))}function uN(t,e,n){let r=t.Xi.get(e)||we.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Xi.set(e,r)}class sg{constructor(){this.activeTargetIds=aR()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cN{constructor(){this.Hr=new sg,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,r){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new sg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fN{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){se("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){se("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa=null;function gc(){return xa===null?xa=268435456+Math.round(2147483648*Math.random()):xa++,"0x"+xa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const St="WebChannelConnection";class pN extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,r,s,i){const o=gc(),a=this.To(e,n);se("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);const u={};return this.Eo(u,s,i),this.Ao(e,a,u,r).then(c=>(se("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ui("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",a,"request:",r),c})}vo(e,n,r,s,i,o){return this.Io(e,n,r,s,i)}Eo(e,n,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+ki,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}To(e,n){const r=hN[e];return`${this.mo}/v1/${n}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,r,s){const i=gc();return new Promise((o,a)=>{const u=new IO;u.setWithCredentials(!0),u.listenOnce(wO.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case pc.NO_ERROR:const h=u.getResponseJson();se(St,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case pc.TIMEOUT:se(St,`RPC '${e}' ${i} timed out`),a(new K(M.DEADLINE_EXCEEDED,"Request time out"));break;case pc.HTTP_ERROR:const l=u.getStatus();if(se(St,`RPC '${e}' ${i} failed with status:`,l,"response text:",u.getResponseText()),l>0){let f=u.getResponseJson();Array.isArray(f)&&(f=f[0]);const d=f==null?void 0:f.error;if(d&&d.status&&d.message){const p=function(y){const v=y.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(v)>=0?v:M.UNKNOWN}(d.status);a(new K(p,d.message))}else a(new K(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new K(M.UNAVAILABLE,"Connection failed."));break;default:ye()}}finally{se(St,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);se(St,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}Ro(e,n,r){const s=gc(),i=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=vO(),a=bO(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.xmlHttpFactory=new TO({})),this.Eo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");se(St,`Creating RPC '${e}' stream ${s}: ${h}`,u);const l=o.createWebChannel(h,u);let f=!1,d=!1;const p=new dN({ro:v=>{d?se(St,`Not sending because RPC '${e}' stream ${s} is closed:`,v):(f||(se(St,`Opening RPC '${e}' stream ${s} transport.`),l.open(),f=!0),se(St,`RPC '${e}' stream ${s} sending:`,v),l.send(v))},oo:()=>l.close()}),y=(v,m,w)=>{v.listen(m,S=>{try{w(S)}catch(E){setTimeout(()=>{throw E},0)}})};return y(l,Na.EventType.OPEN,()=>{d||se(St,`RPC '${e}' stream ${s} transport opened.`)}),y(l,Na.EventType.CLOSE,()=>{d||(d=!0,se(St,`RPC '${e}' stream ${s} transport closed`),p.wo())}),y(l,Na.EventType.ERROR,v=>{d||(d=!0,ui(St,`RPC '${e}' stream ${s} transport errored:`,v),p.wo(new K(M.UNAVAILABLE,"The operation could not be completed")))}),y(l,Na.EventType.MESSAGE,v=>{var m;if(!d){const w=v.data[0];Ke(!!w);const S=w,E=S.error||((m=S[0])===null||m===void 0?void 0:m.error);if(E){se(St,`RPC '${e}' stream ${s} received error:`,E);const R=E.status;let O=function(L){const D=ot[L];if(D!==void 0)return fb(D)}(R),x=E.message;O===void 0&&(O=M.INTERNAL,x="Unknown error status: "+R+" with message "+E.message),d=!0,p.wo(new K(O,x)),l.close()}else se(St,`RPC '${e}' stream ${s} received:`,w),p._o(w)}}),y(a,EO.STAT_EVENT,v=>{v.stat===xm.PROXY?se(St,`RPC '${e}' stream ${s} detected buffering proxy`):v.stat===xm.NOPROXY&&se(St,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function _c(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Au(t){return new SR(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r=1e3,s=1.5,i=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=s,this.Vo=i,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,n-r);s>0&&se("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,n,r,s,i,o,a,u){this.ii=e,this.$o=r,this.Oo=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Eb(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(ir(n.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===n&&this.Zo(r,s)},r=>{e(()=>{const s=new K(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,n){const r=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return se("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(se("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mN extends Tb{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=OR(this.serializer,e),r=function(s){if(!("targetChange"in s))return we.min();const i=s.targetChange;return i.targetIds&&i.targetIds.length?we.min():i.readTime?Mn(i.readTime):we.min()}(e);return this.listener.nu(n,r)}su(e){const n={};n.database=bf(this.serializer),n.addTarget=function(s,i){let o;const a=i.target;if(o=pf(a)?{documents:PR(s,a)}:{query:LR(s,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0){o.resumeToken=pb(s,i.resumeToken);const u=_f(s,i.expectedCount);u!==null&&(o.expectedCount=u)}else if(i.snapshotVersion.compareTo(we.min())>0){o.readTime=kl(s,i.snapshotVersion.toTimestamp());const u=_f(s,i.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const r=xR(this.serializer,e);r&&(n.labels=r),this.Wo(n)}iu(e){const n={};n.database=bf(this.serializer),n.removeTarget=e,this.Wo(n)}}class gN extends Tb{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=NR(e.writeResults,e.commitTime),r=Mn(e.commitTime);return this.listener.cu(r,n)}return Ke(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=bf(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>RR(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _N extends class{}{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new K(M.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,i])=>this.connection.Io(e,n,r,s,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(M.UNKNOWN,s.toString())})}vo(e,n,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.vo(e,n,r,i,o,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new K(M.UNKNOWN,i.toString())})}terminate(){this.lu=!0}}class yN{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ir(n),this.mu=!1):se("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=i,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{Ls(this)&&(se("RemoteStore","Restarting streams for network reachability change."),await async function(a){const u=Ie(a);u.vu.add(4),await ca(u),u.bu.set("Unknown"),u.vu.delete(4),await Su(u)}(this))})}),this.bu=new yN(r,s)}}async function Su(t){if(Ls(t))for(const e of t.Ru)await e(!0)}async function ca(t){for(const e of t.Ru)await e(!1)}function Ib(t,e){const n=Ie(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),Td(n)?Ed(n):Ri(n).Ko()&&wd(n,e))}function Ab(t,e){const n=Ie(t),r=Ri(n);n.Au.delete(e),r.Ko()&&Sb(n,e),n.Au.size===0&&(r.Ko()?r.jo():Ls(n)&&n.bu.set("Unknown"))}function wd(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ri(t).su(e)}function Sb(t,e){t.Vu.qt(e),Ri(t).iu(e)}function Ed(t){t.Vu=new ER({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Ri(t).start(),t.bu.gu()}function Td(t){return Ls(t)&&!Ri(t).Uo()&&t.Au.size>0}function Ls(t){return Ie(t).vu.size===0}function Cb(t){t.Vu=void 0}async function bN(t){t.Au.forEach((e,n)=>{wd(t,e)})}async function wN(t,e){Cb(t),Td(t)?(t.bu.Iu(e),Ed(t)):t.bu.set("Unknown")}async function EN(t,e,n){if(t.bu.set("Online"),e instanceof db&&e.state===2&&e.cause)try{await async function(r,s){const i=s.cause;for(const o of s.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,i),r.Au.delete(o),r.Vu.removeTarget(o))}(t,e)}catch(r){se("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ol(t,r)}else if(e instanceof Qa?t.Vu.Ht(e):e instanceof hb?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(we.min()))try{const r=await wb(t.localStore);n.compareTo(r)>=0&&await function(s,i){const o=s.Vu.ce(i);return o.targetChanges.forEach((a,u)=>{if(a.resumeToken.approximateByteSize()>0){const c=s.Au.get(u);c&&s.Au.set(u,c.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach((a,u)=>{const c=s.Au.get(a);if(!c)return;s.Au.set(a,c.withResumeToken(Ft.EMPTY_BYTE_STRING,c.snapshotVersion)),Sb(s,a);const h=new Cr(c.target,a,u,c.sequenceNumber);wd(s,h)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){se("RemoteStore","Failed to raise snapshot:",r),await Ol(t,r)}}async function Ol(t,e,n){if(!aa(e))throw e;t.vu.add(1),await ca(t),t.bu.set("Offline"),n||(n=()=>wb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{se("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await Su(t)})}function kb(t,e){return e().catch(n=>Ol(t,n,e))}async function Cu(t){const e=Ie(t),n=Vr(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;TN(e);)try{const s=await aN(e.localStore,r);if(s===null){e.Eu.length===0&&n.jo();break}r=s.batchId,IN(e,s)}catch(s){await Ol(e,s)}Ob(e)&&Rb(e)}function TN(t){return Ls(t)&&t.Eu.length<10}function IN(t,e){t.Eu.push(e);const n=Vr(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function Ob(t){return Ls(t)&&!Vr(t).Uo()&&t.Eu.length>0}function Rb(t){Vr(t).start()}async function AN(t){Vr(t).hu()}async function SN(t){const e=Vr(t);for(const n of t.Eu)e.uu(n.mutations)}async function CN(t,e,n){const r=t.Eu.shift(),s=pd.from(r,e,n);await kb(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Cu(t)}async function kN(t,e){e&&Vr(t).ou&&await async function(n,r){if(s=r.code,vR(s)&&s!==M.ABORTED){const i=n.Eu.shift();Vr(n).Qo(),await kb(n,()=>n.remoteSyncer.rejectFailedWrite(i.batchId,r)),await Cu(n)}var s}(t,e),Ob(t)&&Rb(t)}async function og(t,e){const n=Ie(t);n.asyncQueue.verifyOperationInProgress(),se("RemoteStore","RemoteStore received new credentials");const r=Ls(n);n.vu.add(3),await ca(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await Su(n)}async function ON(t,e){const n=Ie(t);e?(n.vu.delete(2),await Su(n)):e||(n.vu.add(2),await ca(n),n.bu.set("Unknown"))}function Ri(t){return t.Su||(t.Su=function(e,n,r){const s=Ie(e);return s.fu(),new mN(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:bN.bind(null,t),ao:wN.bind(null,t),nu:EN.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),Td(t)?Ed(t):t.bu.set("Unknown")):(await t.Su.stop(),Cb(t))})),t.Su}function Vr(t){return t.Du||(t.Du=function(e,n,r){const s=Ie(e);return s.fu(),new gN(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{uo:AN.bind(null,t),ao:kN.bind(null,t),au:SN.bind(null,t),cu:CN.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await Cu(t)):(await t.Du.stop(),t.Eu.length>0&&(se("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Jn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Id(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ad(t,e){if(ir("AsyncQueue",`${e}: ${t}`),aa(t))return new K(M.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si{constructor(e){this.comparator=e?(n,r)=>e(n,r)||ie.comparator(n.key,r.key):(n,r)=>ie.comparator(n.key,r.key),this.keyedMap=Yi(),this.sortedSet=new et(this.comparator)}static emptySet(e){return new si(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof si)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new si;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(){this.Cu=new et(ie.comparator)}track(e){const n=e.doc.key,r=this.Cu.get(n);r?e.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Cu=this.Cu.remove(n):e.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ye():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,r)=>{e.push(r)}),e}}class mi{constructor(e,n,r,s,i,o,a,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new mi(e,n,si.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&bu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.Nu=void 0,this.listeners=[]}}class NN{constructor(){this.queries=new Oi(e=>J0(e),bu),this.onlineState="Unknown",this.ku=new Set}}async function Nb(t,e){const n=Ie(t),r=e.query;let s=!1,i=n.queries.get(r);if(i||(s=!0,i=new RN),s)try{i.Nu=await n.onListen(r)}catch(o){const a=Ad(o,`Initialization of query '${gf(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,i),i.listeners.push(e),e.Mu(n.onlineState),i.Nu&&e.$u(i.Nu)&&Sd(n)}async function Pb(t,e){const n=Ie(t),r=e.query;let s=!1;const i=n.queries.get(r);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),s=i.listeners.length===0)}if(s)return n.queries.delete(r),n.onUnlisten(r)}function PN(t,e){const n=Ie(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.listeners)a.$u(s)&&(r=!0);o.Nu=s}}r&&Sd(n)}function LN(t,e,n){const r=Ie(t),s=r.queries.get(e);if(s)for(const i of s.listeners)i.onError(n);r.queries.delete(e)}function Sd(t){t.ku.forEach(e=>{e.next()})}class Lb{constructor(e,n,r){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new mi(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=mi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(e){this.key=e}}class xb{constructor(e){this.key=e}}class DN{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=ke(),this.mutatedKeys=ke(),this.tc=Z0(e),this.ec=new si(this.tc)}get nc(){return this.Yu}sc(e,n){const r=n?n.ic:new ag,s=n?n.ec:this.ec;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,l)=>{const f=s.get(h),d=wu(this.query,l)?l:null,p=!!f&&this.mutatedKeys.has(f.key),y=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let v=!1;f&&d?f.data.isEqual(d.data)?p!==y&&(r.track({type:3,doc:d}),v=!0):this.rc(f,d)||(r.track({type:2,doc:d}),v=!0,(u&&this.tc(d,u)>0||c&&this.tc(d,c)<0)&&(a=!0)):!f&&d?(r.track({type:0,doc:d}),v=!0):f&&!d&&(r.track({type:1,doc:f}),v=!0,(u||c)&&(a=!0)),v&&(d?(o=o.add(d),i=y?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{ec:o,ic:r,zi:a,mutatedKeys:i}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const i=e.ic.xu();i.sort((c,h)=>function(l,f){const d=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye()}};return d(l)-d(f)}(c.type,h.type)||this.tc(c.doc,h.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,u=a!==this.Xu;return this.Xu=a,i.length!==0||u?{snapshot:new mi(this.query,e.ec,s,i,e.mutatedKeys,a===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new ag,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=ke(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return e.forEach(r=>{this.Zu.has(r)||n.push(new xb(r))}),this.Zu.forEach(r=>{e.has(r)||n.push(new Db(r))}),n}hc(e){this.Yu=e.ir,this.Zu=ke();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return mi.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class xN{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class MN{constructor(e){this.key=e,this.fc=!1}}class FN{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Oi(a=>J0(a),bu),this._c=new Map,this.mc=new Set,this.gc=new et(ie.comparator),this.yc=new Map,this.Ic=new yd,this.Tc={},this.Ec=new Map,this.Ac=pi.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function UN(t,e){const n=zN(t);let r,s;const i=n.wc.get(e);if(i)r=i.targetId,n.sharedClientState.addLocalQueryTarget(r),s=i.view.lc();else{const o=await lN(n.localStore,or(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,s=await $N(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&Ib(n.remoteStore,o)}return s}async function $N(t,e,n,r,s){t.Rc=(l,f,d)=>async function(p,y,v,m){let w=y.view.sc(v);w.zi&&(w=await rg(p.localStore,y.query,!1).then(({documents:R})=>y.view.sc(R,w)));const S=m&&m.targetChanges.get(y.targetId),E=y.view.applyChanges(w,p.isPrimaryClient,S);return ug(p,y.targetId,E.cc),E.snapshot}(t,l,f,d);const i=await rg(t.localStore,e,!0),o=new DN(e,i.ir),a=o.sc(i.documents),u=ua.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(a,t.isPrimaryClient,u);ug(t,n,c.cc);const h=new xN(e,n,o);return t.wc.set(e,h),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function VN(t,e){const n=Ie(t),r=n.wc.get(e),s=n._c.get(r.targetId);if(s.length>1)return n._c.set(r.targetId,s.filter(i=>!bu(i,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await wf(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),Ab(n.remoteStore,r.targetId),Ef(n,r.targetId)}).catch(oa)):(Ef(n,r.targetId),await wf(n.localStore,r.targetId,!0))}async function BN(t,e,n){const r=YN(t);try{const s=await function(i,o){const a=Ie(i),u=mt.now(),c=o.reduce((f,d)=>f.add(d.key),ke());let h,l;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let d=ar(),p=ke();return a.Zi.getEntries(f,c).next(y=>{d=y,d.forEach((v,m)=>{m.isValidDocument()||(p=p.add(v))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,d)).next(y=>{h=y;const v=[];for(const m of o){const w=pR(m,h.get(m.key).overlayedDocument);w!=null&&v.push(new Wr(m.key,w,W0(w.value.mapValue),fn.exists(!0)))}return a.mutationQueue.addMutationBatch(f,u,v,o)}).next(y=>{l=y;const v=y.applyToLocalDocumentSet(h,p);return a.documentOverlayCache.saveOverlays(f,y.batchId,v)})}).then(()=>({batchId:l.batchId,changes:tb(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(i,o,a){let u=i.Tc[i.currentUser.toKey()];u||(u=new et(De)),u=u.insert(o,a),i.Tc[i.currentUser.toKey()]=u}(r,s.batchId,n),await fa(r,s.changes),await Cu(r.remoteStore)}catch(s){const i=Ad(s,"Failed to persist write");n.reject(i)}}async function Mb(t,e){const n=Ie(t);try{const r=await iN(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.yc.get(i);o&&(Ke(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?o.fc=!0:s.modifiedDocuments.size>0?Ke(o.fc):s.removedDocuments.size>0&&(Ke(o.fc),o.fc=!1))}),await fa(n,r,e)}catch(r){await oa(r)}}function lg(t,e,n){const r=Ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.wc.forEach((i,o)=>{const a=o.view.Mu(e);a.snapshot&&s.push(a.snapshot)}),function(i,o){const a=Ie(i);a.onlineState=o;let u=!1;a.queries.forEach((c,h)=>{for(const l of h.listeners)l.Mu(o)&&(u=!0)}),u&&Sd(a)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function jN(t,e,n){const r=Ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.yc.get(e),i=s&&s.key;if(i){let o=new et(ie.comparator);o=o.insert(i,kt.newNoDocument(i,we.min()));const a=ke().add(i),u=new Iu(we.min(),new Map,new et(De),o,a);await Mb(r,u),r.gc=r.gc.remove(i),r.yc.delete(e),Cd(r)}else await wf(r.localStore,e,!1).then(()=>Ef(r,e,n)).catch(oa)}async function HN(t,e){const n=Ie(t),r=e.batch.batchId;try{const s=await sN(n.localStore,e);Ub(n,r,null),Fb(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await fa(n,s)}catch(s){await oa(s)}}async function qN(t,e,n){const r=Ie(t);try{const s=await function(i,o){const a=Ie(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return a.mutationQueue.lookupMutationBatch(u,o).next(h=>(Ke(h!==null),c=h.keys(),a.mutationQueue.removeMutationBatch(u,h))).next(()=>a.mutationQueue.performConsistencyCheck(u)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>a.localDocuments.getDocuments(u,c))})}(r.localStore,e);Ub(r,e,n),Fb(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await fa(r,s)}catch(s){await oa(s)}}function Fb(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function Ub(t,e,n){const r=Ie(t);let s=r.Tc[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function Ef(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t._c.get(e))t.wc.delete(r),n&&t.dc.Pc(r,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(r=>{t.Ic.containsKey(r)||$b(t,r)})}function $b(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(Ab(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),Cd(t))}function ug(t,e,n){for(const r of n)r instanceof Db?(t.Ic.addReference(r.key,e),WN(t,r)):r instanceof xb?(se("SyncEngine","Document no longer in limbo: "+r.key),t.Ic.removeReference(r.key,e),t.Ic.containsKey(r.key)||$b(t,r.key)):ye()}function WN(t,e){const n=e.key,r=n.path.canonicalString();t.gc.get(n)||t.mc.has(r)||(se("SyncEngine","New document in limbo: "+n),t.mc.add(r),Cd(t))}function Cd(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new ie(He.fromString(e)),r=t.Ac.next();t.yc.set(r,new MN(n)),t.gc=t.gc.insert(n,r),Ib(t.remoteStore,new Cr(or(cd(n.path)),r,"TargetPurposeLimboResolution",id.ct))}}async function fa(t,e,n){const r=Ie(t),s=[],i=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,u)=>{o.push(r.Rc(u,e,n).then(c=>{if((c||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(u.targetId,c!=null&&c.fromCache?"not-current":"current"),c){s.push(c);const h=bd.Li(u.targetId,c);i.push(h)}}))}),await Promise.all(o),r.dc.nu(s),await async function(a,u){const c=Ie(a);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>H.forEach(u,l=>H.forEach(l.Fi,f=>c.persistence.referenceDelegate.addReference(h,l.targetId,f)).next(()=>H.forEach(l.Bi,f=>c.persistence.referenceDelegate.removeReference(h,l.targetId,f)))))}catch(h){if(!aa(h))throw h;se("LocalStore","Failed to update sequence numbers: "+h)}for(const h of u){const l=h.targetId;if(!h.fromCache){const f=c.Ji.get(l),d=f.snapshotVersion,p=f.withLastLimboFreeSnapshotVersion(d);c.Ji=c.Ji.insert(l,p)}}}(r.localStore,i))}async function GN(t,e){const n=Ie(t);if(!n.currentUser.isEqual(e)){se("SyncEngine","User change. New user:",e.toKey());const r=await bb(n.localStore,e);n.currentUser=e,function(s,i){s.Ec.forEach(o=>{o.forEach(a=>{a.reject(new K(M.CANCELLED,i))})}),s.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await fa(n,r.er)}}function KN(t,e){const n=Ie(t),r=n.yc.get(e);if(r&&r.fc)return ke().add(r.key);{let s=ke();const i=n._c.get(e);if(!i)return s;for(const o of i){const a=n.wc.get(o);s=s.unionWith(a.view.nc)}return s}}function zN(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Mb.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=KN.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=jN.bind(null,e),e.dc.nu=PN.bind(null,e.eventManager),e.dc.Pc=LN.bind(null,e.eventManager),e}function YN(t){const e=Ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HN.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qN.bind(null,e),e}class cg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Au(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return rN(this.persistence,new tN,e.initialUser,this.serializer)}createPersistence(e){return new ZR(vd.zs,this.serializer)}createSharedClientState(e){return new cN}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class XN{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=GN.bind(null,this.syncEngine),await ON(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new NN}createDatastore(e){const n=Au(e.databaseInfo.databaseId),r=(s=e.databaseInfo,new pN(s));var s;return function(i,o,a,u){return new _N(i,o,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return n=this.localStore,r=this.datastore,s=e.asyncQueue,i=a=>lg(this.syncEngine,a,0),o=ig.D()?new ig:new fN,new vN(n,r,s,i,o);var n,r,s,i,o}createSyncEngine(e,n){return function(r,s,i,o,a,u,c){const h=new FN(r,s,i,o,a,u);return c&&(h.vc=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=Ie(e);se("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await ca(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):ir("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,n,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Ct.UNAUTHENTICATED,this.clientId=j0.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{se("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(se("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new K(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Jn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ad(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function yc(t,e){t.asyncQueue.verifyOperationInProgress(),se("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await bb(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await ZN(t);se("FirestoreClient","Initializing OnlineComponentProvider");const r=await t.getConfiguration();await e.initialize(n,r),t.setCredentialChangeListener(s=>og(e.remoteStore,s)),t.setAppCheckTokenChangeListener((s,i)=>og(e.remoteStore,i)),t._onlineComponents=e}function JN(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function ZN(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){se("FirestoreClient","Using user provided OfflineComponentProvider");try{await yc(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!JN(n))throw n;ui("Error using user provided cache. Falling back to memory cache: "+n),await yc(t,new cg)}}else se("FirestoreClient","Using default OfflineComponentProvider"),await yc(t,new cg);return t._offlineComponents}async function Bb(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(se("FirestoreClient","Using user provided OnlineComponentProvider"),await fg(t,t._uninitializedComponentsProvider._online)):(se("FirestoreClient","Using default OnlineComponentProvider"),await fg(t,new XN))),t._onlineComponents}function eP(t){return Bb(t).then(e=>e.syncEngine)}async function jb(t){const e=await Bb(t),n=e.eventManager;return n.onListen=UN.bind(null,e.syncEngine),n.onUnlisten=VN.bind(null,e.syncEngine),n}function tP(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,u){const c=new Vb({next:l=>{i.enqueueAndForget(()=>Pb(s,h));const f=l.docs.has(o);!f&&l.fromCache?u.reject(new K(M.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&l.fromCache&&a&&a.source==="server"?u.reject(new K(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(l)},error:l=>u.reject(l)}),h=new Lb(cd(o.path),c,{includeMetadataChanges:!0,Ku:!0});return Nb(s,h)}(await jb(t),t.asyncQueue,e,n,r)),r.promise}function nP(t,e,n={}){const r=new Jn;return t.asyncQueue.enqueueAndForget(async()=>function(s,i,o,a,u){const c=new Vb({next:l=>{i.enqueueAndForget(()=>Pb(s,h)),l.fromCache&&a.source==="server"?u.reject(new K(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(l)},error:l=>u.reject(l)}),h=new Lb(o,c,{includeMetadataChanges:!0,Ku:!0});return Nb(s,h)}(await jb(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hg=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(t,e,n){if(!n)throw new K(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function rP(t,e,n,r){if(e===!0&&r===!0)throw new K(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function dg(t){if(!ie.isDocumentKey(t))throw new K(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function pg(t){if(ie.isDocumentKey(t))throw new K(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function ku(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ye()}function bn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ku(t);throw new K(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function sP(t,e){if(e<=0)throw new K(M.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mg{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}rP("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Hb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(M.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=e.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,r}}class Ou{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mg({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new K(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new K(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mg(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new SO;switch(n.type){case"firstParty":return new RO(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new K(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=hg.get(e);n&&(se("ComponentProvider","Removing Datastore"),hg.delete(e),n.terminate())}(this),Promise.resolve()}}function iP(t,e,n,r={}){var s;const i=(t=bn(t,Ou))._getSettings(),o=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==o&&ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Ct.MOCK_USER;else{a=ev(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new K(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ct(c)}t._authCredentials=new CO(new B0(a,u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Dr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new jt(this.firestore,e,this._key)}}class ur{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ur(this.firestore,e,this._query)}}class Dr extends ur{constructor(e,n,r){super(e,n,cd(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new jt(this.firestore,null,new ie(e))}withConverter(e){return new Dr(this.firestore,e,this._path)}}function kd(t,e,...n){if(t=Je(t),qb("collection","path",e),t instanceof Ou){const r=He.fromString(e,...n);return pg(r),new Dr(t,null,r)}{if(!(t instanceof jt||t instanceof Dr))throw new K(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return pg(r),new Dr(t.firestore,null,r)}}function Wb(t,e,...n){if(t=Je(t),arguments.length===1&&(e=j0.A()),qb("doc","path",e),t instanceof Ou){const r=He.fromString(e,...n);return dg(r),new jt(t,null,new ie(r))}{if(!(t instanceof jt||t instanceof Dr))throw new K(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(He.fromString(e,...n));return dg(r),new jt(t.firestore,t instanceof Dr?t.converter:null,new ie(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Eb(this,"async_queue_retry"),this.Xc=()=>{const n=_c();n&&se("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=_c();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=_c();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new Jn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!aa(e))throw e;se("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{this.Wc=r,this.Hc=!1;const s=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(r);throw ir("INTERNAL UNHANDLED ERROR: ",s),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const s=Id.createAndSchedule(this,e,n,r,i=>this.na(i));return this.zc.push(s),s}Zc(){this.Wc&&ye()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class Ds extends Ou{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new oP,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Gb(this),this._firestoreClient.terminate()}}function aP(t,e){const n=typeof t=="object"?t:Sh(),r=typeof t=="string"?t:e||"(default)",s=Jl(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=Qy("firestore");i&&iP(s,...i)}return s}function Od(t){return t._firestoreClient||Gb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Gb(t){var e,n,r;const s=t._freezeSettings(),i=function(o,a,u,c){return new jO(o,a,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,Hb(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new QN(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=s.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new gi(Ft.fromBase64String(e))}catch(n){throw new K(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new gi(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lP=/^__.*__$/;class uP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new la(e,this.data,n,this.fieldTransforms)}}class Kb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function zb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye()}}class Pd{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.ua(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new Pd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return Rl(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(zb(this.ca)&&lP.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class cP{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Au(e)}ya(e,n,r,s=!1){return new Pd({ca:e,methodName:n,ga:r,path:Rt.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ha(t){const e=t._freezeSettings(),n=Au(t._databaseId);return new cP(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Yb(t,e,n,r,s,i={}){const o=t.ya(i.merge||i.mergeFields?2:0,e,n,s);Ld("Data must be an object, but it was:",o,r);const a=Qb(r,o);let u,c;if(i.merge)u=new nn(o.fieldMask),c=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const l of i.mergeFields){const f=Tf(e,l,n);if(!o.contains(f))throw new K(M.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Zb(h,f)||h.push(f)}u=new nn(h),c=o.fieldTransforms.filter(l=>u.covers(l.field))}else u=null,c=o.fieldTransforms;return new uP(new zt(a),u,c)}class Nu extends Rd{_toFieldTransform(e){if(e.ca!==2)throw e.ca===1?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nu}}function fP(t,e,n,r){const s=t.ya(1,e,n);Ld("Data must be an object, but it was:",s,r);const i=[],o=zt.empty();Ns(r,(u,c)=>{const h=Dd(e,u,n);c=Je(c);const l=s.da(h);if(c instanceof Nu)i.push(h);else{const f=da(c,l);f!=null&&(i.push(h),o.set(h,f))}});const a=new nn(i);return new Kb(o,a,s.fieldTransforms)}function hP(t,e,n,r,s,i){const o=t.ya(1,e,n),a=[Tf(e,r,n)],u=[s];if(i.length%2!=0)throw new K(M.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<i.length;f+=2)a.push(Tf(e,i[f])),u.push(i[f+1]);const c=[],h=zt.empty();for(let f=a.length-1;f>=0;--f)if(!Zb(c,a[f])){const d=a[f];let p=u[f];p=Je(p);const y=o.da(d);if(p instanceof Nu)c.push(d);else{const v=da(p,y);v!=null&&(c.push(d),h.set(d,v))}}const l=new nn(c);return new Kb(h,l,o.fieldTransforms)}function Xb(t,e,n,r=!1){return da(n,t.ya(r?4:3,e))}function da(t,e){if(Jb(t=Je(t)))return Ld("Unsupported field value:",e,t),Qb(t,e);if(t instanceof Rd)return function(n,r){if(!zb(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,r){const s=[];let i=0;for(const o of n){let a=da(o,r.wa(i));a==null&&(a={nullValue:"NULL_VALUE"}),s.push(a),i++}return{arrayValue:{values:s}}}(t,e)}return function(n,r){if((n=Je(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return lR(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=mt.fromDate(n);return{timestampValue:kl(r.serializer,s)}}if(n instanceof mt){const s=new mt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:kl(r.serializer,s)}}if(n instanceof Nd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof gi)return{bytesValue:pb(r.serializer,n._byteString)};if(n instanceof jt){const s=r.databaseId,i=n.firestore._databaseId;if(!i.isEqual(s))throw r._a(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:_d(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${ku(n)}`)}(t,e)}function Qb(t,e){const n={};return H0(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ns(t,(r,s)=>{const i=da(s,e.ha(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function Jb(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof mt||t instanceof Nd||t instanceof gi||t instanceof jt||t instanceof Rd)}function Ld(t,e,n){if(!Jb(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=ku(n);throw r==="an object"?e._a(t+" a custom object"):e._a(t+" "+r)}}function Tf(t,e,n){if((e=Je(e))instanceof Ru)return e._internalPath;if(typeof e=="string")return Dd(t,e);throw Rl("Field path arguments must be of type string or ",t,!1,void 0,n)}const dP=new RegExp("[~\\*/\\[\\]]");function Dd(t,e,n){if(e.search(dP)>=0)throw Rl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ru(...e.split("."))._internalPath}catch{throw Rl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rl(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(i||o)&&(u+=" (found",i&&(u+=` in field ${r}`),o&&(u+=` in document ${s}`),u+=")"),new K(M.INVALID_ARGUMENT,a+t+u)}function Zb(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new pP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pu("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class pP extends xd{data(){return super.data()}}function Pu(t,e){return typeof e=="string"?Dd(t,e):e instanceof Ru?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Md{}class Lu extends Md{}function DB(t,e,...n){let r=[];e instanceof Md&&r.push(e),r=r.concat(n),function(s){const i=s.filter(a=>a instanceof Fd).length,o=s.filter(a=>a instanceof Du).length;if(i>1||i>0&&o>0)throw new K(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Du extends Lu{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Du(e,n,r)}_apply(e){const n=this._parse(e);return ew(e._query,n),new ur(e.firestore,e.converter,mf(e._query,n))}_parse(e){const n=ha(e.firestore);return function(s,i,o,a,u,c,h){let l;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new K(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){_g(h,c);const f=[];for(const d of h)f.push(gg(a,s,d));l={arrayValue:{values:f}}}else l=gg(a,s,h)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||_g(h,c),l=Xb(o,i,h,c==="in"||c==="not-in");return ut.create(u,c,l)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function xB(t,e,n){const r=e,s=Pu("where",t);return Du._create(s,r,n)}class Fd extends Md{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new Fd(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:vn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let i=r;const o=s.getFlattenedFilters();for(const a of o)ew(i,a),i=mf(i,a)}(e._query,n),new ur(e.firestore,e.converter,mf(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ud extends Lu{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Ud(e,n)}_apply(e){const n=function(r,s,i){if(r.startAt!==null)throw new K(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new K(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new ri(s,i);return function(a,u){if(fd(a)===null){const c=vu(a);c!==null&&tw(a,c,u.field)}}(r,o),o}(e._query,this._field,this._direction);return new ur(e.firestore,e.converter,function(r,s){const i=r.explicitOrderBy.concat([s]);return new Ps(r.path,r.collectionGroup,i,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,n))}}function MB(t,e="asc"){const n=e,r=Pu("orderBy",t);return Ud._create(r,n)}class $d extends Lu{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new $d(e,n,r)}_apply(e){return new ur(e.firestore,e.converter,Al(e._query,this._limit,this._limitType))}}function FB(t){return sP("limit",t),$d._create("limit",t,"F")}class Vd extends Lu{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Vd(e,n,r)}_apply(e){const n=gP(e,this.type,this._docOrFields,this._inclusive);return new ur(e.firestore,e.converter,function(r,s){return new Ps(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)}(e._query,n))}}function UB(...t){return Vd._create("startAfter",t,!1)}function gP(t,e,n,r){if(n[0]=Je(n[0]),n[0]instanceof xd)return function(s,i,o,a,u){if(!a)throw new K(M.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const c=[];for(const h of gs(s))if(h.field.isKeyField())c.push(Il(i,a.key));else{const l=a.data.field(h.field);if(yu(l))throw new K(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(l===null){const f=h.field.canonicalString();throw new K(M.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${f}' (used as the orderBy) does not exist.`)}c.push(l)}return new di(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const s=ha(t.firestore);return function(i,o,a,u,c,h){const l=i.explicitOrderBy;if(c.length>l.length)throw new K(M.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const f=[];for(let d=0;d<c.length;d++){const p=c[d];if(l[d].field.isKeyField()){if(typeof p!="string")throw new K(M.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof p}`);if(!hd(i)&&p.indexOf("/")!==-1)throw new K(M.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${p}' contains a slash.`);const y=i.path.child(He.fromString(p));if(!ie.isDocumentKey(y))throw new K(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${y}' is not because it contains an odd number of segments.`);const v=new ie(y);f.push(Il(o,v))}else{const y=Xb(a,u,p);f.push(y)}}return new di(f,h)}(t._query,t.firestore._databaseId,s,e,n,r)}}function gg(t,e,n){if(typeof(n=Je(n))=="string"){if(n==="")throw new K(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!hd(e)&&n.indexOf("/")!==-1)throw new K(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(He.fromString(n));if(!ie.isDocumentKey(r))throw new K(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Il(t,new ie(r))}if(n instanceof jt)return Il(t,n._key);throw new K(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ku(n)}.`)}function _g(t,e){if(!Array.isArray(t)||t.length===0)throw new K(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ew(t,e){if(e.isInequality()){const r=vu(t),s=e.field;if(r!==null&&!r.isEqual(s))throw new K(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const i=fd(t);i!==null&&tw(t,s,i)}const n=function(r,s){for(const i of r)for(const o of i.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function tw(t,e,n){if(!n.isEqual(e))throw new K(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class _P{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return at(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ts(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ye()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ns(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new Nd(at(e.latitude),at(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=od(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Do(e));default:return null}}convertTimestamp(e){const n=$r(e);return new mt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=He.fromString(e);Ke(vb(r));const s=new xo(r.get(1),r.get(3)),i=new ie(r.popFirst(5));return s.isEqual(n)||ir(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class rw extends xd{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ja(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pu("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ja extends rw{data(e={}){return super.data(e)}}class yP{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Qi(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ja(this._firestore,this._userDataWriter,r.key,r,new Qi(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let i=0;return r._snapshot.docChanges.map(o=>{const a=new Ja(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:i++}})}{let i=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const a=new Ja(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Qi(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,c=-1;return o.type!==0&&(u=i.indexOf(o.doc.key),i=i.delete(o.doc.key)),o.type!==1&&(i=i.add(o.doc),c=i.indexOf(o.doc.key)),{type:vP(o.type),doc:a,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function vP(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $B(t){t=bn(t,jt);const e=bn(t.firestore,Ds);return tP(Od(e),t._key).then(n=>wP(e,t,n))}class sw extends _P{constructor(e){super(),this.firestore=e}convertBytes(e){return new gi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new jt(this.firestore,null,n)}}function VB(t){t=bn(t,ur);const e=bn(t.firestore,Ds),n=Od(e),r=new sw(e);return mP(t._query),nP(n,t._query).then(s=>new yP(e,r,t,s))}function bP(t,e,n){t=bn(t,jt);const r=bn(t.firestore,Ds),s=nw(t.converter,e,n);return xu(r,[Yb(ha(r),"setDoc",t._key,s,t.converter!==null,n).toMutation(t._key,fn.none())])}function BB(t,e,n,...r){t=bn(t,jt);const s=bn(t.firestore,Ds),i=ha(s);let o;return o=typeof(e=Je(e))=="string"||e instanceof Ru?hP(i,"updateDoc",t._key,e,n,r):fP(i,"updateDoc",t._key,e),xu(s,[o.toMutation(t._key,fn.exists(!0))])}function jB(t){return xu(bn(t.firestore,Ds),[new dd(t._key,fn.none())])}function HB(t,e){const n=bn(t.firestore,Ds),r=Wb(t),s=nw(t.converter,e);return xu(n,[Yb(ha(t.firestore),"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,fn.exists(!1))]).then(()=>r)}function xu(t,e){return function(n,r){const s=new Jn;return n.asyncQueue.enqueueAndForget(async()=>BN(await eP(n),r,s)),s.promise}(Od(t),e)}function wP(t,e,n){const r=n.docs.get(e._key),s=new sw(t);return new rw(t,s,e._key,r,new Qi(n.hasPendingWrites,n.fromCache),e.converter)}(function(t,e=!0){(function(n){ki=n})(ks),vs(new Fr("firestore",(n,{instanceIdentifier:r,options:s})=>{const i=n.getProvider("app").getImmediate(),o=new Ds(new kO(n.getProvider("auth-internal")),new PO(n.getProvider("app-check-internal")),function(a,u){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new K(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xo(a.options.projectId,u)}(i,r),i);return s=Object.assign({useFetchStreams:e},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Ln(Mm,"3.13.0",t),Ln(Mm,"3.13.0","esm2017")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iw="firebasestorage.googleapis.com",ow="storageBucket",EP=2*60*1e3,TP=10*60*1e3,IP=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt extends Vn{constructor(e,n,r=0){super(vc(e),`Firebase Storage: ${n} (${vc(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,tt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return vc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var ze;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(ze||(ze={}));function vc(t){return"storage/"+t}function Bd(){const t="An unknown error occurred, please check the error payload for server response.";return new tt(ze.UNKNOWN,t)}function AP(t){return new tt(ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function SP(t){return new tt(ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function CP(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new tt(ze.UNAUTHENTICATED,t)}function kP(){return new tt(ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OP(t){return new tt(ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function aw(){return new tt(ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lw(){return new tt(ze.CANCELED,"User canceled the upload/download.")}function RP(t){return new tt(ze.INVALID_URL,"Invalid URL '"+t+"'.")}function NP(t){return new tt(ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function PP(){return new tt(ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+ow+"' property when initializing the app?")}function uw(){return new tt(ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function LP(){return new tt(ze.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function DP(){return new tt(ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function xP(t){return new tt(ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function If(t){return new tt(ze.INVALID_ARGUMENT,t)}function cw(){return new tt(ze.APP_DELETED,"The Firebase app was deleted.")}function MP(t){return new tt(ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function ao(t,e){return new tt(ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Fi(t){throw new tt(ze.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=rn.makeFromUrl(e,n)}catch{return new rn(e,"")}if(r.path==="")return r;throw NP(e)}static makeFromUrl(e,n){let r=null;const s="([A-Za-z0-9.\\-_]+)";function i(E){E.path.charAt(E.path.length-1)==="/"&&(E.path_=E.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+s+o,"i"),u={bucket:1,path:3};function c(E){E.path_=decodeURIComponent(E.path)}const h="v[A-Za-z0-9_]+",l=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",d=new RegExp(`^https?://${l}/${h}/b/${s}/o${f}`,"i"),p={bucket:1,path:3},y=n===iw?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",m=new RegExp(`^https?://${y}/${s}/${v}`,"i"),S=[{regex:a,indices:u,postModify:i},{regex:d,indices:p,postModify:c},{regex:m,indices:{bucket:1,path:2},postModify:c}];for(let E=0;E<S.length;E++){const R=S[E],O=R.regex.exec(e);if(O){const x=O[R.indices.bucket];let L=O[R.indices.path];L||(L=""),r=new rn(x,L),R.postModify(r);break}}if(r==null)throw RP(e);return r}}class FP{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(t,e,n){let r=1,s=null,i=null,o=!1,a=0;function u(){return a===2}let c=!1;function h(...v){c||(c=!0,e.apply(null,v))}function l(v){s=setTimeout(()=>{s=null,t(d,u())},v)}function f(){i&&clearTimeout(i)}function d(v,...m){if(c){f();return}if(v){f(),h.call(null,v,...m);return}if(u()||o){f(),h.call(null,v,...m);return}r<64&&(r*=2);let S;a===1?(a=2,S=0):S=(r+Math.random())*1e3,l(S)}let p=!1;function y(v){p||(p=!0,f(),!c&&(s!==null?(v||(a=2),clearTimeout(s),l(0)):v||(a=1)))}return l(0),i=setTimeout(()=>{o=!0,y(!0)},n),y}function $P(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){return t!==void 0}function BP(t){return typeof t=="function"}function jP(t){return typeof t=="object"&&!Array.isArray(t)}function Mu(t){return typeof t=="string"||t instanceof String}function yg(t){return jd()&&t instanceof Blob}function jd(){return typeof Blob<"u"&&!WA()}function vg(t,e,n,r){if(r<e)throw If(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw If(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ni(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function fw(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const s=e(r)+"="+e(t[r]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _s;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(_s||(_s={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,i=e.indexOf(t)!==-1;return n||s||i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e,n,r,s,i,o,a,u,c,h,l,f=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=s,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=l,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((d,p)=>{this.resolve_=d,this.reject_=p,this.start_()})}start_(){const e=(r,s)=>{if(s){r(!1,new Ma(!1,null,!0));return}const i=this.connectionFactory_();this.pendingConnection_=i;const o=a=>{const u=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,c)};this.progressCallback_!==null&&i.addUploadProgressListener(o),i.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&i.removeUploadProgressListener(o),this.pendingConnection_=null;const a=i.getErrorCode()===_s.NO_ERROR,u=i.getStatus();if(!a||hw(u,this.additionalRetryCodes_)&&this.retry){const h=i.getErrorCode()===_s.ABORT;r(!1,new Ma(!1,null,h));return}const c=this.successCodes_.indexOf(u)!==-1;r(!0,new Ma(c,i))})},n=(r,s)=>{const i=this.resolve_,o=this.reject_,a=s.connection;if(s.wasSuccessCode)try{const u=this.callback_(a,a.getResponse());VP(u)?i(u):i()}catch(u){o(u)}else if(a!==null){const u=Bd();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(s.canceled){const u=this.appDelete_?cw():lw();o(u)}else{const u=aw();o(u)}};this.canceled_?n(!1,new Ma(!1,null,!0)):this.backoffId_=UP(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&$P(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ma{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function qP(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function WP(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function GP(t,e){e&&(t["X-Firebase-GMPID"]=e)}function KP(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zP(t,e,n,r,s,i,o=!0){const a=fw(t.urlParams),u=t.url+a,c=Object.assign({},t.headers);return GP(c,e),qP(c,n),WP(c,i),KP(c,r),new HP(u,t.method,c,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YP(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function XP(...t){const e=YP();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(jd())return new Blob(t);throw new tt(ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function QP(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JP(t){if(typeof atob>"u")throw xP("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class bc{constructor(e,n){this.data=e,this.contentType=n||null}}function ZP(t,e){switch(t){case Pn.RAW:return new bc(dw(e));case Pn.BASE64:case Pn.BASE64URL:return new bc(pw(t,e));case Pn.DATA_URL:return new bc(tL(e),nL(e))}throw Bd()}function dw(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const i=r,o=t.charCodeAt(++n);r=65536|(i&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function eL(t){let e;try{e=decodeURIComponent(t)}catch{throw ao(Pn.DATA_URL,"Malformed data URL.")}return dw(e)}function pw(t,e){switch(t){case Pn.BASE64:{const s=e.indexOf("-")!==-1,i=e.indexOf("_")!==-1;if(s||i)throw ao(t,"Invalid character '"+(s?"-":"_")+"' found: is it base64url encoded?");break}case Pn.BASE64URL:{const s=e.indexOf("+")!==-1,i=e.indexOf("/")!==-1;if(s||i)throw ao(t,"Invalid character '"+(s?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=JP(e)}catch(s){throw s.message.includes("polyfill")?s:ao(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}class mw{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw ao(Pn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=rL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function tL(t){const e=new mw(t);return e.base64?pw(Pn.BASE64,e.rest):eL(e.rest)}function nL(t){return new mw(t).contentType}function rL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ar{constructor(e,n){let r=0,s="";yg(e)?(this.data_=e,r=e.size,s=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=s}size(){return this.size_}type(){return this.type_}slice(e,n){if(yg(this.data_)){const r=this.data_,s=QP(r,e,n);return s===null?null:new Ar(s)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ar(r,!0)}}static getBlob(...e){if(jd()){const n=e.map(r=>r instanceof Ar?r.data_:r);return new Ar(XP.apply(null,n))}else{const n=e.map(o=>Mu(o)?ZP(Pn.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const s=new Uint8Array(r);let i=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)s[i++]=o[a]}),new Ar(s,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t){let e;try{e=JSON.parse(t)}catch{return null}return jP(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function iL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function _w(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oL(t,e){return e}class Ut{constructor(e,n,r,s){this.server=e,this.local=n||e,this.writable=!!r,this.xform=s||oL}}let Fa=null;function aL(t){return!Mu(t)||t.length<2?t:_w(t)}function yw(){if(Fa)return Fa;const t=[];t.push(new Ut("bucket")),t.push(new Ut("generation")),t.push(new Ut("metageneration")),t.push(new Ut("name","fullPath",!0));function e(i,o){return aL(o)}const n=new Ut("name");n.xform=e,t.push(n);function r(i,o){return o!==void 0?Number(o):o}const s=new Ut("size");return s.xform=r,t.push(s),t.push(new Ut("timeCreated")),t.push(new Ut("updated")),t.push(new Ut("md5Hash",null,!0)),t.push(new Ut("cacheControl",null,!0)),t.push(new Ut("contentDisposition",null,!0)),t.push(new Ut("contentEncoding",null,!0)),t.push(new Ut("contentLanguage",null,!0)),t.push(new Ut("contentType",null,!0)),t.push(new Ut("metadata","customMetadata",!0)),Fa=t,Fa}function lL(t,e){function n(){const r=t.bucket,s=t.fullPath,i=new rn(r,s);return e._makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function uL(t,e,n){const r={};r.type="file";const s=n.length;for(let i=0;i<s;i++){const o=n[i];r[o.local]=o.xform(r,e[o.server])}return lL(r,t),r}function vw(t,e,n){const r=gw(e);return r===null?null:uL(t,r,n)}function cL(t,e,n,r){const s=gw(e);if(s===null||!Mu(s.downloadTokens))return null;const i=s.downloadTokens;if(i.length===0)return null;const o=encodeURIComponent;return i.split(",").map(c=>{const h=t.bucket,l=t.fullPath,f="/b/"+o(h)+"/o/"+o(l),d=Ni(f,n,r),p=fw({alt:"media",token:c});return d+p})[0]}function bw(t,e){const n={},r=e.length;for(let s=0;s<r;s++){const i=e[s];i.writable&&(n[i.server]=t[i.local])}return JSON.stringify(n)}class xs{constructor(e,n,r,s){this.url=e,this.method=n,this.handler=r,this.timeout=s,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t){if(!t)throw Bd()}function Hd(t,e){function n(r,s){const i=vw(t,s,e);return Zn(i!==null),i}return n}function fL(t,e){function n(r,s){const i=vw(t,s,e);return Zn(i!==null),cL(i,s,t.host,t._protocol)}return n}function pa(t){function e(n,r){let s;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?s=kP():s=CP():n.getStatus()===402?s=SP(t.bucket):n.getStatus()===403?s=OP(t.path):s=r,s.status=n.getStatus(),s.serverResponse=r.serverResponse,s}return e}function qd(t){const e=pa(t);function n(r,s){let i=e(r,s);return r.getStatus()===404&&(i=AP(t.path)),i.serverResponse=s.serverResponse,i}return n}function hL(t,e,n){const r=e.fullServerUrl(),s=Ni(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new xs(s,i,Hd(t,n),o);return a.errorHandler=qd(e),a}function dL(t,e,n){const r=e.fullServerUrl(),s=Ni(r,t.host,t._protocol),i="GET",o=t.maxOperationRetryTime,a=new xs(s,i,fL(t,n),o);return a.errorHandler=qd(e),a}function pL(t,e){const n=e.fullServerUrl(),r=Ni(n,t.host,t._protocol),s="DELETE",i=t.maxOperationRetryTime;function o(u,c){}const a=new xs(r,s,o,i);return a.successCodes=[200,204],a.errorHandler=qd(e),a}function mL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function ww(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=mL(null,e)),r}function gL(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let S="";for(let E=0;E<2;E++)S=S+Math.random().toString().slice(2);return S}const u=a();o["Content-Type"]="multipart/related; boundary="+u;const c=ww(e,r,s),h=bw(c,n),l="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+h+`\r
--`+u+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+u+"--",d=Ar.getBlob(l,r,f);if(d===null)throw uw();const p={name:c.fullPath},y=Ni(i,t.host,t._protocol),v="POST",m=t.maxUploadRetryTime,w=new xs(y,v,Hd(t,n),m);return w.urlParams=p,w.headers=o,w.body=d.uploadData(),w.errorHandler=pa(e),w}class Nl{constructor(e,n,r,s){this.current=e,this.total=n,this.finalized=!!r,this.metadata=s||null}}function Wd(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{Zn(!1)}return Zn(!!n&&(e||["active"]).indexOf(n)!==-1),n}function _L(t,e,n,r,s){const i=e.bucketOnlyServerUrl(),o=ww(e,r,s),a={name:o.fullPath},u=Ni(i,t.host,t._protocol),c="POST",h={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},l=bw(o,n),f=t.maxUploadRetryTime;function d(y){Wd(y);let v;try{v=y.getResponseHeader("X-Goog-Upload-URL")}catch{Zn(!1)}return Zn(Mu(v)),v}const p=new xs(u,c,d,f);return p.urlParams=a,p.headers=h,p.body=l,p.errorHandler=pa(e),p}function yL(t,e,n,r){const s={"X-Goog-Upload-Command":"query"};function i(c){const h=Wd(c,["active","final"]);let l=null;try{l=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{Zn(!1)}l||Zn(!1);const f=Number(l);return Zn(!isNaN(f)),new Nl(f,r.size(),h==="final")}const o="POST",a=t.maxUploadRetryTime,u=new xs(n,o,i,a);return u.headers=s,u.errorHandler=pa(e),u}const bg=256*1024;function vL(t,e,n,r,s,i,o,a){const u=new Nl(0,0);if(o?(u.current=o.current,u.total=o.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw LP();const c=u.total-u.current;let h=c;s>0&&(h=Math.min(h,s));const l=u.current,f=l+h;let d="";h===0?d="finalize":c===h?d="upload, finalize":d="upload";const p={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":`${u.current}`},y=r.slice(l,f);if(y===null)throw uw();function v(E,R){const O=Wd(E,["active","final"]),x=u.current+h,L=r.size();let D;return O==="final"?D=Hd(e,i)(E,R):D=null,new Nl(x,L,O==="final",D)}const m="POST",w=e.maxUploadRetryTime,S=new xs(n,m,v,w);return S.headers=p,S.body=y.uploadData(),S.progressCallback=a||null,S.errorHandler=pa(t),S}const Kt={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function wc(t){switch(t){case"running":case"pausing":case"canceling":return Kt.RUNNING;case"paused":return Kt.PAUSED;case"success":return Kt.SUCCESS;case"canceled":return Kt.CANCELED;case"error":return Kt.ERROR;default:return Kt.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,n,r){if(BP(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const i=e;this.next=i.next,this.error=i.error,this.complete=i.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class wL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=_s.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=_s.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=_s.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,s){if(this.sent_)throw Fi("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const i in s)s.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,s[i].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Fi("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Fi("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Fi("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Fi("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class EL extends wL{initXhr(){this.xhr_.responseType="text"}}function ss(){return new EL}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TL{constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=yw(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=s=>{if(this._request=void 0,this._chunkMultiplier=1,s._codeEquals(ze.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const i=this.isExponentialBackoffExpired();if(hw(s.status,[]))if(i)s=aw();else{this.sleepTime=Math.max(this.sleepTime*2,IP),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=s,this._transition("error")}},this._metadataErrorHandler=s=>{this._request=void 0,s._codeEquals(ze.CANCELED)?this.completeTransitions_():(this._error=s,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((s,i)=>{this._resolve=s,this._reject=i,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=_L(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ss,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._uploadUrl=i,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const s=yL(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(s,ss,n,r);this._request=i,i.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=bg*this._chunkMultiplier,n=new Nl(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((s,i)=>{let o;try{o=vL(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(u){this._error=u,this._transition("error");return}const a=this._ref.storage._makeRequest(o,ss,s,i,!1);this._request=a,a.getPromise().then(u=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(u.current),u.finalized?(this._metadata=u.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){bg*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=hL(this._ref.storage,this._ref._location,this._mappings),s=this._ref.storage._makeRequest(r,ss,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=gL(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),s=this._ref.storage._makeRequest(r,ss,e,n);this._request=s,s.getPromise().then(i=>{this._request=void 0,this._metadata=i,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=lw(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=wc(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,s){const i=new bL(n||void 0,r||void 0,s||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(wc(this._state)){case Kt.SUCCESS:Vs(this._resolve.bind(null,this.snapshot))();break;case Kt.CANCELED:case Kt.ERROR:const n=this._reject;Vs(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(wc(this._state)){case Kt.RUNNING:case Kt.PAUSED:e.next&&Vs(e.next.bind(e,this.snapshot))();break;case Kt.SUCCESS:e.complete&&Vs(e.complete.bind(e))();break;case Kt.CANCELED:case Kt.ERROR:e.error&&Vs(e.error.bind(e,this._error))();break;default:e.error&&Vs(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class As{constructor(e,n){this._service=e,n instanceof rn?this._location=n:this._location=rn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new As(e,n)}get root(){const e=new rn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return _w(this._location.path)}get storage(){return this._service}get parent(){const e=sL(this._location.path);if(e===null)return null;const n=new rn(this._location.bucket,e);return new As(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw MP(e)}}function IL(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new TL(t,new Ar(e),n)}function AL(t){t._throwIfRoot("getDownloadURL");const e=dL(t.storage,t._location,yw());return t.storage.makeRequestWithTokens(e,ss).then(n=>{if(n===null)throw DP();return n})}function SL(t){t._throwIfRoot("deleteObject");const e=pL(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ss)}function CL(t,e){const n=iL(t._location.path,e),r=new rn(t._location.bucket,n);return new As(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t){return/^[A-Za-z]+:\/\//.test(t)}function OL(t,e){return new As(t,e)}function Ew(t,e){if(t instanceof Gd){const n=t;if(n._bucket==null)throw PP();const r=new As(n,n._bucket);return e!=null?Ew(r,e):r}else return e!==void 0?CL(t,e):t}function RL(t,e){if(e&&kL(e)){if(t instanceof Gd)return OL(t,e);throw If("To use ref(service, url), the first argument must be a Storage instance.")}else return Ew(t,e)}function wg(t,e){const n=e==null?void 0:e[ow];return n==null?null:rn.makeFromBucketSpec(n,t)}function NL(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:ev(s,t.app.options.projectId))}class Gd{constructor(e,n,r,s,i){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=s,this._firebaseVersion=i,this._bucket=null,this._host=iw,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EP,this._maxUploadRetryTime=TP,this._requests=new Set,s!=null?this._bucket=rn.makeFromBucketSpec(s,this._host):this._bucket=wg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=rn.makeFromBucketSpec(this._url,e):this._bucket=wg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){vg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){vg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new As(this,e)}_makeRequest(e,n,r,s,i=!0){if(this._deleted)return new FP(cw());{const o=zP(e,this._appId,r,s,n,this._firebaseVersion,i);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,s).getPromise()}}const Eg="@firebase/storage",Tg="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="storage";function qB(t,e,n){return t=Je(t),IL(t,e,n)}function WB(t){return t=Je(t),AL(t)}function GB(t){return t=Je(t),SL(t)}function KB(t,e){return t=Je(t),RL(t,e)}function PL(t=Sh(),e){t=Je(t);const r=Jl(t,Tw).getImmediate({identifier:e}),s=Qy("storage");return s&&LL(r,...s),r}function LL(t,e,n,r={}){NL(t,e,n,r)}function DL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new Gd(n,r,s,e,ks)}function xL(){vs(new Fr(Tw,DL,"PUBLIC").setMultipleInstances(!0)),Ln(Eg,Tg,""),Ln(Eg,Tg,"esm2017")}xL();const ML={apiKey:"AIzaSyB3H50lfA12i2slUTuucP8YgNxLYNJGOUI",authDomain:"music-5eadf.firebaseapp.com",projectId:"music-5eadf",storageBucket:"music-5eadf.appspot.com",appId:"1:685671300810:web:10101ba984124fc6f03e33"};rv(ML);const lo=yk(),Kd=aP(),zB=PL(),FL=kd(Kd,"users"),YB=kd(Kd,"songs"),XB=kd(Kd,"comments"),ma=wh("user",{state:()=>({userLoggedIn:!1}),actions:{async register(t){const e=await eC(lo,t.email,t.password),n=Wb(FL,e.user.uid);await bP(n,{name:t.name,email:t.email,age:t.age,country:t.country,user_type:t.user_type}),await rC(e.user,{displayName:t.name}),this.userLoggedIn=!0},async authenticate(t){await tC(lo,t.email,t.password),this.userLoggedIn=!0},async signOut(){await oC(lo),this.userLoggedIn=!1}}}),Ms=(t,e)=>{const n=t.__vccOpts||t;for(const[r,s]of e)n[r]=s;return n},UL={name:"AppHeader",computed:{...xA(ol,ma),...Th(ol,["isOpen"]),currentLocale(){return this.$i18n.locale==="de"?"Deutsch":"English"}},methods:{toggleAuthModal(){this.isOpen=!this.isOpen},signOut(){this.userStore.signOut(),this.$route.meta.requiresAuth&&this.$router.push({name:"home"})},changeLocale(){this.$i18n.locale=this.$i18n.locale==="de"?"en":"de"}}},$L={id:"header",class:"bg-gray-700"},VL={class:"container mx-auto flex justify-start items-center py-5 px-4"},BL={class:"flex flex-grow items-center"},jL={class:"flex flex-row mt-1"},HL={key:0},qL={class:"ml-auto"};function WL(t,e,n,r,s,i){const o=Qt("router-link");return ct(),Nt("header",$L,[Z("nav",VL,[Ee(o,{class:"text-white font-bold uppercase text-2xl mr-4",to:{name:"home"},"exact-active-class":"no-active"},{default:tn(()=>[eo(" Music ")]),_:1}),Z("div",BL,[Z("ul",jL,[Z("li",null,[Ee(o,{class:"px-2 text-white",to:{name:"about"}},{default:tn(()=>[eo(Pe(t.$t("header.about")),1)]),_:1})]),t.userStore.userLoggedIn?(ct(),Nt(yt,{key:1},[Z("li",null,[Ee(o,{class:"px-2 text-white",to:{name:"manage"}},{default:tn(()=>[eo(Pe(t.$t("header.manage")),1)]),_:1})]),Z("li",null,[Z("a",{class:"px-2 text-white",href:"#",onClick:e[1]||(e[1]=ds((...a)=>i.signOut&&i.signOut(...a),["prevent"]))},Pe(t.$t("auth.logout")),1)])],64)):(ct(),Nt("li",HL,[Z("a",{class:"px-2 text-white",href:"#",onClick:e[0]||(e[0]=ds((...a)=>i.toggleAuthModal&&i.toggleAuthModal(...a),["prevent"]))},Pe(t.$t("auth.login"))+" / "+Pe(t.$t("auth.register")),1)]))]),Z("ul",qL,[Z("li",null,[Z("a",{class:"px-2 text-white",href:"#",onClick:e[2]||(e[2]=ds((...a)=>i.changeLocale&&i.changeLocale(...a),["prevent"]))},Pe(i.currentLocale),1)])])])])])}const GL=Ms(UL,[["render",WL]]),KL={name:"LoginForm",data(){return{loginSchema:{email:"required|email",password:"required|min:9|max:100"},login_in_submission:!1,login_show_alert:!1,login_alert_variant:"bg-blue-500",login_alert_msg:"Please wait! We are logging you in."}},methods:{...Eh(ma,["authenticate"]),async login(t){this.login_in_submission=!0,this.login_show_alert=!0,this.login_alert_variant="bg-blue-500",this.login_alert_msg="Please wait! We are logging you in.";try{await this.authenticate(t)}catch{this.login_in_submission=!1,this.login_alert_variant="bg-red-500",this.login_alert_msg="Invalid login details.";return}this.login_alert_variant="bg-green-500",this.login_alert_msg="Success! You are now logged in.",window.location.reload()}}},zL={class:"mb-3"},YL=Z("label",{class:"inline-block mb-2"},"Email",-1),XL={class:"mb-3"},QL={class:"inline-block mb-2"},JL=["placeholder"],ZL=["disabled"];function eD(t,e,n,r,s,i){const o=Qt("vee-field"),a=Qt("ErrorMessage"),u=Qt("vee-form");return ct(),Nt(yt,null,[s.login_show_alert?(ct(),Nt("div",{key:0,class:Qn(["text-white text-center font-bold p-4 mb-4",s.login_alert_variant])},Pe(s.login_alert_msg),3)):gh("",!0),Ee(u,{"validation-schema":s.loginSchema,onSubmit:i.login},{default:tn(()=>[Z("div",zL,[YL,Ee(o,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:t.$t("register.enter_email")},null,8,["placeholder"]),Ee(a,{class:"text-red-600",name:"email"})]),Z("div",XL,[Z("label",QL,Pe(t.$t("register.password")),1),Ee(o,{name:"password",bails:!1},{default:tn(({field:c,errors:h})=>[Z("input",yh({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",type:"password",placeholder:t.$t("register.enter_password")},c),null,16,JL),(ct(!0),Nt(yt,null,Cy(h,l=>(ct(),Nt("div",{class:"text-red-600",key:l},Pe(l),1))),128))]),_:1})]),Z("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:s.login_in_submission},Pe(t.$t("song.submit_btn")),9,ZL)]),_:1},8,["validation-schema","onSubmit"])],64)}const tD=Ms(KL,[["render",eD]]),nD={name:"RegisterForm",data(){return{tab:"login",schema:{name:"required|min:3|max:100|alpha_spaces",email:"required|min:3|max:100|email",age:"required|min_value:18|max_value:100",password:"required|min:9|max:100|excluded:password",confirm_password:"passwords_mismatch:@password",country:"required|country_excluded:Antarctica",user_type:"required|user_type_excluded:label",tos:"tos"},userData:{country:"USA",user_type:"listener"},reg_in_submission:!1,reg_show_alert:!1,reg_alert_variant:"bg-blue-500",reg_alert_msg:"Please wait! Your account is being created."}},methods:{...Eh(ma,{createUser:"register"}),async register(t){this.reg_show_alert=!0,this.reg_in_submission=!0,this.reg_alert_variant="bg-blue-500",this.reg_alert_msg="Please wait! Your account is being created.";try{await this.createUser(t)}catch{this.reg_in_submission=!1,this.reg_alert_variant="bg-red-500",this.reg_alert_msg="An unexpected error occured. Please try again later.";return}this.reg_alert_variant="bg-green-500",this.reg_alert_msg="Success! Your account has been created.",window.location.reload()}}},rD={class:"mb-3"},sD=Z("label",{class:"inline-block mb-2"},"Name",-1),iD={class:"mb-3"},oD=Z("label",{class:"inline-block mb-2"},"Email",-1),aD={class:"mb-3"},lD={class:"inline-block mb-2"},uD={class:"mb-3"},cD={class:"inline-block mb-2"},fD=["placeholder"],hD={class:"mb-3"},dD={class:"inline-block mb-2"},pD={class:"mb-3"},mD={class:"inline-block mb-2"},gD={value:"USA"},_D={value:"Mexico"},yD={value:"Germany"},vD={value:"Antarctica"},bD={class:"mb-3"},wD={class:"inline-block mb-2"},ED={value:"listener"},TD={value:"artist"},ID=Z("option",{value:"label"},"Label",-1),AD={class:"mb-3 pl-6"},SD={href:"#"},CD=["disabled"];function kD(t,e,n,r,s,i){const o=Qt("vee-field"),a=Qt("ErrorMessage"),u=Qt("i18n-t"),c=Qt("vee-form");return ct(),Nt(yt,null,[s.reg_show_alert?(ct(),Nt("div",{key:0,class:Qn(["text-white text-center fornt-bold p-4 rounded mb-4",s.reg_alert_variant])},Pe(s.reg_alert_msg),3)):gh("",!0),Ee(c,{"validation-schema":s.schema,onSubmit:i.register,"initial-values":s.userData},{default:tn(()=>[Z("div",rD,[sD,Ee(o,{type:"text",name:"name",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:t.$t("register.enter_name")},null,8,["placeholder"]),Ee(a,{class:"text-red-600",name:"name"})]),Z("div",iD,[oD,Ee(o,{type:"email",name:"email",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:t.$t("register.enter_email")},null,8,["placeholder"]),Ee(a,{class:"text-red-600",name:"email"})]),Z("div",aD,[Z("label",lD,Pe(t.$t("register.age")),1),Ee(o,{type:"number",name:"age",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:t.$t("register.enter_age")},null,8,["placeholder"]),Ee(a,{class:"text-red-600",name:"age"})]),Z("div",uD,[Z("label",cD,Pe(t.$t("register.password")),1),Ee(o,{name:"password",bails:!1},{default:tn(({field:h,errors:l})=>[Z("input",yh({class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",type:"password",placeholder:t.$t("register.enter_password")},h),null,16,fD),(ct(!0),Nt(yt,null,Cy(l,f=>(ct(),Nt("div",{class:"text-red-600",key:f},Pe(f),1))),128))]),_:1})]),Z("div",hD,[Z("label",dD,Pe(t.$t("register.confirm_password")),1),Ee(o,{type:"password",name:"confirm_password",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded",placeholder:t.$t("register.confirm_password")},null,8,["placeholder"]),Ee(a,{class:"text-red-600",name:"confirm_password"})]),Z("div",pD,[Z("label",mD,Pe(t.$t("register.country")),1),Ee(o,{as:"select",name:"country",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:tn(()=>[Z("option",gD,Pe(t.$t("register.country_usa")),1),Z("option",_D,Pe(t.$t("register.country_mexico")),1),Z("option",yD,Pe(t.$t("register.country_germany")),1),Z("option",vD,Pe(t.$t("register.country_antarctica")),1)]),_:1}),Ee(a,{class:"text-red-600",name:"country"})]),Z("div",bD,[Z("label",wD,Pe(t.$t("register.user_type")),1),Ee(o,{as:"select",name:"user_type",class:"block w-full py-1.5 px-3 text-gray-800 border border-gray-300 transition duration-500 focus:outline-none focus:border-black rounded"},{default:tn(()=>[Z("option",ED,Pe(t.$t("register.user_type_a")),1),Z("option",TD,Pe(t.$t("register.user_type_b")),1),ID]),_:1}),Ee(a,{class:"text-red-600",name:"user_type"})]),Z("div",AD,[Ee(o,{type:"checkbox",name:"tos",value:"1",class:"w-4 h-4 float-left -ml-6 mt-1 rounded inline-block"}),Ee(u,{class:"inline-block",keypath:"register.accept",tag:"label"},{default:tn(()=>[Z("a",SD,Pe(t.$t("register.tos")),1)]),_:1}),Ee(a,{class:"text-red-600 block",name:"tos"})]),Z("button",{type:"submit",class:"block w-full bg-purple-600 text-white py-1.5 px-3 rounded transition hover:bg-purple-700",disabled:s.reg_in_submission},Pe(t.$t("song.submit_btn")),9,CD)]),_:1},8,["validation-schema","onSubmit","initial-values"])],64)}const OD=Ms(nD,[["render",kD]]),RD={name:"AppAuth",components:{AppLoginForm:tD,AppRegisterForm:OD},data(){return{tab:"login"}},computed:{...Gy(ol,["hiddenClass"]),...Th(ol,{modalVisibility:"isOpen"})},methods:{}},ND={class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},PD=Z("div",{class:"fixed inset-0 transition-opacity"},[Z("div",{class:"absolute inset-0 bg-gray-800 opacity-75"})],-1),LD=Z("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen"},"​",-1),DD={class:"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},xD={class:"py-4 text-left px-6"},MD={class:"flex justify-between items-center pb-4"},FD={class:"text-2xl font-bold"},UD=Z("i",{class:"fas fa-times"},null,-1),$D=[UD],VD={class:"flex flex-wrap mb-4"},BD={class:"flex-auto text-center"},jD={class:"flex-auto text-center"};function HD(t,e,n,r,s,i){const o=Qt("app-login-form"),a=Qt("app-register-form");return ct(),Nt("div",{class:Qn(["fixed z-10 inset-0 overflow-y-auto",t.hiddenClass]),id:"modal"},[Z("div",ND,[PD,LD,Z("div",DD,[Z("div",xD,[Z("div",MD,[Z("p",FD,Pe(t.$t("auth.account")),1),Z("div",{class:"modal-close cursor-pointer z-50",onClick:e[0]||(e[0]=u=>t.modalVisibility=!1)},$D)]),Z("ul",VD,[Z("li",BD,[Z("a",{class:Qn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":s.tab==="login","hover:text-blue-600":s.tab==="register"}]),href:"#",onClick:e[1]||(e[1]=ds(u=>s.tab="login",["prevent"]))},Pe(t.$t("auth.login")),3)]),Z("li",jD,[Z("a",{class:Qn(["block rounded py-3 px-4 transition",{"hover:text-white text-white bg-blue-600":s.tab==="register","hover:text-blue-600":s.tab==="login"}]),href:"#",onClick:e[2]||(e[2]=ds(u=>s.tab="register",["prevent"]))},Pe(t.$t("auth.register")),3)])]),s.tab==="login"?(ct(),sl(o,{key:0})):(ct(),sl(a,{key:1}))])])])],2)}const qD=Ms(RD,[["render",HD]]);var On=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function zd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Af={};/*!
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(t){(function(){var e=function(){this.init()};e.prototype={init:function(){var l=this||n;return l._counter=1e3,l._html5AudioPool=[],l.html5PoolSize=10,l._codecs={},l._howls=[],l._muted=!1,l._volume=1,l._canPlayEvent="canplaythrough",l._navigator=typeof window<"u"&&window.navigator?window.navigator:null,l.masterGain=null,l.noAudio=!1,l.usingWebAudio=!0,l.autoSuspend=!0,l.ctx=null,l.autoUnlock=!0,l._setup(),l},volume:function(l){var f=this||n;if(l=parseFloat(l),f.ctx||h(),typeof l<"u"&&l>=0&&l<=1){if(f._volume=l,f._muted)return f;f.usingWebAudio&&f.masterGain.gain.setValueAtTime(l,n.ctx.currentTime);for(var d=0;d<f._howls.length;d++)if(!f._howls[d]._webAudio)for(var p=f._howls[d]._getSoundIds(),y=0;y<p.length;y++){var v=f._howls[d]._soundById(p[y]);v&&v._node&&(v._node.volume=v._volume*l)}return f}return f._volume},mute:function(l){var f=this||n;f.ctx||h(),f._muted=l,f.usingWebAudio&&f.masterGain.gain.setValueAtTime(l?0:f._volume,n.ctx.currentTime);for(var d=0;d<f._howls.length;d++)if(!f._howls[d]._webAudio)for(var p=f._howls[d]._getSoundIds(),y=0;y<p.length;y++){var v=f._howls[d]._soundById(p[y]);v&&v._node&&(v._node.muted=l?!0:v._muted)}return f},stop:function(){for(var l=this||n,f=0;f<l._howls.length;f++)l._howls[f].stop();return l},unload:function(){for(var l=this||n,f=l._howls.length-1;f>=0;f--)l._howls[f].unload();return l.usingWebAudio&&l.ctx&&typeof l.ctx.close<"u"&&(l.ctx.close(),l.ctx=null,h()),l},codecs:function(l){return(this||n)._codecs[l.replace(/^x-/,"")]},_setup:function(){var l=this||n;if(l.state=l.ctx&&l.ctx.state||"suspended",l._autoSuspend(),!l.usingWebAudio)if(typeof Audio<"u")try{var f=new Audio;typeof f.oncanplaythrough>"u"&&(l._canPlayEvent="canplay")}catch{l.noAudio=!0}else l.noAudio=!0;try{var f=new Audio;f.muted&&(l.noAudio=!0)}catch{}return l.noAudio||l._setupCodecs(),l},_setupCodecs:function(){var l=this||n,f=null;try{f=typeof Audio<"u"?new Audio:null}catch{return l}if(!f||typeof f.canPlayType!="function")return l;var d=f.canPlayType("audio/mpeg;").replace(/^no$/,""),p=l._navigator?l._navigator.userAgent:"",y=p.match(/OPR\/(\d+)/g),v=y&&parseInt(y[0].split("/")[1],10)<33,m=p.indexOf("Safari")!==-1&&p.indexOf("Chrome")===-1,w=p.match(/Version\/(.*?) /),S=m&&w&&parseInt(w[1],10)<15;return l._codecs={mp3:!!(!v&&(d||f.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!d,opus:!!f.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!f.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(f.canPlayType('audio/wav; codecs="1"')||f.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!f.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!f.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(f.canPlayType("audio/x-m4a;")||f.canPlayType("audio/m4a;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(f.canPlayType("audio/x-m4b;")||f.canPlayType("audio/m4b;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(f.canPlayType("audio/x-mp4;")||f.canPlayType("audio/mp4;")||f.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!S&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!S&&f.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!f.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(f.canPlayType("audio/x-flac;")||f.canPlayType("audio/flac;")).replace(/^no$/,"")},l},_unlockAudio:function(){var l=this||n;if(!(l._audioUnlocked||!l.ctx)){l._audioUnlocked=!1,l.autoUnlock=!1,!l._mobileUnloaded&&l.ctx.sampleRate!==44100&&(l._mobileUnloaded=!0,l.unload()),l._scratchBuffer=l.ctx.createBuffer(1,1,22050);var f=function(d){for(;l._html5AudioPool.length<l.html5PoolSize;)try{var p=new Audio;p._unlocked=!0,l._releaseHtml5Audio(p)}catch{l.noAudio=!0;break}for(var y=0;y<l._howls.length;y++)if(!l._howls[y]._webAudio)for(var v=l._howls[y]._getSoundIds(),m=0;m<v.length;m++){var w=l._howls[y]._soundById(v[m]);w&&w._node&&!w._node._unlocked&&(w._node._unlocked=!0,w._node.load())}l._autoResume();var S=l.ctx.createBufferSource();S.buffer=l._scratchBuffer,S.connect(l.ctx.destination),typeof S.start>"u"?S.noteOn(0):S.start(0),typeof l.ctx.resume=="function"&&l.ctx.resume(),S.onended=function(){S.disconnect(0),l._audioUnlocked=!0,document.removeEventListener("touchstart",f,!0),document.removeEventListener("touchend",f,!0),document.removeEventListener("click",f,!0),document.removeEventListener("keydown",f,!0);for(var E=0;E<l._howls.length;E++)l._howls[E]._emit("unlock")}};return document.addEventListener("touchstart",f,!0),document.addEventListener("touchend",f,!0),document.addEventListener("click",f,!0),document.addEventListener("keydown",f,!0),l}},_obtainHtml5Audio:function(){var l=this||n;if(l._html5AudioPool.length)return l._html5AudioPool.pop();var f=new Audio().play();return f&&typeof Promise<"u"&&(f instanceof Promise||typeof f.then=="function")&&f.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(l){var f=this||n;return l._unlocked&&f._html5AudioPool.push(l),f},_autoSuspend:function(){var l=this;if(!(!l.autoSuspend||!l.ctx||typeof l.ctx.suspend>"u"||!n.usingWebAudio)){for(var f=0;f<l._howls.length;f++)if(l._howls[f]._webAudio){for(var d=0;d<l._howls[f]._sounds.length;d++)if(!l._howls[f]._sounds[d]._paused)return l}return l._suspendTimer&&clearTimeout(l._suspendTimer),l._suspendTimer=setTimeout(function(){if(l.autoSuspend){l._suspendTimer=null,l.state="suspending";var p=function(){l.state="suspended",l._resumeAfterSuspend&&(delete l._resumeAfterSuspend,l._autoResume())};l.ctx.suspend().then(p,p)}},3e4),l}},_autoResume:function(){var l=this;if(!(!l.ctx||typeof l.ctx.resume>"u"||!n.usingWebAudio))return l.state==="running"&&l.ctx.state!=="interrupted"&&l._suspendTimer?(clearTimeout(l._suspendTimer),l._suspendTimer=null):l.state==="suspended"||l.state==="running"&&l.ctx.state==="interrupted"?(l.ctx.resume().then(function(){l.state="running";for(var f=0;f<l._howls.length;f++)l._howls[f]._emit("resume")}),l._suspendTimer&&(clearTimeout(l._suspendTimer),l._suspendTimer=null)):l.state==="suspending"&&(l._resumeAfterSuspend=!0),l}};var n=new e,r=function(l){var f=this;if(!l.src||l.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}f.init(l)};r.prototype={init:function(l){var f=this;return n.ctx||h(),f._autoplay=l.autoplay||!1,f._format=typeof l.format!="string"?l.format:[l.format],f._html5=l.html5||!1,f._muted=l.mute||!1,f._loop=l.loop||!1,f._pool=l.pool||5,f._preload=typeof l.preload=="boolean"||l.preload==="metadata"?l.preload:!0,f._rate=l.rate||1,f._sprite=l.sprite||{},f._src=typeof l.src!="string"?l.src:[l.src],f._volume=l.volume!==void 0?l.volume:1,f._xhr={method:l.xhr&&l.xhr.method?l.xhr.method:"GET",headers:l.xhr&&l.xhr.headers?l.xhr.headers:null,withCredentials:l.xhr&&l.xhr.withCredentials?l.xhr.withCredentials:!1},f._duration=0,f._state="unloaded",f._sounds=[],f._endTimers={},f._queue=[],f._playLock=!1,f._onend=l.onend?[{fn:l.onend}]:[],f._onfade=l.onfade?[{fn:l.onfade}]:[],f._onload=l.onload?[{fn:l.onload}]:[],f._onloaderror=l.onloaderror?[{fn:l.onloaderror}]:[],f._onplayerror=l.onplayerror?[{fn:l.onplayerror}]:[],f._onpause=l.onpause?[{fn:l.onpause}]:[],f._onplay=l.onplay?[{fn:l.onplay}]:[],f._onstop=l.onstop?[{fn:l.onstop}]:[],f._onmute=l.onmute?[{fn:l.onmute}]:[],f._onvolume=l.onvolume?[{fn:l.onvolume}]:[],f._onrate=l.onrate?[{fn:l.onrate}]:[],f._onseek=l.onseek?[{fn:l.onseek}]:[],f._onunlock=l.onunlock?[{fn:l.onunlock}]:[],f._onresume=[],f._webAudio=n.usingWebAudio&&!f._html5,typeof n.ctx<"u"&&n.ctx&&n.autoUnlock&&n._unlockAudio(),n._howls.push(f),f._autoplay&&f._queue.push({event:"play",action:function(){f.play()}}),f._preload&&f._preload!=="none"&&f.load(),f},load:function(){var l=this,f=null;if(n.noAudio){l._emit("loaderror",null,"No audio support.");return}typeof l._src=="string"&&(l._src=[l._src]);for(var d=0;d<l._src.length;d++){var p,y;if(l._format&&l._format[d])p=l._format[d];else{if(y=l._src[d],typeof y!="string"){l._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}p=/^data:audio\/([^;,]+);/i.exec(y),p||(p=/\.([^.]+)$/.exec(y.split("?",1)[0])),p&&(p=p[1].toLowerCase())}if(p||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),p&&n.codecs(p)){f=l._src[d];break}}if(!f){l._emit("loaderror",null,"No codec support for selected audio sources.");return}return l._src=f,l._state="loading",window.location.protocol==="https:"&&f.slice(0,5)==="http:"&&(l._html5=!0,l._webAudio=!1),new s(l),l._webAudio&&o(l),l},play:function(l,f){var d=this,p=null;if(typeof l=="number")p=l,l=null;else{if(typeof l=="string"&&d._state==="loaded"&&!d._sprite[l])return null;if(typeof l>"u"&&(l="__default",!d._playLock)){for(var y=0,v=0;v<d._sounds.length;v++)d._sounds[v]._paused&&!d._sounds[v]._ended&&(y++,p=d._sounds[v]._id);y===1?l=null:p=null}}var m=p?d._soundById(p):d._inactiveSound();if(!m)return null;if(p&&!l&&(l=m._sprite||"__default"),d._state!=="loaded"){m._sprite=l,m._ended=!1;var w=m._id;return d._queue.push({event:"play",action:function(){d.play(w)}}),w}if(p&&!m._paused)return f||d._loadQueue("play"),m._id;d._webAudio&&n._autoResume();var S=Math.max(0,m._seek>0?m._seek:d._sprite[l][0]/1e3),E=Math.max(0,(d._sprite[l][0]+d._sprite[l][1])/1e3-S),R=E*1e3/Math.abs(m._rate),O=d._sprite[l][0]/1e3,x=(d._sprite[l][0]+d._sprite[l][1])/1e3;m._sprite=l,m._ended=!1;var L=function(){m._paused=!1,m._seek=S,m._start=O,m._stop=x,m._loop=!!(m._loop||d._sprite[l][2])};if(S>=x){d._ended(m);return}var D=m._node;if(d._webAudio){var Q=function(){d._playLock=!1,L(),d._refreshBuffer(m);var ce=m._muted||d._muted?0:m._volume;D.gain.setValueAtTime(ce,n.ctx.currentTime),m._playStart=n.ctx.currentTime,typeof D.bufferSource.start>"u"?m._loop?D.bufferSource.noteGrainOn(0,S,86400):D.bufferSource.noteGrainOn(0,S,E):m._loop?D.bufferSource.start(0,S,86400):D.bufferSource.start(0,S,E),R!==1/0&&(d._endTimers[m._id]=setTimeout(d._ended.bind(d,m),R)),f||setTimeout(function(){d._emit("play",m._id),d._loadQueue()},0)};n.state==="running"&&n.ctx.state!=="interrupted"?Q():(d._playLock=!0,d.once("resume",Q),d._clearTimer(m._id))}else{var ae=function(){D.currentTime=S,D.muted=m._muted||d._muted||n._muted||D.muted,D.volume=m._volume*n.volume(),D.playbackRate=m._rate;try{var ce=D.play();if(ce&&typeof Promise<"u"&&(ce instanceof Promise||typeof ce.then=="function")?(d._playLock=!0,L(),ce.then(function(){d._playLock=!1,D._unlocked=!0,f?d._loadQueue():d._emit("play",m._id)}).catch(function(){d._playLock=!1,d._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),m._ended=!0,m._paused=!0})):f||(d._playLock=!1,L(),d._emit("play",m._id)),D.playbackRate=m._rate,D.paused){d._emit("playerror",m._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}l!=="__default"||m._loop?d._endTimers[m._id]=setTimeout(d._ended.bind(d,m),R):(d._endTimers[m._id]=function(){d._ended(m),D.removeEventListener("ended",d._endTimers[m._id],!1)},D.addEventListener("ended",d._endTimers[m._id],!1))}catch(Se){d._emit("playerror",m._id,Se)}};D.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(D.src=d._src,D.load());var W=window&&window.ejecta||!D.readyState&&n._navigator.isCocoonJS;if(D.readyState>=3||W)ae();else{d._playLock=!0,d._state="loading";var re=function(){d._state="loaded",ae(),D.removeEventListener(n._canPlayEvent,re,!1)};D.addEventListener(n._canPlayEvent,re,!1),d._clearTimer(m._id)}}return m._id},pause:function(l){var f=this;if(f._state!=="loaded"||f._playLock)return f._queue.push({event:"pause",action:function(){f.pause(l)}}),f;for(var d=f._getSoundIds(l),p=0;p<d.length;p++){f._clearTimer(d[p]);var y=f._soundById(d[p]);if(y&&!y._paused&&(y._seek=f.seek(d[p]),y._rateSeek=0,y._paused=!0,f._stopFade(d[p]),y._node))if(f._webAudio){if(!y._node.bufferSource)continue;typeof y._node.bufferSource.stop>"u"?y._node.bufferSource.noteOff(0):y._node.bufferSource.stop(0),f._cleanBuffer(y._node)}else(!isNaN(y._node.duration)||y._node.duration===1/0)&&y._node.pause();arguments[1]||f._emit("pause",y?y._id:null)}return f},stop:function(l,f){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"stop",action:function(){d.stop(l)}}),d;for(var p=d._getSoundIds(l),y=0;y<p.length;y++){d._clearTimer(p[y]);var v=d._soundById(p[y]);v&&(v._seek=v._start||0,v._rateSeek=0,v._paused=!0,v._ended=!0,d._stopFade(p[y]),v._node&&(d._webAudio?v._node.bufferSource&&(typeof v._node.bufferSource.stop>"u"?v._node.bufferSource.noteOff(0):v._node.bufferSource.stop(0),d._cleanBuffer(v._node)):(!isNaN(v._node.duration)||v._node.duration===1/0)&&(v._node.currentTime=v._start||0,v._node.pause(),v._node.duration===1/0&&d._clearSound(v._node))),f||d._emit("stop",v._id))}return d},mute:function(l,f){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"mute",action:function(){d.mute(l,f)}}),d;if(typeof f>"u")if(typeof l=="boolean")d._muted=l;else return d._muted;for(var p=d._getSoundIds(f),y=0;y<p.length;y++){var v=d._soundById(p[y]);v&&(v._muted=l,v._interval&&d._stopFade(v._id),d._webAudio&&v._node?v._node.gain.setValueAtTime(l?0:v._volume,n.ctx.currentTime):v._node&&(v._node.muted=n._muted?!0:l),d._emit("mute",v._id))}return d},volume:function(){var l=this,f=arguments,d,p;if(f.length===0)return l._volume;if(f.length===1||f.length===2&&typeof f[1]>"u"){var y=l._getSoundIds(),v=y.indexOf(f[0]);v>=0?p=parseInt(f[0],10):d=parseFloat(f[0])}else f.length>=2&&(d=parseFloat(f[0]),p=parseInt(f[1],10));var m;if(typeof d<"u"&&d>=0&&d<=1){if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"volume",action:function(){l.volume.apply(l,f)}}),l;typeof p>"u"&&(l._volume=d),p=l._getSoundIds(p);for(var w=0;w<p.length;w++)m=l._soundById(p[w]),m&&(m._volume=d,f[2]||l._stopFade(p[w]),l._webAudio&&m._node&&!m._muted?m._node.gain.setValueAtTime(d,n.ctx.currentTime):m._node&&!m._muted&&(m._node.volume=d*n.volume()),l._emit("volume",m._id))}else return m=p?l._soundById(p):l._sounds[0],m?m._volume:0;return l},fade:function(l,f,d,p){var y=this;if(y._state!=="loaded"||y._playLock)return y._queue.push({event:"fade",action:function(){y.fade(l,f,d,p)}}),y;l=Math.min(Math.max(0,parseFloat(l)),1),f=Math.min(Math.max(0,parseFloat(f)),1),d=parseFloat(d),y.volume(l,p);for(var v=y._getSoundIds(p),m=0;m<v.length;m++){var w=y._soundById(v[m]);if(w){if(p||y._stopFade(v[m]),y._webAudio&&!w._muted){var S=n.ctx.currentTime,E=S+d/1e3;w._volume=l,w._node.gain.setValueAtTime(l,S),w._node.gain.linearRampToValueAtTime(f,E)}y._startFadeInterval(w,l,f,d,v[m],typeof p>"u")}}return y},_startFadeInterval:function(l,f,d,p,y,v){var m=this,w=f,S=d-f,E=Math.abs(S/.01),R=Math.max(4,E>0?p/E:p),O=Date.now();l._fadeTo=d,l._interval=setInterval(function(){var x=(Date.now()-O)/p;O=Date.now(),w+=S*x,w=Math.round(w*100)/100,S<0?w=Math.max(d,w):w=Math.min(d,w),m._webAudio?l._volume=w:m.volume(w,l._id,!0),v&&(m._volume=w),(d<f&&w<=d||d>f&&w>=d)&&(clearInterval(l._interval),l._interval=null,l._fadeTo=null,m.volume(d,l._id),m._emit("fade",l._id))},R)},_stopFade:function(l){var f=this,d=f._soundById(l);return d&&d._interval&&(f._webAudio&&d._node.gain.cancelScheduledValues(n.ctx.currentTime),clearInterval(d._interval),d._interval=null,f.volume(d._fadeTo,l),d._fadeTo=null,f._emit("fade",l)),f},loop:function(){var l=this,f=arguments,d,p,y;if(f.length===0)return l._loop;if(f.length===1)if(typeof f[0]=="boolean")d=f[0],l._loop=d;else return y=l._soundById(parseInt(f[0],10)),y?y._loop:!1;else f.length===2&&(d=f[0],p=parseInt(f[1],10));for(var v=l._getSoundIds(p),m=0;m<v.length;m++)y=l._soundById(v[m]),y&&(y._loop=d,l._webAudio&&y._node&&y._node.bufferSource&&(y._node.bufferSource.loop=d,d&&(y._node.bufferSource.loopStart=y._start||0,y._node.bufferSource.loopEnd=y._stop,l.playing(v[m])&&(l.pause(v[m],!0),l.play(v[m],!0)))));return l},rate:function(){var l=this,f=arguments,d,p;if(f.length===0)p=l._sounds[0]._id;else if(f.length===1){var y=l._getSoundIds(),v=y.indexOf(f[0]);v>=0?p=parseInt(f[0],10):d=parseFloat(f[0])}else f.length===2&&(d=parseFloat(f[0]),p=parseInt(f[1],10));var m;if(typeof d=="number"){if(l._state!=="loaded"||l._playLock)return l._queue.push({event:"rate",action:function(){l.rate.apply(l,f)}}),l;typeof p>"u"&&(l._rate=d),p=l._getSoundIds(p);for(var w=0;w<p.length;w++)if(m=l._soundById(p[w]),m){l.playing(p[w])&&(m._rateSeek=l.seek(p[w]),m._playStart=l._webAudio?n.ctx.currentTime:m._playStart),m._rate=d,l._webAudio&&m._node&&m._node.bufferSource?m._node.bufferSource.playbackRate.setValueAtTime(d,n.ctx.currentTime):m._node&&(m._node.playbackRate=d);var S=l.seek(p[w]),E=(l._sprite[m._sprite][0]+l._sprite[m._sprite][1])/1e3-S,R=E*1e3/Math.abs(m._rate);(l._endTimers[p[w]]||!m._paused)&&(l._clearTimer(p[w]),l._endTimers[p[w]]=setTimeout(l._ended.bind(l,m),R)),l._emit("rate",m._id)}}else return m=l._soundById(p),m?m._rate:l._rate;return l},seek:function(){var l=this,f=arguments,d,p;if(f.length===0)l._sounds.length&&(p=l._sounds[0]._id);else if(f.length===1){var y=l._getSoundIds(),v=y.indexOf(f[0]);v>=0?p=parseInt(f[0],10):l._sounds.length&&(p=l._sounds[0]._id,d=parseFloat(f[0]))}else f.length===2&&(d=parseFloat(f[0]),p=parseInt(f[1],10));if(typeof p>"u")return 0;if(typeof d=="number"&&(l._state!=="loaded"||l._playLock))return l._queue.push({event:"seek",action:function(){l.seek.apply(l,f)}}),l;var m=l._soundById(p);if(m)if(typeof d=="number"&&d>=0){var w=l.playing(p);w&&l.pause(p,!0),m._seek=d,m._ended=!1,l._clearTimer(p),!l._webAudio&&m._node&&!isNaN(m._node.duration)&&(m._node.currentTime=d);var S=function(){w&&l.play(p,!0),l._emit("seek",p)};if(w&&!l._webAudio){var E=function(){l._playLock?setTimeout(E,0):S()};setTimeout(E,0)}else S()}else if(l._webAudio){var R=l.playing(p)?n.ctx.currentTime-m._playStart:0,O=m._rateSeek?m._rateSeek-m._seek:0;return m._seek+(O+R*Math.abs(m._rate))}else return m._node.currentTime;return l},playing:function(l){var f=this;if(typeof l=="number"){var d=f._soundById(l);return d?!d._paused:!1}for(var p=0;p<f._sounds.length;p++)if(!f._sounds[p]._paused)return!0;return!1},duration:function(l){var f=this,d=f._duration,p=f._soundById(l);return p&&(d=f._sprite[p._sprite][1]/1e3),d},state:function(){return this._state},unload:function(){for(var l=this,f=l._sounds,d=0;d<f.length;d++)f[d]._paused||l.stop(f[d]._id),l._webAudio||(l._clearSound(f[d]._node),f[d]._node.removeEventListener("error",f[d]._errorFn,!1),f[d]._node.removeEventListener(n._canPlayEvent,f[d]._loadFn,!1),f[d]._node.removeEventListener("ended",f[d]._endFn,!1),n._releaseHtml5Audio(f[d]._node)),delete f[d]._node,l._clearTimer(f[d]._id);var p=n._howls.indexOf(l);p>=0&&n._howls.splice(p,1);var y=!0;for(d=0;d<n._howls.length;d++)if(n._howls[d]._src===l._src||l._src.indexOf(n._howls[d]._src)>=0){y=!1;break}return i&&y&&delete i[l._src],n.noAudio=!1,l._state="unloaded",l._sounds=[],l=null,null},on:function(l,f,d,p){var y=this,v=y["_on"+l];return typeof f=="function"&&v.push(p?{id:d,fn:f,once:p}:{id:d,fn:f}),y},off:function(l,f,d){var p=this,y=p["_on"+l],v=0;if(typeof f=="number"&&(d=f,f=null),f||d)for(v=0;v<y.length;v++){var m=d===y[v].id;if(f===y[v].fn&&m||!f&&m){y.splice(v,1);break}}else if(l)p["_on"+l]=[];else{var w=Object.keys(p);for(v=0;v<w.length;v++)w[v].indexOf("_on")===0&&Array.isArray(p[w[v]])&&(p[w[v]]=[])}return p},once:function(l,f,d){var p=this;return p.on(l,f,d,1),p},_emit:function(l,f,d){for(var p=this,y=p["_on"+l],v=y.length-1;v>=0;v--)(!y[v].id||y[v].id===f||l==="load")&&(setTimeout(function(m){m.call(this,f,d)}.bind(p,y[v].fn),0),y[v].once&&p.off(l,y[v].fn,y[v].id));return p._loadQueue(l),p},_loadQueue:function(l){var f=this;if(f._queue.length>0){var d=f._queue[0];d.event===l&&(f._queue.shift(),f._loadQueue()),l||d.action()}return f},_ended:function(l){var f=this,d=l._sprite;if(!f._webAudio&&l._node&&!l._node.paused&&!l._node.ended&&l._node.currentTime<l._stop)return setTimeout(f._ended.bind(f,l),100),f;var p=!!(l._loop||f._sprite[d][2]);if(f._emit("end",l._id),!f._webAudio&&p&&f.stop(l._id,!0).play(l._id),f._webAudio&&p){f._emit("play",l._id),l._seek=l._start||0,l._rateSeek=0,l._playStart=n.ctx.currentTime;var y=(l._stop-l._start)*1e3/Math.abs(l._rate);f._endTimers[l._id]=setTimeout(f._ended.bind(f,l),y)}return f._webAudio&&!p&&(l._paused=!0,l._ended=!0,l._seek=l._start||0,l._rateSeek=0,f._clearTimer(l._id),f._cleanBuffer(l._node),n._autoSuspend()),!f._webAudio&&!p&&f.stop(l._id,!0),f},_clearTimer:function(l){var f=this;if(f._endTimers[l]){if(typeof f._endTimers[l]!="function")clearTimeout(f._endTimers[l]);else{var d=f._soundById(l);d&&d._node&&d._node.removeEventListener("ended",f._endTimers[l],!1)}delete f._endTimers[l]}return f},_soundById:function(l){for(var f=this,d=0;d<f._sounds.length;d++)if(l===f._sounds[d]._id)return f._sounds[d];return null},_inactiveSound:function(){var l=this;l._drain();for(var f=0;f<l._sounds.length;f++)if(l._sounds[f]._ended)return l._sounds[f].reset();return new s(l)},_drain:function(){var l=this,f=l._pool,d=0,p=0;if(!(l._sounds.length<f)){for(p=0;p<l._sounds.length;p++)l._sounds[p]._ended&&d++;for(p=l._sounds.length-1;p>=0;p--){if(d<=f)return;l._sounds[p]._ended&&(l._webAudio&&l._sounds[p]._node&&l._sounds[p]._node.disconnect(0),l._sounds.splice(p,1),d--)}}},_getSoundIds:function(l){var f=this;if(typeof l>"u"){for(var d=[],p=0;p<f._sounds.length;p++)d.push(f._sounds[p]._id);return d}else return[l]},_refreshBuffer:function(l){var f=this;return l._node.bufferSource=n.ctx.createBufferSource(),l._node.bufferSource.buffer=i[f._src],l._panner?l._node.bufferSource.connect(l._panner):l._node.bufferSource.connect(l._node),l._node.bufferSource.loop=l._loop,l._loop&&(l._node.bufferSource.loopStart=l._start||0,l._node.bufferSource.loopEnd=l._stop||0),l._node.bufferSource.playbackRate.setValueAtTime(l._rate,n.ctx.currentTime),f},_cleanBuffer:function(l){var f=this,d=n._navigator&&n._navigator.vendor.indexOf("Apple")>=0;if(!l.bufferSource)return f;if(n._scratchBuffer&&l.bufferSource&&(l.bufferSource.onended=null,l.bufferSource.disconnect(0),d))try{l.bufferSource.buffer=n._scratchBuffer}catch{}return l.bufferSource=null,f},_clearSound:function(l){var f=/MSIE |Trident\//.test(n._navigator&&n._navigator.userAgent);f||(l.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var s=function(l){this._parent=l,this.init()};s.prototype={init:function(){var l=this,f=l._parent;return l._muted=f._muted,l._loop=f._loop,l._volume=f._volume,l._rate=f._rate,l._seek=0,l._paused=!0,l._ended=!0,l._sprite="__default",l._id=++n._counter,f._sounds.push(l),l.create(),l},create:function(){var l=this,f=l._parent,d=n._muted||l._muted||l._parent._muted?0:l._volume;return f._webAudio?(l._node=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),l._node.gain.setValueAtTime(d,n.ctx.currentTime),l._node.paused=!0,l._node.connect(n.masterGain)):n.noAudio||(l._node=n._obtainHtml5Audio(),l._errorFn=l._errorListener.bind(l),l._node.addEventListener("error",l._errorFn,!1),l._loadFn=l._loadListener.bind(l),l._node.addEventListener(n._canPlayEvent,l._loadFn,!1),l._endFn=l._endListener.bind(l),l._node.addEventListener("ended",l._endFn,!1),l._node.src=f._src,l._node.preload=f._preload===!0?"auto":f._preload,l._node.volume=d*n.volume(),l._node.load()),l},reset:function(){var l=this,f=l._parent;return l._muted=f._muted,l._loop=f._loop,l._volume=f._volume,l._rate=f._rate,l._seek=0,l._rateSeek=0,l._paused=!0,l._ended=!0,l._sprite="__default",l._id=++n._counter,l},_errorListener:function(){var l=this;l._parent._emit("loaderror",l._id,l._node.error?l._node.error.code:0),l._node.removeEventListener("error",l._errorFn,!1)},_loadListener:function(){var l=this,f=l._parent;f._duration=Math.ceil(l._node.duration*10)/10,Object.keys(f._sprite).length===0&&(f._sprite={__default:[0,f._duration*1e3]}),f._state!=="loaded"&&(f._state="loaded",f._emit("load"),f._loadQueue()),l._node.removeEventListener(n._canPlayEvent,l._loadFn,!1)},_endListener:function(){var l=this,f=l._parent;f._duration===1/0&&(f._duration=Math.ceil(l._node.duration*10)/10,f._sprite.__default[1]===1/0&&(f._sprite.__default[1]=f._duration*1e3),f._ended(l)),l._node.removeEventListener("ended",l._endFn,!1)}};var i={},o=function(l){var f=l._src;if(i[f]){l._duration=i[f].duration,c(l);return}if(/^data:[^;]+;base64,/.test(f)){for(var d=atob(f.split(",")[1]),p=new Uint8Array(d.length),y=0;y<d.length;++y)p[y]=d.charCodeAt(y);u(p.buffer,l)}else{var v=new XMLHttpRequest;v.open(l._xhr.method,f,!0),v.withCredentials=l._xhr.withCredentials,v.responseType="arraybuffer",l._xhr.headers&&Object.keys(l._xhr.headers).forEach(function(m){v.setRequestHeader(m,l._xhr.headers[m])}),v.onload=function(){var m=(v.status+"")[0];if(m!=="0"&&m!=="2"&&m!=="3"){l._emit("loaderror",null,"Failed loading audio file with status: "+v.status+".");return}u(v.response,l)},v.onerror=function(){l._webAudio&&(l._html5=!0,l._webAudio=!1,l._sounds=[],delete i[f],l.load())},a(v)}},a=function(l){try{l.send()}catch{l.onerror()}},u=function(l,f){var d=function(){f._emit("loaderror",null,"Decoding audio data failed.")},p=function(y){y&&f._sounds.length>0?(i[f._src]=y,c(f,y)):d()};typeof Promise<"u"&&n.ctx.decodeAudioData.length===1?n.ctx.decodeAudioData(l).then(p).catch(d):n.ctx.decodeAudioData(l,p,d)},c=function(l,f){f&&!l._duration&&(l._duration=f.duration),Object.keys(l._sprite).length===0&&(l._sprite={__default:[0,l._duration*1e3]}),l._state!=="loaded"&&(l._state="loaded",l._emit("load"),l._loadQueue())},h=function(){if(n.usingWebAudio){try{typeof AudioContext<"u"?n.ctx=new AudioContext:typeof webkitAudioContext<"u"?n.ctx=new webkitAudioContext:n.usingWebAudio=!1}catch{n.usingWebAudio=!1}n.ctx||(n.usingWebAudio=!1);var l=/iP(hone|od|ad)/.test(n._navigator&&n._navigator.platform),f=n._navigator&&n._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),d=f?parseInt(f[1],10):null;if(l&&d&&d<9){var p=/safari/.test(n._navigator&&n._navigator.userAgent.toLowerCase());n._navigator&&!p&&(n.usingWebAudio=!1)}n.usingWebAudio&&(n.masterGain=typeof n.ctx.createGain>"u"?n.ctx.createGainNode():n.ctx.createGain(),n.masterGain.gain.setValueAtTime(n._muted?0:n._volume,n.ctx.currentTime),n.masterGain.connect(n.ctx.destination)),n._setup()}};t.Howler=n,t.Howl=r,typeof On<"u"?(On.HowlerGlobal=e,On.Howler=n,On.Howl=r,On.Sound=s):typeof window<"u"&&(window.HowlerGlobal=e,window.Howler=n,window.Howl=r,window.Sound=s)})();/*!
 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
 *  
 *  howler.js v2.2.4
 *  howlerjs.com
 *
 *  (c) 2013-2020, James Simpson of GoldFire Studios
 *  goldfirestudios.com
 *
 *  MIT License
 */(function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(n){var r=this;if(!r.ctx||!r.ctx.listener)return r;for(var s=r._howls.length-1;s>=0;s--)r._howls[s].stereo(n);return r},HowlerGlobal.prototype.pos=function(n,r,s){var i=this;if(!i.ctx||!i.ctx.listener)return i;if(r=typeof r!="number"?i._pos[1]:r,s=typeof s!="number"?i._pos[2]:s,typeof n=="number")i._pos=[n,r,s],typeof i.ctx.listener.positionX<"u"?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]);else return i._pos;return i},HowlerGlobal.prototype.orientation=function(n,r,s,i,o,a){var u=this;if(!u.ctx||!u.ctx.listener)return u;var c=u._orientation;if(r=typeof r!="number"?c[1]:r,s=typeof s!="number"?c[2]:s,i=typeof i!="number"?c[3]:i,o=typeof o!="number"?c[4]:o,a=typeof a!="number"?c[5]:a,typeof n=="number")u._orientation=[n,r,s,i,o,a],typeof u.ctx.listener.forwardX<"u"?(u.ctx.listener.forwardX.setTargetAtTime(n,Howler.ctx.currentTime,.1),u.ctx.listener.forwardY.setTargetAtTime(r,Howler.ctx.currentTime,.1),u.ctx.listener.forwardZ.setTargetAtTime(s,Howler.ctx.currentTime,.1),u.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),u.ctx.listener.upY.setTargetAtTime(o,Howler.ctx.currentTime,.1),u.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):u.ctx.listener.setOrientation(n,r,s,i,o,a);else return c;return u},Howl.prototype.init=function(n){return function(r){var s=this;return s._orientation=r.orientation||[1,0,0],s._stereo=r.stereo||null,s._pos=r.pos||null,s._pannerAttr={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:360,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:360,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:0,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:"inverse",maxDistance:typeof r.maxDistance<"u"?r.maxDistance:1e4,panningModel:typeof r.panningModel<"u"?r.panningModel:"HRTF",refDistance:typeof r.refDistance<"u"?r.refDistance:1,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:1},s._onstereo=r.onstereo?[{fn:r.onstereo}]:[],s._onpos=r.onpos?[{fn:r.onpos}]:[],s._onorientation=r.onorientation?[{fn:r.onorientation}]:[],n.call(this,r)}}(Howl.prototype.init),Howl.prototype.stereo=function(n,r){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"stereo",action:function(){s.stereo(n,r)}}),s;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof r>"u")if(typeof n=="number")s._stereo=n,s._pos=[n,0,0];else return s._stereo;for(var o=s._getSoundIds(r),a=0;a<o.length;a++){var u=s._soundById(o[a]);if(u)if(typeof n=="number")u._stereo=n,u._pos=[n,0,0],u._node&&(u._pannerAttr.panningModel="equalpower",(!u._panner||!u._panner.pan)&&e(u,i),i==="spatial"?typeof u._panner.positionX<"u"?(u._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),u._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),u._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):u._panner.setPosition(n,0,0):u._panner.pan.setValueAtTime(n,Howler.ctx.currentTime)),s._emit("stereo",u._id);else return u._stereo}return s},Howl.prototype.pos=function(n,r,s,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"pos",action:function(){o.pos(n,r,s,i)}}),o;if(r=typeof r!="number"?0:r,s=typeof s!="number"?-.5:s,typeof i>"u")if(typeof n=="number")o._pos=[n,r,s];else return o._pos;for(var a=o._getSoundIds(i),u=0;u<a.length;u++){var c=o._soundById(a[u]);if(c)if(typeof n=="number")c._pos=[n,r,s],c._node&&((!c._panner||c._panner.pan)&&e(c,"spatial"),typeof c._panner.positionX<"u"?(c._panner.positionX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.positionY.setValueAtTime(r,Howler.ctx.currentTime),c._panner.positionZ.setValueAtTime(s,Howler.ctx.currentTime)):c._panner.setPosition(n,r,s)),o._emit("pos",c._id);else return c._pos}return o},Howl.prototype.orientation=function(n,r,s,i){var o=this;if(!o._webAudio)return o;if(o._state!=="loaded")return o._queue.push({event:"orientation",action:function(){o.orientation(n,r,s,i)}}),o;if(r=typeof r!="number"?o._orientation[1]:r,s=typeof s!="number"?o._orientation[2]:s,typeof i>"u")if(typeof n=="number")o._orientation=[n,r,s];else return o._orientation;for(var a=o._getSoundIds(i),u=0;u<a.length;u++){var c=o._soundById(a[u]);if(c)if(typeof n=="number")c._orientation=[n,r,s],c._node&&(c._panner||(c._pos||(c._pos=o._pos||[0,0,-.5]),e(c,"spatial")),typeof c._panner.orientationX<"u"?(c._panner.orientationX.setValueAtTime(n,Howler.ctx.currentTime),c._panner.orientationY.setValueAtTime(r,Howler.ctx.currentTime),c._panner.orientationZ.setValueAtTime(s,Howler.ctx.currentTime)):c._panner.setOrientation(n,r,s)),o._emit("orientation",c._id);else return c._orientation}return o},Howl.prototype.pannerAttr=function(){var n=this,r=arguments,s,i,o;if(!n._webAudio)return n;if(r.length===0)return n._pannerAttr;if(r.length===1)if(typeof r[0]=="object")s=r[0],typeof i>"u"&&(s.pannerAttr||(s.pannerAttr={coneInnerAngle:s.coneInnerAngle,coneOuterAngle:s.coneOuterAngle,coneOuterGain:s.coneOuterGain,distanceModel:s.distanceModel,maxDistance:s.maxDistance,refDistance:s.refDistance,rolloffFactor:s.rolloffFactor,panningModel:s.panningModel}),n._pannerAttr={coneInnerAngle:typeof s.pannerAttr.coneInnerAngle<"u"?s.pannerAttr.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:typeof s.pannerAttr.coneOuterAngle<"u"?s.pannerAttr.coneOuterAngle:n._coneOuterAngle,coneOuterGain:typeof s.pannerAttr.coneOuterGain<"u"?s.pannerAttr.coneOuterGain:n._coneOuterGain,distanceModel:typeof s.pannerAttr.distanceModel<"u"?s.pannerAttr.distanceModel:n._distanceModel,maxDistance:typeof s.pannerAttr.maxDistance<"u"?s.pannerAttr.maxDistance:n._maxDistance,refDistance:typeof s.pannerAttr.refDistance<"u"?s.pannerAttr.refDistance:n._refDistance,rolloffFactor:typeof s.pannerAttr.rolloffFactor<"u"?s.pannerAttr.rolloffFactor:n._rolloffFactor,panningModel:typeof s.pannerAttr.panningModel<"u"?s.pannerAttr.panningModel:n._panningModel});else return o=n._soundById(parseInt(r[0],10)),o?o._pannerAttr:n._pannerAttr;else r.length===2&&(s=r[0],i=parseInt(r[1],10));for(var a=n._getSoundIds(i),u=0;u<a.length;u++)if(o=n._soundById(a[u]),o){var c=o._pannerAttr;c={coneInnerAngle:typeof s.coneInnerAngle<"u"?s.coneInnerAngle:c.coneInnerAngle,coneOuterAngle:typeof s.coneOuterAngle<"u"?s.coneOuterAngle:c.coneOuterAngle,coneOuterGain:typeof s.coneOuterGain<"u"?s.coneOuterGain:c.coneOuterGain,distanceModel:typeof s.distanceModel<"u"?s.distanceModel:c.distanceModel,maxDistance:typeof s.maxDistance<"u"?s.maxDistance:c.maxDistance,refDistance:typeof s.refDistance<"u"?s.refDistance:c.refDistance,rolloffFactor:typeof s.rolloffFactor<"u"?s.rolloffFactor:c.rolloffFactor,panningModel:typeof s.panningModel<"u"?s.panningModel:c.panningModel};var h=o._panner;h||(o._pos||(o._pos=n._pos||[0,0,-.5]),e(o,"spatial"),h=o._panner),h.coneInnerAngle=c.coneInnerAngle,h.coneOuterAngle=c.coneOuterAngle,h.coneOuterGain=c.coneOuterGain,h.distanceModel=c.distanceModel,h.maxDistance=c.maxDistance,h.refDistance=c.refDistance,h.rolloffFactor=c.rolloffFactor,h.panningModel=c.panningModel}return n},Sound.prototype.init=function(n){return function(){var r=this,s=r._parent;r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,n.call(this),r._stereo?s.stereo(r._stereo):r._pos&&s.pos(r._pos[0],r._pos[1],r._pos[2],r._id)}}(Sound.prototype.init),Sound.prototype.reset=function(n){return function(){var r=this,s=r._parent;return r._orientation=s._orientation,r._stereo=s._stereo,r._pos=s._pos,r._pannerAttr=s._pannerAttr,r._stereo?s.stereo(r._stereo):r._pos?s.pos(r._pos[0],r._pos[1],r._pos[2],r._id):r._panner&&(r._panner.disconnect(0),r._panner=void 0,s._refreshBuffer(r)),n.call(this)}}(Sound.prototype.reset);var e=function(n,r){r=r||"spatial",r==="spatial"?(n._panner=Howler.ctx.createPanner(),n._panner.coneInnerAngle=n._pannerAttr.coneInnerAngle,n._panner.coneOuterAngle=n._pannerAttr.coneOuterAngle,n._panner.coneOuterGain=n._pannerAttr.coneOuterGain,n._panner.distanceModel=n._pannerAttr.distanceModel,n._panner.maxDistance=n._pannerAttr.maxDistance,n._panner.refDistance=n._pannerAttr.refDistance,n._panner.rolloffFactor=n._pannerAttr.rolloffFactor,n._panner.panningModel=n._pannerAttr.panningModel,typeof n._panner.positionX<"u"?(n._panner.positionX.setValueAtTime(n._pos[0],Howler.ctx.currentTime),n._panner.positionY.setValueAtTime(n._pos[1],Howler.ctx.currentTime),n._panner.positionZ.setValueAtTime(n._pos[2],Howler.ctx.currentTime)):n._panner.setPosition(n._pos[0],n._pos[1],n._pos[2]),typeof n._panner.orientationX<"u"?(n._panner.orientationX.setValueAtTime(n._orientation[0],Howler.ctx.currentTime),n._panner.orientationY.setValueAtTime(n._orientation[1],Howler.ctx.currentTime),n._panner.orientationZ.setValueAtTime(n._orientation[2],Howler.ctx.currentTime)):n._panner.setOrientation(n._orientation[0],n._orientation[1],n._orientation[2])):(n._panner=Howler.ctx.createStereoPanner(),n._panner.pan.setValueAtTime(n._stereo,Howler.ctx.currentTime)),n._panner.connect(n._node),n._paused||n._parent.pause(n._id,!0).play(n._id,!0)}})()})(Af);const Ig={formatTime(t){const e=Math.floor(t/60)||0,n=Math.round(t-e*60||0);return`${e}:${n<10?0:""}${n}`}},Ag=wh("player",{state:()=>({current_song:{},sound:{},seek:"00:00",duration:"00:00",playerProgress:"0%"}),actions:{async newSong(t){this.sound instanceof Af.Howl&&this.sound.unload(),this.current_song=t,this.sound=new Af.Howl({src:[t.url],html5:!0}),this.sound.play(),this.sound.on("play",()=>{requestAnimationFrame(this.progress)})},async toggleAudio(){this.sound.playing&&(this.sound.playing()?this.sound.pause():this.sound.play())},progress(){this.seek=Ig.formatTime(this.sound.seek()),this.duration=Ig.formatTime(this.sound.duration()),this.playerProgress=`${this.sound.seek()/this.sound.duration()*100}%`,this.sound.playing()&&requestAnimationFrame(this.progress)},updateSeek(t){if(!this.sound.playing)return;const{x:e,width:n}=t.currentTarget.getBoundingClientRect(),s=(t.clientX-e)/n,i=this.sound.duration()*s;this.sound.seek(i),this.sound.once("seek",this.progress)}},getters:{playing:t=>t.sound.playing?t.sound.playing():!1}}),WD={name:"AppPlayer",methods:{...Eh(Ag,["toggleAudio","updateSeek"])},computed:{...Gy(Ag,["playing","duration","seek","playerProgress","current_song"])}},GD={class:"fixed bottom-0 left-0 bg-white px-4 py-2 w-full"},KD={key:0,class:"text-center"},zD={class:"song-title font-bold"},YD={class:"song-artist"},XD={class:"flex flex-nowrap gap-4 items-center"},QD={class:"player-currenttime"},JD=Z("i",{class:"fas fa-circle"},null,-1),ZD=[JD],ex={class:"player-duration"};function tx(t,e,n,r,s,i){return ct(),Nt("div",GD,[t.current_song.modified_name?(ct(),Nt("div",KD,[Z("span",zD,Pe(t.current_song.modified_name),1),eo(" by "),Z("span",YD,Pe(t.current_song.display_name),1)])):gh("",!0),Z("div",XD,[Z("button",{type:"button",onClick:e[0]||(e[0]=ds((...o)=>t.toggleAudio&&t.toggleAudio(...o),["prevent"])),id:"player-play-btn"},[Z("i",{class:Qn(["fa text-gray-500 text-xl",{"fa-play":!t.playing,"fa-pause":t.playing}])},null,2)]),Z("div",QD,Pe(t.seek),1),Z("div",{class:"w-full h-2 rounded bg-gray-200 relative cursor-pointer",onClick:e[1]||(e[1]=ds((...o)=>t.updateSeek&&t.updateSeek(...o),["prevent"]))},[Z("span",{class:"absolute -top-2.5 -ml-2.5 text-gray-800 text-lg",style:mo({left:t.playerProgress})},ZD,4),Z("span",{class:"block h-2 rounded bg-gradient-to-r from-green-500 to-green-400",style:mo({width:t.playerProgress})},null,4)]),Z("div",ex,Pe(t.duration),1)])])}const nx=Ms(WD,[["render",tx]]);const rx={name:"App",components:{AppHeader:GL,AppAuth:qD,AppPlayer:nx},computed:{...Th(ma,["userLoggedIn"])},created(){lo.currentUser&&(this.userLoggedIn=!0)}};function sx(t,e,n,r,s,i){const o=Qt("app-header"),a=Qt("router-view"),u=Qt("app-player"),c=Qt("app-auth");return ct(),Nt(yt,null,[Ee(o),Ee(a,null,{default:tn(({Component:h})=>[Ee(bh,{name:"fade",mode:"out-in"},{default:tn(()=>[(ct(),sl(Kl(h)))]),_:2},1024)]),_:1}),Ee(u),Ee(c)],64)}const ix=Ms(rx,[["render",sx]]),ox="modulepreload",ax=function(t){return"/"+t},Sg={},ga=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=ax(i),i in Sg)return;Sg[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let h=s.length-1;h>=0;h--){const l=s[h];if(l.href===i&&(!o||l.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":ox,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((h,l)=>{c.addEventListener("load",h),c.addEventListener("error",()=>l(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e())};/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Hs=typeof window<"u";function lx(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Me=Object.assign;function Ec(t,e){const n={};for(const r in e){const s=e[r];n[r]=wn(s)?s.map(t):t(s)}return n}const uo=()=>{},wn=Array.isArray,ux=/\/$/,cx=t=>t.replace(ux,"");function Tc(t,e,n="/"){let r,s={},i="",o="";const a=e.indexOf("#");let u=e.indexOf("?");return a<u&&a>=0&&(u=-1),u>-1&&(r=e.slice(0,u),i=e.slice(u+1,a>-1?a:e.length),s=t(i)),a>-1&&(r=r||e.slice(0,a),o=e.slice(a,e.length)),r=px(r??e,n),{fullPath:r+(i&&"?")+i+o,path:r,query:s,hash:o}}function fx(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function Cg(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function hx(t,e,n){const r=e.matched.length-1,s=n.matched.length-1;return r>-1&&r===s&&_i(e.matched[r],n.matched[s])&&Iw(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function _i(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function Iw(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!dx(t[n],e[n]))return!1;return!0}function dx(t,e){return wn(t)?kg(t,e):wn(e)?kg(e,t):t===e}function kg(t,e){return wn(e)?t.length===e.length&&t.every((n,r)=>n===e[r]):t.length===1&&t[0]===e}function px(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),r=t.split("/"),s=r[r.length-1];(s===".."||s===".")&&r.push("");let i=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")i>1&&i--;else break;return n.slice(0,i).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var $o;(function(t){t.pop="pop",t.push="push"})($o||($o={}));var co;(function(t){t.back="back",t.forward="forward",t.unknown=""})(co||(co={}));function mx(t){if(!t)if(Hs){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),cx(t)}const gx=/^[^#]+#/;function _x(t,e){return t.replace(gx,"#")+e}function yx(t,e){const n=document.documentElement.getBoundingClientRect(),r=t.getBoundingClientRect();return{behavior:e.behavior,left:r.left-n.left-(e.left||0),top:r.top-n.top-(e.top||0)}}const Fu=()=>({left:window.pageXOffset,top:window.pageYOffset});function vx(t){let e;if("el"in t){const n=t.el,r=typeof n=="string"&&n.startsWith("#"),s=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!s)return;e=yx(s,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function Og(t,e){return(history.state?history.state.position-e:-1)+t}const Sf=new Map;function bx(t,e){Sf.set(t,e)}function wx(t){const e=Sf.get(t);return Sf.delete(t),e}let Ex=()=>location.protocol+"//"+location.host;function Aw(t,e){const{pathname:n,search:r,hash:s}=e,i=t.indexOf("#");if(i>-1){let a=s.includes(t.slice(i))?t.slice(i).length:1,u=s.slice(a);return u[0]!=="/"&&(u="/"+u),Cg(u,"")}return Cg(n,t)+r+s}function Tx(t,e,n,r){let s=[],i=[],o=null;const a=({state:f})=>{const d=Aw(t,location),p=n.value,y=e.value;let v=0;if(f){if(n.value=d,e.value=f,o&&o===p){o=null;return}v=y?f.position-y.position:0}else r(d);s.forEach(m=>{m(n.value,p,{delta:v,type:$o.pop,direction:v?v>0?co.forward:co.back:co.unknown})})};function u(){o=n.value}function c(f){s.push(f);const d=()=>{const p=s.indexOf(f);p>-1&&s.splice(p,1)};return i.push(d),d}function h(){const{history:f}=window;f.state&&f.replaceState(Me({},f.state,{scroll:Fu()}),"")}function l(){for(const f of i)f();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",h)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",h,{passive:!0}),{pauseListeners:u,listen:c,destroy:l}}function Rg(t,e,n,r=!1,s=!1){return{back:t,current:e,forward:n,replaced:r,position:window.history.length,scroll:s?Fu():null}}function Ix(t){const{history:e,location:n}=window,r={value:Aw(t,n)},s={value:e.state};s.value||i(r.value,{back:null,current:r.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(u,c,h){const l=t.indexOf("#"),f=l>-1?(n.host&&document.querySelector("base")?t:t.slice(l))+u:Ex()+t+u;try{e[h?"replaceState":"pushState"](c,"",f),s.value=c}catch(d){console.error(d),n[h?"replace":"assign"](f)}}function o(u,c){const h=Me({},e.state,Rg(s.value.back,u,s.value.forward,!0),c,{position:s.value.position});i(u,h,!0),r.value=u}function a(u,c){const h=Me({},s.value,e.state,{forward:u,scroll:Fu()});i(h.current,h,!0);const l=Me({},Rg(r.value,u,null),{position:h.position+1},c);i(u,l,!1),r.value=u}return{location:r,state:s,push:a,replace:o}}function Ax(t){t=mx(t);const e=Ix(t),n=Tx(t,e.state,e.location,e.replace);function r(i,o=!0){o||n.pauseListeners(),history.go(i)}const s=Me({location:"",base:t,go:r,createHref:_x.bind(null,t)},e,n);return Object.defineProperty(s,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(s,"state",{enumerable:!0,get:()=>e.state.value}),s}function Sx(t){return typeof t=="string"||t&&typeof t=="object"}function Sw(t){return typeof t=="string"||typeof t=="symbol"}const pr={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Cw=Symbol("");var Ng;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Ng||(Ng={}));function yi(t,e){return Me(new Error,{type:t,[Cw]:!0},e)}function jn(t,e){return t instanceof Error&&Cw in t&&(e==null||!!(t.type&e))}const Pg="[^/]+?",Cx={sensitive:!1,strict:!1,start:!0,end:!0},kx=/[.+*?^${}()[\]/\\]/g;function Ox(t,e){const n=Me({},Cx,e),r=[];let s=n.start?"^":"";const i=[];for(const c of t){const h=c.length?[]:[90];n.strict&&!c.length&&(s+="/");for(let l=0;l<c.length;l++){const f=c[l];let d=40+(n.sensitive?.25:0);if(f.type===0)l||(s+="/"),s+=f.value.replace(kx,"\\$&"),d+=40;else if(f.type===1){const{value:p,repeatable:y,optional:v,regexp:m}=f;i.push({name:p,repeatable:y,optional:v});const w=m||Pg;if(w!==Pg){d+=10;try{new RegExp(`(${w})`)}catch(E){throw new Error(`Invalid custom RegExp for param "${p}" (${w}): `+E.message)}}let S=y?`((?:${w})(?:/(?:${w}))*)`:`(${w})`;l||(S=v&&c.length<2?`(?:/${S})`:"/"+S),v&&(S+="?"),s+=S,d+=20,v&&(d+=-8),y&&(d+=-20),w===".*"&&(d+=-50)}h.push(d)}r.push(h)}if(n.strict&&n.end){const c=r.length-1;r[c][r[c].length-1]+=.7000000000000001}n.strict||(s+="/?"),n.end?s+="$":n.strict&&(s+="(?:/|$)");const o=new RegExp(s,n.sensitive?"":"i");function a(c){const h=c.match(o),l={};if(!h)return null;for(let f=1;f<h.length;f++){const d=h[f]||"",p=i[f-1];l[p.name]=d&&p.repeatable?d.split("/"):d}return l}function u(c){let h="",l=!1;for(const f of t){(!l||!h.endsWith("/"))&&(h+="/"),l=!1;for(const d of f)if(d.type===0)h+=d.value;else if(d.type===1){const{value:p,repeatable:y,optional:v}=d,m=p in c?c[p]:"";if(wn(m)&&!y)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const w=wn(m)?m.join("/"):m;if(!w)if(v)f.length<2&&(h.endsWith("/")?h=h.slice(0,-1):l=!0);else throw new Error(`Missing required param "${p}"`);h+=w}}return h||"/"}return{re:o,score:r,keys:i,parse:a,stringify:u}}function Rx(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=e[n]-t[n];if(r)return r;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Nx(t,e){let n=0;const r=t.score,s=e.score;for(;n<r.length&&n<s.length;){const i=Rx(r[n],s[n]);if(i)return i;n++}if(Math.abs(s.length-r.length)===1){if(Lg(r))return 1;if(Lg(s))return-1}return s.length-r.length}function Lg(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Px={type:0,value:""},Lx=/[a-zA-Z0-9_]/;function Dx(t){if(!t)return[[]];if(t==="/")return[[Px]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(d){throw new Error(`ERR (${n})/"${c}": ${d}`)}let n=0,r=n;const s=[];let i;function o(){i&&s.push(i),i=[]}let a=0,u,c="",h="";function l(){c&&(n===0?i.push({type:0,value:c}):n===1||n===2||n===3?(i.length>1&&(u==="*"||u==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:h,repeatable:u==="*"||u==="+",optional:u==="*"||u==="?"})):e("Invalid state to consume buffer"),c="")}function f(){c+=u}for(;a<t.length;){if(u=t[a++],u==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:u==="/"?(c&&l(),o()):u===":"?(l(),n=1):f();break;case 4:f(),n=r;break;case 1:u==="("?n=2:Lx.test(u)?f():(l(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--);break;case 2:u===")"?h[h.length-1]=="\\"?h=h.slice(0,-1)+u:n=3:h+=u;break;case 3:l(),n=0,u!=="*"&&u!=="?"&&u!=="+"&&a--,h="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),l(),o(),s}function xx(t,e,n){const r=Ox(Dx(t.path),n),s=Me(r,{record:t,parent:e,children:[],alias:[]});return e&&!s.record.aliasOf==!e.record.aliasOf&&e.children.push(s),s}function Mx(t,e){const n=[],r=new Map;e=Mg({strict:!1,end:!0,sensitive:!1},e);function s(h){return r.get(h)}function i(h,l,f){const d=!f,p=Fx(h);p.aliasOf=f&&f.record;const y=Mg(e,h),v=[p];if("alias"in h){const S=typeof h.alias=="string"?[h.alias]:h.alias;for(const E of S)v.push(Me({},p,{components:f?f.record.components:p.components,path:E,aliasOf:f?f.record:p}))}let m,w;for(const S of v){const{path:E}=S;if(l&&E[0]!=="/"){const R=l.record.path,O=R[R.length-1]==="/"?"":"/";S.path=l.record.path+(E&&O+E)}if(m=xx(S,l,y),f?f.alias.push(m):(w=w||m,w!==m&&w.alias.push(m),d&&h.name&&!xg(m)&&o(h.name)),p.children){const R=p.children;for(let O=0;O<R.length;O++)i(R[O],m,f&&f.children[O])}f=f||m,(m.record.components&&Object.keys(m.record.components).length||m.record.name||m.record.redirect)&&u(m)}return w?()=>{o(w)}:uo}function o(h){if(Sw(h)){const l=r.get(h);l&&(r.delete(h),n.splice(n.indexOf(l),1),l.children.forEach(o),l.alias.forEach(o))}else{const l=n.indexOf(h);l>-1&&(n.splice(l,1),h.record.name&&r.delete(h.record.name),h.children.forEach(o),h.alias.forEach(o))}}function a(){return n}function u(h){let l=0;for(;l<n.length&&Nx(h,n[l])>=0&&(h.record.path!==n[l].record.path||!kw(h,n[l]));)l++;n.splice(l,0,h),h.record.name&&!xg(h)&&r.set(h.record.name,h)}function c(h,l){let f,d={},p,y;if("name"in h&&h.name){if(f=r.get(h.name),!f)throw yi(1,{location:h});y=f.record.name,d=Me(Dg(l.params,f.keys.filter(w=>!w.optional).map(w=>w.name)),h.params&&Dg(h.params,f.keys.map(w=>w.name))),p=f.stringify(d)}else if("path"in h)p=h.path,f=n.find(w=>w.re.test(p)),f&&(d=f.parse(p),y=f.record.name);else{if(f=l.name?r.get(l.name):n.find(w=>w.re.test(l.path)),!f)throw yi(1,{location:h,currentLocation:l});y=f.record.name,d=Me({},l.params,h.params),p=f.stringify(d)}const v=[];let m=f;for(;m;)v.unshift(m.record),m=m.parent;return{name:y,path:p,params:d,matched:v,meta:$x(v)}}return t.forEach(h=>i(h)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:s}}function Dg(t,e){const n={};for(const r of e)r in t&&(n[r]=t[r]);return n}function Fx(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Ux(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Ux(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const r in t.components)e[r]=typeof n=="boolean"?n:n[r];return e}function xg(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function $x(t){return t.reduce((e,n)=>Me(e,n.meta),{})}function Mg(t,e){const n={};for(const r in t)n[r]=r in e?e[r]:t[r];return n}function kw(t,e){return e.children.some(n=>n===t||kw(t,n))}const Ow=/#/g,Vx=/&/g,Bx=/\//g,jx=/=/g,Hx=/\?/g,Rw=/\+/g,qx=/%5B/g,Wx=/%5D/g,Nw=/%5E/g,Gx=/%60/g,Pw=/%7B/g,Kx=/%7C/g,Lw=/%7D/g,zx=/%20/g;function Yd(t){return encodeURI(""+t).replace(Kx,"|").replace(qx,"[").replace(Wx,"]")}function Yx(t){return Yd(t).replace(Pw,"{").replace(Lw,"}").replace(Nw,"^")}function Cf(t){return Yd(t).replace(Rw,"%2B").replace(zx,"+").replace(Ow,"%23").replace(Vx,"%26").replace(Gx,"`").replace(Pw,"{").replace(Lw,"}").replace(Nw,"^")}function Xx(t){return Cf(t).replace(jx,"%3D")}function Qx(t){return Yd(t).replace(Ow,"%23").replace(Hx,"%3F")}function Jx(t){return t==null?"":Qx(t).replace(Bx,"%2F")}function Pl(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function Zx(t){const e={};if(t===""||t==="?")return e;const r=(t[0]==="?"?t.slice(1):t).split("&");for(let s=0;s<r.length;++s){const i=r[s].replace(Rw," "),o=i.indexOf("="),a=Pl(o<0?i:i.slice(0,o)),u=o<0?null:Pl(i.slice(o+1));if(a in e){let c=e[a];wn(c)||(c=e[a]=[c]),c.push(u)}else e[a]=u}return e}function Fg(t){let e="";for(let n in t){const r=t[n];if(n=Xx(n),r==null){r!==void 0&&(e+=(e.length?"&":"")+n);continue}(wn(r)?r.map(i=>i&&Cf(i)):[r&&Cf(r)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+n,i!=null&&(e+="="+i))})}return e}function eM(t){const e={};for(const n in t){const r=t[n];r!==void 0&&(e[n]=wn(r)?r.map(s=>s==null?null:""+s):r==null?r:""+r)}return e}const tM=Symbol(""),Ug=Symbol(""),Xd=Symbol(""),Dw=Symbol(""),kf=Symbol("");function Ui(){let t=[];function e(r){return t.push(r),()=>{const s=t.indexOf(r);s>-1&&t.splice(s,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function vr(t,e,n,r,s){const i=r&&(r.enterCallbacks[s]=r.enterCallbacks[s]||[]);return()=>new Promise((o,a)=>{const u=l=>{l===!1?a(yi(4,{from:n,to:e})):l instanceof Error?a(l):Sx(l)?a(yi(2,{from:e,to:l})):(i&&r.enterCallbacks[s]===i&&typeof l=="function"&&i.push(l),o())},c=t.call(r&&r.instances[s],e,n,u);let h=Promise.resolve(c);t.length<3&&(h=h.then(u)),h.catch(l=>a(l))})}function Ic(t,e,n,r){const s=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(nM(a)){const c=(a.__vccOpts||a)[e];c&&s.push(vr(c,n,r,i,o))}else{let u=a();s.push(()=>u.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const h=lx(c)?c.default:c;i.components[o]=h;const f=(h.__vccOpts||h)[e];return f&&vr(f,n,r,i,o)()}))}}return s}function nM(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function $g(t){const e=sn(Xd),n=sn(Dw),r=de(()=>e.resolve(ge(t.to))),s=de(()=>{const{matched:u}=r.value,{length:c}=u,h=u[c-1],l=n.matched;if(!h||!l.length)return-1;const f=l.findIndex(_i.bind(null,h));if(f>-1)return f;const d=Vg(u[c-2]);return c>1&&Vg(h)===d&&l[l.length-1].path!==d?l.findIndex(_i.bind(null,u[c-2])):f}),i=de(()=>s.value>-1&&oM(n.params,r.value.params)),o=de(()=>s.value>-1&&s.value===n.matched.length-1&&Iw(n.params,r.value.params));function a(u={}){return iM(u)?e[ge(t.replace)?"replace":"push"](ge(t.to)).catch(uo):Promise.resolve()}return{route:r,href:de(()=>r.value.href),isActive:i,isExactActive:o,navigate:a}}const rM=jr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:$g,setup(t,{slots:e}){const n=Un($g(t)),{options:r}=sn(Xd),s=de(()=>({[Bg(t.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[Bg(t.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const i=e.default&&e.default(n);return t.custom?i:nr("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:s.value},i)}}}),sM=rM;function iM(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function oM(t,e){for(const n in e){const r=e[n],s=t[n];if(typeof r=="string"){if(r!==s)return!1}else if(!wn(s)||s.length!==r.length||r.some((i,o)=>i!==s[o]))return!1}return!0}function Vg(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Bg=(t,e,n)=>t??e??n,aM=jr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const r=sn(kf),s=de(()=>t.route||r.value),i=sn(Ug,0),o=de(()=>{let c=ge(i);const{matched:h}=s.value;let l;for(;(l=h[c])&&!l.components;)c++;return c}),a=de(()=>s.value.matched[o.value]);Js(Ug,de(()=>o.value+1)),Js(tM,a),Js(kf,s);const u=Qe();return Pt(()=>[u.value,a.value,t.name],([c,h,l],[f,d,p])=>{h&&(h.instances[l]=c,d&&d!==h&&c&&c===f&&(h.leaveGuards.size||(h.leaveGuards=d.leaveGuards),h.updateGuards.size||(h.updateGuards=d.updateGuards))),c&&h&&(!d||!_i(h,d)||!f)&&(h.enterCallbacks[l]||[]).forEach(y=>y(c))},{flush:"post"}),()=>{const c=s.value,h=t.name,l=a.value,f=l&&l.components[h];if(!f)return jg(n.default,{Component:f,route:c});const d=l.props[h],p=d?d===!0?c.params:typeof d=="function"?d(c):d:null,v=nr(f,Me({},p,e,{onVnodeUnmounted:m=>{m.component.isUnmounted&&(l.instances[h]=null)},ref:u}));return jg(n.default,{Component:v,route:c})||v}}});function jg(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const lM=aM;function uM(t){const e=Mx(t.routes,t),n=t.parseQuery||Zx,r=t.stringifyQuery||Fg,s=t.history,i=Ui(),o=Ui(),a=Ui(),u=oh(pr);let c=pr;Hs&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const h=Ec.bind(null,P=>""+P),l=Ec.bind(null,Jx),f=Ec.bind(null,Pl);function d(P,$){let j,z;return Sw(P)?(j=e.getRecordMatcher(P),z=$):z=P,e.addRoute(z,j)}function p(P){const $=e.getRecordMatcher(P);$&&e.removeRoute($)}function y(){return e.getRoutes().map(P=>P.record)}function v(P){return!!e.getRecordMatcher(P)}function m(P,$){if($=Me({},$||u.value),typeof P=="string"){const _=Tc(n,P,$.path),T=e.resolve({path:_.path},$),k=s.createHref(_.fullPath);return Me(_,T,{params:f(T.params),hash:Pl(_.hash),redirectedFrom:void 0,href:k})}let j;if("path"in P)j=Me({},P,{path:Tc(n,P.path,$.path).path});else{const _=Me({},P.params);for(const T in _)_[T]==null&&delete _[T];j=Me({},P,{params:l(_)}),$.params=l($.params)}const z=e.resolve(j,$),pe=P.hash||"";z.params=h(f(z.params));const I=fx(r,Me({},P,{hash:Yx(pe),path:z.path})),g=s.createHref(I);return Me({fullPath:I,hash:pe,query:r===Fg?eM(P.query):P.query||{}},z,{redirectedFrom:void 0,href:g})}function w(P){return typeof P=="string"?Tc(n,P,u.value.path):Me({},P)}function S(P,$){if(c!==P)return yi(8,{from:$,to:P})}function E(P){return x(P)}function R(P){return E(Me(w(P),{replace:!0}))}function O(P){const $=P.matched[P.matched.length-1];if($&&$.redirect){const{redirect:j}=$;let z=typeof j=="function"?j(P):j;return typeof z=="string"&&(z=z.includes("?")||z.includes("#")?z=w(z):{path:z},z.params={}),Me({query:P.query,hash:P.hash,params:"path"in z?{}:P.params},z)}}function x(P,$){const j=c=m(P),z=u.value,pe=P.state,I=P.force,g=P.replace===!0,_=O(j);if(_)return x(Me(w(_),{state:typeof _=="object"?Me({},pe,_.state):pe,force:I,replace:g}),$||j);const T=j;T.redirectedFrom=$;let k;return!I&&hx(r,z,j)&&(k=yi(16,{to:T,from:z}),nt(z,z,!0,!1)),(k?Promise.resolve(k):Q(T,z)).catch(N=>jn(N)?jn(N,2)?N:st(N):le(N,T,z)).then(N=>{if(N){if(jn(N,2))return x(Me({replace:g},w(N.to),{state:typeof N.to=="object"?Me({},pe,N.to.state):pe,force:I}),$||T)}else N=W(T,z,!0,g,pe);return ae(T,z,N),N})}function L(P,$){const j=S(P,$);return j?Promise.reject(j):Promise.resolve()}function D(P){const $=Xe.values().next().value;return $&&typeof $.runWithContext=="function"?$.runWithContext(P):P()}function Q(P,$){let j;const[z,pe,I]=cM(P,$);j=Ic(z.reverse(),"beforeRouteLeave",P,$);for(const _ of z)_.leaveGuards.forEach(T=>{j.push(vr(T,P,$))});const g=L.bind(null,P,$);return j.push(g),oe(j).then(()=>{j=[];for(const _ of i.list())j.push(vr(_,P,$));return j.push(g),oe(j)}).then(()=>{j=Ic(pe,"beforeRouteUpdate",P,$);for(const _ of pe)_.updateGuards.forEach(T=>{j.push(vr(T,P,$))});return j.push(g),oe(j)}).then(()=>{j=[];for(const _ of P.matched)if(_.beforeEnter&&!$.matched.includes(_))if(wn(_.beforeEnter))for(const T of _.beforeEnter)j.push(vr(T,P,$));else j.push(vr(_.beforeEnter,P,$));return j.push(g),oe(j)}).then(()=>(P.matched.forEach(_=>_.enterCallbacks={}),j=Ic(I,"beforeRouteEnter",P,$),j.push(g),oe(j))).then(()=>{j=[];for(const _ of o.list())j.push(vr(_,P,$));return j.push(g),oe(j)}).catch(_=>jn(_,8)?_:Promise.reject(_))}function ae(P,$,j){for(const z of a.list())D(()=>z(P,$,j))}function W(P,$,j,z,pe){const I=S(P,$);if(I)return I;const g=$===pr,_=Hs?history.state:{};j&&(z||g?s.replace(P.fullPath,Me({scroll:g&&_&&_.scroll},pe)):s.push(P.fullPath,pe)),u.value=P,nt(P,$,j,g),st()}let re;function ce(){re||(re=s.listen((P,$,j)=>{if(!J.listening)return;const z=m(P),pe=O(z);if(pe){x(Me(pe,{replace:!0}),z).catch(uo);return}c=z;const I=u.value;Hs&&bx(Og(I.fullPath,j.delta),Fu()),Q(z,I).catch(g=>jn(g,12)?g:jn(g,2)?(x(g.to,z).then(_=>{jn(_,20)&&!j.delta&&j.type===$o.pop&&s.go(-1,!1)}).catch(uo),Promise.reject()):(j.delta&&s.go(-j.delta,!1),le(g,z,I))).then(g=>{g=g||W(z,I,!1),g&&(j.delta&&!jn(g,8)?s.go(-j.delta,!1):j.type===$o.pop&&jn(g,20)&&s.go(-1,!1)),ae(z,I,g)}).catch(uo)}))}let Se=Ui(),te=Ui(),fe;function le(P,$,j){st(P);const z=te.list();return z.length?z.forEach(pe=>pe(P,$,j)):console.error(P),Promise.reject(P)}function Be(){return fe&&u.value!==pr?Promise.resolve():new Promise((P,$)=>{Se.add([P,$])})}function st(P){return fe||(fe=!P,ce(),Se.list().forEach(([$,j])=>P?j(P):$()),Se.reset()),P}function nt(P,$,j,z){const{scrollBehavior:pe}=t;if(!Hs||!pe)return Promise.resolve();const I=!j&&wx(Og(P.fullPath,0))||(z||!j)&&history.state&&history.state.scroll||null;return is().then(()=>pe(P,$,I)).then(g=>g&&vx(g)).catch(g=>le(g,P,$))}const Ye=P=>s.go(P);let je;const Xe=new Set,J={currentRoute:u,listening:!0,addRoute:d,removeRoute:p,hasRoute:v,getRoutes:y,resolve:m,options:t,push:E,replace:R,go:Ye,back:()=>Ye(-1),forward:()=>Ye(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:te.add,isReady:Be,install(P){const $=this;P.component("RouterLink",sM),P.component("RouterView",lM),P.config.globalProperties.$router=$,Object.defineProperty(P.config.globalProperties,"$route",{enumerable:!0,get:()=>ge(u)}),Hs&&!je&&u.value===pr&&(je=!0,E(s.location).catch(pe=>{}));const j={};for(const pe in pr)j[pe]=de(()=>u.value[pe]);P.provide(Xd,$),P.provide(Dw,Un(j)),P.provide(kf,u);const z=P.unmount;Xe.add(P),P.unmount=function(){Xe.delete(P),Xe.size<1&&(c=pr,re&&re(),re=null,u.value=pr,je=!1,fe=!1),z()}}};function oe(P){return P.reduce(($,j)=>$.then(()=>D(j)),Promise.resolve())}return J}function cM(t,e){const n=[],r=[],s=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>_i(c,a))?r.push(a):n.push(a));const u=t.matched[o];u&&(e.matched.find(c=>_i(c,u))||s.push(u))}return[n,r,s]}const fM=()=>ga(()=>import("./HomeView-4351727c.js"),[]),hM=()=>ga(()=>import("./AboutView-32e50f2c.js"),[]),dM=()=>ga(()=>import("./ManageView-aec0fc12.js"),[]),pM=()=>ga(()=>import("./SongView-a91da72d.js"),[]),mM=[{name:"home",path:"/",component:fM},{name:"about",path:"/about",component:hM},{name:"manage",path:"/manage-music",component:dM,beforeEnter:(t,e,n)=>{console.log("Manage Route Guard"),n()},meta:{requiresAuth:!0}},{path:"/manage",redirect:{name:"manage"}},{name:"song",path:"/song/:id",component:pM},{path:"/:catchAll(.*)*",redirect:{name:"home"}}],Qd=uM({history:Ax("/"),routes:mM,linkExactActiveClass:"text-yellow-500"});Qd.beforeEach((t,e,n)=>{if(!t.meta.requiresAuth){n();return}ma().userLoggedIn?n():n({name:"home"})});/**
  * vee-validate v4.9.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */function Tt(t){return typeof t=="function"}function xw(t){return t==null}const Ss=t=>t!==null&&!!t&&typeof t=="object"&&!Array.isArray(t);function Mw(t){return Number(t)>=0}function gM(t){const e=parseFloat(t);return isNaN(e)?t:e}function _M(t){return typeof t=="object"&&t!==null}function yM(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}function vM(t){if(!_M(t)||yM(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function Fw(t,e){return Object.keys(e).forEach(n=>{if(vM(e[n])){t[n]||(t[n]={}),Fw(t[n],e[n]);return}t[n]=e[n]}),t}const Uw={};function ln(t,e){wM(t,e),Uw[t]=e}function bM(t){return Uw[t]}function wM(t,e){if(!Tt(e))throw new Error(`Extension Error: The validator '${t}' must be a function.`)}const Uu=Symbol("vee-validate-form"),EM=Symbol("vee-validate-field-instance"),Ll=Symbol("Default empty value"),TM=typeof window<"u";function Of(t){return Tt(t)&&!!t.__locatorRef}function Cs(t){return!!t&&Tt(t.parse)&&t.__type==="VVTypedSchema"}function Dl(t){return!!t&&Tt(t.validate)}function _a(t){return t==="checkbox"||t==="radio"}function IM(t){return Ss(t)||Array.isArray(t)}function AM(t){return Array.isArray(t)?t.length===0:Ss(t)&&Object.keys(t).length===0}function $u(t){return/^\[.+\]$/i.test(t)}function SM(t){return $w(t)&&t.multiple}function $w(t){return t.tagName==="SELECT"}function CM(t,e){const n=![!1,null,void 0,0].includes(e.multiple)&&!Number.isNaN(e.multiple);return t==="select"&&"multiple"in e&&n}function kM(t,e){return!CM(t,e)&&e.type!=="file"&&!_a(e.type)}function Vw(t){return Jd(t)&&t.target&&"submit"in t.target}function Jd(t){return t?!!(typeof Event<"u"&&Tt(Event)&&t instanceof Event||t&&t.srcElement):!1}function Hg(t,e){return e in t&&t[e]!==Ll}function Ht(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,s;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!Ht(t[r],e[r]))return!1;return!0}if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(r of t.entries())if(!e.has(r[0]))return!1;for(r of t.entries())if(!Ht(r[1],e.get(r[0])))return!1;return!0}if(qg(t)&&qg(e))return!(t.size!==e.size||t.name!==e.name||t.lastModified!==e.lastModified||t.type!==e.type);if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(r of t.entries())if(!e.has(r[0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){var i=s[r];if(!Ht(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function qg(t){return TM?t instanceof File:!1}function Wg(t,e,n){typeof n.value=="object"&&(n.value=Ze(n.value)),!n.enumerable||n.get||n.set||!n.configurable||!n.writable||e==="__proto__"?Object.defineProperty(t,e,n):t[e]=n.value}function Ze(t){if(typeof t!="object")return t;var e=0,n,r,s,i=Object.prototype.toString.call(t);if(i==="[object Object]"?s=Object.create(t.__proto__||null):i==="[object Array]"?s=Array(t.length):i==="[object Set]"?(s=new Set,t.forEach(function(o){s.add(Ze(o))})):i==="[object Map]"?(s=new Map,t.forEach(function(o,a){s.set(Ze(a),Ze(o))})):i==="[object Date]"?s=new Date(+t):i==="[object RegExp]"?s=new RegExp(t.source,t.flags):i==="[object DataView]"?s=new t.constructor(Ze(t.buffer)):i==="[object ArrayBuffer]"?s=t.slice(0):i.slice(-6)==="Array]"&&(s=new t.constructor(t)),s){for(r=Object.getOwnPropertySymbols(t);e<r.length;e++)Wg(s,r[e],Object.getOwnPropertyDescriptor(t,r[e]));for(e=0,r=Object.getOwnPropertyNames(t);e<r.length;e++)Object.hasOwnProperty.call(s,n=r[e])&&s[n]===t[n]||Wg(s,n,Object.getOwnPropertyDescriptor(t,n))}return s||t}function Zd(t){return $u(t)?t.replace(/\[|\]/gi,""):t}function Yt(t,e,n){return t?$u(e)?t[Zd(e)]:(e||"").split(/\.|\[(\d+)\]/).filter(Boolean).reduce((s,i)=>IM(s)&&i in s?s[i]:n,t):n}function es(t,e,n){if($u(e)){t[Zd(e)]=n;return}const r=e.split(/\.|\[(\d+)\]/).filter(Boolean);let s=t;for(let i=0;i<r.length;i++){if(i===r.length-1){s[r[i]]=n;return}(!(r[i]in s)||xw(s[r[i]]))&&(s[r[i]]=Mw(r[i+1])?[]:{}),s=s[r[i]]}}function Ac(t,e){if(Array.isArray(t)&&Mw(e)){t.splice(Number(e),1);return}Ss(t)&&delete t[e]}function Gg(t,e){if($u(e)){delete t[Zd(e)];return}const n=e.split(/\.|\[(\d+)\]/).filter(Boolean);let r=t;for(let i=0;i<n.length;i++){if(i===n.length-1){Ac(r,n[i]);break}if(!(n[i]in r)||xw(r[n[i]]))break;r=r[n[i]]}const s=n.map((i,o)=>Yt(t,n.slice(0,o).join(".")));for(let i=s.length-1;i>=0;i--)if(AM(s[i])){if(i===0){Ac(t,n[0]);continue}Ac(s[i-1],n[i-1])}}function Sn(t){return Object.keys(t)}function Bw(t,e=void 0){const n=tr();return(n==null?void 0:n.provides[t])||sn(t,e)}function Kg(t,e,n){if(Array.isArray(t)){const r=[...t],s=r.findIndex(i=>Ht(i,e));return s>=0?r.splice(s,1):r.push(e),r}return Ht(t,e)?n:e}function zg(t,e=0){let n=null,r=[];return function(...s){return n&&window.clearTimeout(n),n=window.setTimeout(()=>{const i=t(...s);r.forEach(o=>o(i)),r=[]},e),new Promise(i=>r.push(i))}}function OM(t,e){return Ss(e)&&e.number?gM(t):t}function Rf(t,e){let n;return async function(...s){const i=t(...s);n=i;const o=await i;return i!==n||(n=void 0,e(o,s)),o}}function Gn(t){return Tt(t)?t():ge(t)}function RM(t){return de(()=>Gn(t))}function Nf(t){return Array.isArray(t)?t:t?[t]:[]}function $i(t,e){const n={};for(const r in t)e.includes(r)||(n[r]=t[r]);return n}const ep=(t,e,n)=>e.slots.default?typeof t=="string"||!t?e.slots.default(n()):{default:()=>{var r,s;return(s=(r=e.slots).default)===null||s===void 0?void 0:s.call(r,n())}}:e.slots.default;function Sc(t){if(jw(t))return t._value}function jw(t){return"_value"in t}function xl(t){if(!Jd(t))return t;const e=t.target;if(_a(e.type)&&jw(e))return Sc(e);if(e.type==="file"&&e.files){const n=Array.from(e.files);return e.multiple?n:n[0]}if(SM(e))return Array.from(e.options).filter(n=>n.selected&&!n.disabled).map(Sc);if($w(e)){const n=Array.from(e.options).find(r=>r.selected);return n?Sc(n):e.value}return e.value}function Hw(t){const e={};return Object.defineProperty(e,"_$$isNormalized",{value:!0,writable:!1,enumerable:!1,configurable:!1}),t?Ss(t)&&t._$$isNormalized?t:Ss(t)?Object.keys(t).reduce((n,r)=>{const s=NM(t[r]);return t[r]!==!1&&(n[r]=Yg(s)),n},e):typeof t!="string"?e:t.split("|").reduce((n,r)=>{const s=PM(r);return s.name&&(n[s.name]=Yg(s.params)),n},e):e}function NM(t){return t===!0?[]:Array.isArray(t)||Ss(t)?t:[t]}function Yg(t){const e=n=>typeof n=="string"&&n[0]==="@"?LM(n.slice(1)):n;return Array.isArray(t)?t.map(e):t instanceof RegExp?[t]:Object.keys(t).reduce((n,r)=>(n[r]=e(t[r]),n),{})}const PM=t=>{let e=[];const n=t.split(":")[0];return t.includes(":")&&(e=t.split(":").slice(1).join(":").split(",")),{name:n,params:e}};function LM(t){const e=n=>Yt(n,t)||n[t];return e.__locatorRef=t,e}function DM(t){return Array.isArray(t)?t.filter(Of):Sn(t).filter(e=>Of(t[e])).map(e=>t[e])}const xM={generateMessage:({field:t})=>`${t} is not valid.`,bails:!0,validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0};let Pf=Object.assign({},xM);const Sr=()=>Pf,MM=t=>{Pf=Object.assign(Object.assign({},Pf),t)},FM=MM;async function qw(t,e,n={}){const r=n==null?void 0:n.bails,s={name:(n==null?void 0:n.name)||"{field}",rules:e,label:n==null?void 0:n.label,bails:r??!0,formData:(n==null?void 0:n.values)||{}},o=(await UM(s,t)).errors;return{errors:o,valid:!o.length}}async function UM(t,e){if(Cs(t.rules)||Dl(t.rules))return VM(e,t.rules);if(Tt(t.rules)||Array.isArray(t.rules)){const o={field:t.label||t.name,name:t.name,label:t.label,form:t.formData,value:e},a=Array.isArray(t.rules)?t.rules:[t.rules],u=a.length,c=[];for(let h=0;h<u;h++){const l=a[h],f=await l(e,o);if(typeof f!="string"&&f)continue;const p=typeof f=="string"?f:Gw(o);if(c.push(p),t.bails)return{errors:c}}return{errors:c}}const n=Object.assign(Object.assign({},t),{rules:Hw(t.rules)}),r=[],s=Object.keys(n.rules),i=s.length;for(let o=0;o<i;o++){const a=s[o],u=await BM(n,e,{name:a,params:n.rules[a]});if(u.error&&(r.push(u.error),t.bails))return{errors:r}}return{errors:r}}function $M(t){return!!t&&t.name==="ValidationError"}function Ww(t){return{__type:"VVTypedSchema",async parse(n){var r;try{return{output:await t.validate(n,{abortEarly:!1}),errors:[]}}catch(s){if(!$M(s))throw s;if(!(!((r=s.inner)===null||r===void 0)&&r.length)&&s.errors.length)return{errors:[{path:s.path,errors:s.errors}]};const i=s.inner.reduce((o,a)=>{const u=a.path||"";return o[u]||(o[u]={errors:[],path:u}),o[u].errors.push(...a.errors),o},{});return{errors:Object.values(i)}}}}}async function VM(t,e){const r=await(Cs(e)?e:Ww(e)).parse(t),s=[];for(const i of r.errors)i.errors.length&&s.push(...i.errors);return{errors:s}}async function BM(t,e,n){const r=bM(n.name);if(!r)throw new Error(`No such validator '${n.name}' exists.`);const s=jM(n.params,t.formData),i={field:t.label||t.name,name:t.name,label:t.label,value:e,form:t.formData,rule:Object.assign(Object.assign({},n),{params:s})},o=await r(e,s,i);return typeof o=="string"?{error:o}:{error:o?void 0:Gw(i)}}function Gw(t){const e=Sr().generateMessage;return e?e(t):"Field is invalid"}function jM(t,e){const n=r=>Of(r)?r(e):r;return Array.isArray(t)?t.map(n):Object.keys(t).reduce((r,s)=>(r[s]=n(t[s]),r),{})}async function HM(t,e){const r=await(Cs(t)?t:Ww(t)).parse(e),s={},i={};for(const o of r.errors){const a=o.errors,u=(o.path||"").replace(/\["(\d+)"\]/g,(c,h)=>`[${h}]`);s[u]={valid:!a.length,errors:a},a.length&&(i[u]=a[0])}return{valid:!r.errors.length,results:s,errors:i,values:r.value}}async function qM(t,e,n){const s=Sn(t).map(async c=>{var h,l,f;const d=(h=n==null?void 0:n.names)===null||h===void 0?void 0:h[c],p=await qw(Yt(e,c),t[c],{name:(d==null?void 0:d.name)||c,label:d==null?void 0:d.label,values:e,bails:(f=(l=n==null?void 0:n.bailsMap)===null||l===void 0?void 0:l[c])!==null&&f!==void 0?f:!0});return Object.assign(Object.assign({},p),{path:c})});let i=!0;const o=await Promise.all(s),a={},u={};for(const c of o)a[c.path]={valid:c.valid,errors:c.errors},c.valid||(i=!1,u[c.path]=c.errors[0]);return{valid:i,results:a,errors:u}}let Xg=0;function WM(t,e){const{value:n,initialValue:r,setInitialValue:s}=GM(t,e.modelValue,e.form);if(!e.form){let f=function(d){var p;"value"in d&&(n.value=d.value),"errors"in d&&c(d.errors),"touched"in d&&(l.touched=(p=d.touched)!==null&&p!==void 0?p:l.touched),"initialValue"in d&&s(d.initialValue)};const{errors:u,setErrors:c}=YM(),h=Xg>=Number.MAX_SAFE_INTEGER?0:++Xg,l=zM(n,r,u);return{id:h,path:t,value:n,initialValue:r,meta:l,flags:{pendingUnmount:{[h]:!1}},errors:u,setState:f}}const i=e.form.createPathState(t,{bails:e.bails,label:e.label,type:e.type,validate:e.validate}),o=de(()=>i.errors);function a(u){var c,h,l;"value"in u&&(n.value=u.value),"errors"in u&&((c=e.form)===null||c===void 0||c.setFieldError(ge(t),u.errors)),"touched"in u&&((h=e.form)===null||h===void 0||h.setFieldTouched(ge(t),(l=u.touched)!==null&&l!==void 0?l:!1)),"initialValue"in u&&s(u.initialValue)}return{id:Array.isArray(i.id)?i.id[i.id.length-1]:i.id,path:t,value:n,errors:o,meta:i,initialValue:r,flags:i.__flags,setState:a}}function GM(t,e,n){const r=Qe(ge(e));function s(){return n?Yt(n.initialValues.value,ge(t),ge(r)):ge(r)}function i(c){if(!n){r.value=c;return}n.stageInitialValue(ge(t),c,!0)}const o=de(s);if(!n)return{value:Qe(s()),initialValue:o,setInitialValue:i};const a=KM(e,n,o,t);return n.stageInitialValue(ge(t),a,!0),{value:de({get(){return Yt(n.values,ge(t))},set(c){n.setFieldValue(ge(t),c)}}),initialValue:o,setInitialValue:i}}function KM(t,e,n,r){return $e(t)?ge(t):t!==void 0?t:Yt(e.values,ge(r),ge(n))}function zM(t,e,n){const r=Un({touched:!1,pending:!1,valid:!0,validated:!!ge(n).length,initialValue:de(()=>ge(e)),dirty:de(()=>!Ht(ge(t),ge(e)))});return Pt(n,s=>{r.valid=!s.length},{immediate:!0,flush:"sync"}),r}function YM(){const t=Qe([]);return{errors:t,setErrors:e=>{t.value=Nf(e)}}}function XM(t,e,n){return _a(n==null?void 0:n.type)?JM(t,e,n):Kw(t,e,n)}function Kw(t,e,n){const{initialValue:r,validateOnMount:s,bails:i,type:o,checkedValue:a,label:u,validateOnValueUpdate:c,uncheckedValue:h,controlled:l,keepValueOnUnmount:f,modelPropName:d,syncVModel:p,form:y}=QM(n),v=l?Bw(Uu):void 0,m=y||v,w=RM(t),S=de(()=>{if(ge(m==null?void 0:m.schema))return;const oe=ge(e);return Dl(oe)||Cs(oe)||Tt(oe)||Array.isArray(oe)?oe:Hw(oe)}),{id:E,value:R,initialValue:O,meta:x,setState:L,errors:D,flags:Q}=WM(w,{modelValue:r,form:m,bails:i,label:u,type:o,validate:S.value?te:void 0}),ae=de(()=>D.value[0]);p&&ZM({value:R,prop:d,handleChange:fe});const W=()=>{x.touched=!0};async function re(J){var oe,P;return m!=null&&m.validateSchema?(oe=(await m.validateSchema(J)).results[ge(w)])!==null&&oe!==void 0?oe:{valid:!0,errors:[]}:S.value?qw(R.value,S.value,{name:ge(w),label:ge(u),values:(P=m==null?void 0:m.values)!==null&&P!==void 0?P:{},bails:i}):{valid:!0,errors:[]}}const ce=Rf(async()=>(x.pending=!0,x.validated=!0,re("validated-only")),J=>{if(!Q.pendingUnmount[je.id])return L({errors:J.errors}),x.pending=!1,x.valid=J.valid,J}),Se=Rf(async()=>re("silent"),J=>(x.valid=J.valid,J));function te(J){return(J==null?void 0:J.mode)==="silent"?Se():ce()}function fe(J,oe=!0){const P=xl(J);st(P,oe)}Ho(()=>{if(s)return ce();(!m||!m.validateSchema)&&Se()});function le(J){x.touched=J}function Be(J){var oe;const P=J&&"value"in J?J.value:O.value;L({value:Ze(P),initialValue:Ze(P),touched:(oe=J==null?void 0:J.touched)!==null&&oe!==void 0?oe:!1,errors:(J==null?void 0:J.errors)||[]}),x.pending=!1,x.validated=!1,Se()}function st(J,oe=!0){if(R.value=J,!oe){Se();return}(oe?ce:Se)()}function nt(J){L({errors:Array.isArray(J)?J:[J]})}const Ye=de({get(){return R.value},set(J){st(J,c)}}),je={id:E,name:w,label:u,value:Ye,meta:x,errors:D,errorMessage:ae,type:o,checkedValue:a,uncheckedValue:h,bails:i,keepValueOnUnmount:f,resetField:Be,handleReset:()=>Be(),validate:te,handleChange:fe,handleBlur:W,setState:L,setTouched:le,setErrors:nt,setValue:st};if(Js(EM,je),$e(e)&&typeof ge(e)!="function"&&Pt(e,(J,oe)=>{Ht(J,oe)||(x.validated?ce():Se())},{deep:!0}),!m)return je;const Xe=de(()=>{const J=S.value;return!J||Tt(J)||Dl(J)||Cs(J)||Array.isArray(J)?{}:Object.keys(J).reduce((oe,P)=>{const $=DM(J[P]).map(j=>j.__locatorRef).reduce((j,z)=>{const pe=Yt(m.values,z)||m.values[z];return pe!==void 0&&(j[z]=pe),j},{});return Object.assign(oe,$),oe},{})});return Pt(Xe,(J,oe)=>{if(!Object.keys(J).length)return;!Ht(J,oe)&&(x.validated?ce():Se())}),ch(()=>{var J;const oe=(J=ge(je.keepValueOnUnmount))!==null&&J!==void 0?J:ge(m.keepValuesOnUnmount),P=Gn(w);if(oe||!m||Q.pendingUnmount[je.id]){m==null||m.removePathState(P,E);return}Q.pendingUnmount[je.id]=!0;const $=m.getPathState(P);if(Array.isArray($==null?void 0:$.id)&&($!=null&&$.multiple)?$!=null&&$.id.includes(je.id):($==null?void 0:$.id)===je.id){if($!=null&&$.multiple&&Array.isArray($.value)){const z=$.value.findIndex(pe=>Ht(pe,ge(je.checkedValue)));if(z>-1){const pe=[...$.value];pe.splice(z,1),m.setFieldValue(P,pe)}Array.isArray($.id)&&$.id.splice($.id.indexOf(je.id),1)}else m.unsetPathValue(Gn(w));m.removePathState(P,E)}}),je}function QM(t){var e;const n=()=>({initialValue:void 0,validateOnMount:!1,bails:!0,label:void 0,validateOnValueUpdate:!0,keepValueOnUnmount:void 0,modelPropName:"modelValue",syncVModel:!0,controlled:!0}),s=((e=t==null?void 0:t.syncVModel)!==null&&e!==void 0?e:!0)&&!("initialValue"in(t||{}))?Lf(tr(),(t==null?void 0:t.modelPropName)||"modelValue"):t==null?void 0:t.initialValue;if(!t)return Object.assign(Object.assign({},n()),{initialValue:s});const i="valueProp"in t?t.valueProp:t.checkedValue,o="standalone"in t?!t.standalone:t.controlled;return Object.assign(Object.assign(Object.assign({},n()),t||{}),{initialValue:s,controlled:o??!0,checkedValue:i})}function JM(t,e,n){const r=n!=null&&n.standalone?void 0:Bw(Uu),s=n==null?void 0:n.checkedValue,i=n==null?void 0:n.uncheckedValue;function o(a){const u=a.handleChange,c=de(()=>{const l=ge(a.value),f=ge(s);return Array.isArray(l)?l.findIndex(d=>Ht(d,f))>=0:Ht(f,l)});function h(l,f=!0){var d;if(c.value===((d=l==null?void 0:l.target)===null||d===void 0?void 0:d.checked)){f&&a.validate();return}const p=Gn(t),y=r==null?void 0:r.getPathState(p),v=xl(l);let m;r&&(y!=null&&y.multiple)&&y.type==="checkbox"?m=Kg(Yt(r.values,p)||[],v,void 0):m=Kg(ge(a.value),ge(s),ge(i)),u(m,f)}return Object.assign(Object.assign({},a),{checked:c,checkedValue:s,uncheckedValue:i,handleChange:h})}return o(Kw(t,e,n))}function ZM({prop:t,value:e,handleChange:n}){const r=tr();if(!r)return;const s=t||"modelValue",i=`update:${s}`;s in r.props&&(Pt(e,o=>{Ht(o,Lf(r,s))||r.emit(i,o)}),Pt(()=>Lf(r,s),o=>{if(o===Ll&&e.value===void 0)return;const a=o===Ll?void 0:o;Ht(a,OM(e.value,r.props.modelModifiers))||n(a)}))}function Lf(t,e){if(t)return t.props[e]}const eF=jr({name:"Field",inheritAttrs:!1,props:{as:{type:[String,Object],default:void 0},name:{type:String,required:!0},rules:{type:[Object,String,Function],default:void 0},validateOnMount:{type:Boolean,default:!1},validateOnBlur:{type:Boolean,default:void 0},validateOnChange:{type:Boolean,default:void 0},validateOnInput:{type:Boolean,default:void 0},validateOnModelUpdate:{type:Boolean,default:void 0},bails:{type:Boolean,default:()=>Sr().bails},label:{type:String,default:void 0},uncheckedValue:{type:null,default:void 0},modelValue:{type:null,default:Ll},modelModifiers:{type:null,default:()=>({})},"onUpdate:modelValue":{type:null,default:void 0},standalone:{type:Boolean,default:!1},keepValue:{type:Boolean,default:void 0}},setup(t,e){const n=br(t,"rules"),r=br(t,"name"),s=br(t,"label"),i=br(t,"uncheckedValue"),o=br(t,"keepValue"),{errors:a,value:u,errorMessage:c,validate:h,handleChange:l,handleBlur:f,setTouched:d,resetField:p,handleReset:y,meta:v,checked:m,setErrors:w}=XM(r,n,{validateOnMount:t.validateOnMount,bails:t.bails,standalone:t.standalone,type:e.attrs.type,initialValue:nF(t,e),checkedValue:e.attrs.value,uncheckedValue:i,label:s,validateOnValueUpdate:!1,keepValueOnUnmount:o}),S=function(D,Q=!0){l(D,Q),e.emit("update:modelValue",u.value)},E=de(()=>{const{validateOnInput:L,validateOnChange:D,validateOnBlur:Q,validateOnModelUpdate:ae}=tF(t);function W(te){f(te),Tt(e.attrs.onBlur)&&e.attrs.onBlur(te),Q&&h()}function re(te){S(te,L),Tt(e.attrs.onInput)&&e.attrs.onInput(te)}function ce(te){S(te,D),Tt(e.attrs.onChange)&&e.attrs.onChange(te)}const Se={name:t.name,onBlur:W,onInput:re,onChange:ce};return Se["onUpdate:modelValue"]=te=>S(te,ae),Se}),R=de(()=>{const L=Object.assign({},E.value);_a(e.attrs.type)&&m&&(L.checked=m.value);const D=Qg(t,e);return kM(D,e.attrs)&&(L.value=u.value),L}),O=de(()=>Object.assign(Object.assign({},E.value),{modelValue:u.value}));function x(){return{field:R.value,componentField:O.value,value:u.value,meta:v,errors:a.value,errorMessage:c.value,validate:h,resetField:p,handleChange:S,handleInput:L=>S(L,!1),handleReset:y,handleBlur:E.value.onBlur,setTouched:d,setErrors:w}}return e.expose({setErrors:w,setTouched:d,reset:p,validate:h,handleChange:l}),()=>{const L=Kl(Qg(t,e)),D=ep(L,e,x);return L?nr(L,Object.assign(Object.assign({},e.attrs),R.value),D):D}}});function Qg(t,e){let n=t.as||"";return!t.as&&!e.slots.default&&(n="input"),n}function tF(t){var e,n,r,s;const{validateOnInput:i,validateOnChange:o,validateOnBlur:a,validateOnModelUpdate:u}=Sr();return{validateOnInput:(e=t.validateOnInput)!==null&&e!==void 0?e:i,validateOnChange:(n=t.validateOnChange)!==null&&n!==void 0?n:o,validateOnBlur:(r=t.validateOnBlur)!==null&&r!==void 0?r:a,validateOnModelUpdate:(s=t.validateOnModelUpdate)!==null&&s!==void 0?s:u}}function nF(t,e){return _a(e.attrs.type)?Hg(t,"modelValue")?t.modelValue:void 0:Hg(t,"modelValue")?t.modelValue:e.attrs.value}const rF=eF;let sF=0;const Vi=["bails","fieldsCount","id","multiple","type","validate"];function zw(t){const e=ge(t==null?void 0:t.initialValues)||{},n=ge(t==null?void 0:t.validationSchema);return n&&Cs(n)&&Tt(n.cast)?Ze(n.cast(e)||{}):Ze(e)}function iF(t){var e;const n=sF++;let r=0;const s=Qe(!1),i=Qe(!1),o=Qe(0),a=[],u=Un(zw(t)),c=Qe([]),h=Qe({});function l(C,b){const A=ce(C);if(!A){typeof C=="string"&&(h.value[C]=Nf(b));return}A.errors=Nf(b),A.valid=!A.errors.length}function f(C){Sn(C).forEach(b=>{l(b,C[b])})}t!=null&&t.initialErrors&&f(t.initialErrors);const d=de(()=>{const C=c.value.reduce((b,A)=>(A.errors.length&&(b[A.path]=A.errors),b),{});return Object.assign(Object.assign({},h.value),C)}),p=de(()=>Sn(d.value).reduce((C,b)=>{const A=d.value[b];return A!=null&&A.length&&(C[b]=A[0]),C},{})),y=de(()=>c.value.reduce((C,b)=>(C[b.path]={name:b.path||"",label:b.label||""},C),{})),v=de(()=>c.value.reduce((C,b)=>{var A;return C[b.path]=(A=b.bails)!==null&&A!==void 0?A:!0,C},{})),m=Object.assign({},(t==null?void 0:t.initialErrors)||{}),w=(e=t==null?void 0:t.keepValuesOnUnmount)!==null&&e!==void 0?e:!1,{initialValues:S,originalInitialValues:E,setInitialValues:R}=aF(c,u,t),O=oF(c,u,E,p),x=de(()=>c.value.reduce((C,b)=>{const A=Yt(u,b.path);return es(C,b.path,A),C},{})),L=t==null?void 0:t.validationSchema;function D(C,b){var A,U;const G=de(()=>Yt(S.value,Gn(C))),ee=c.value.find(qt=>qt.path===ge(C));if(ee){((b==null?void 0:b.type)==="checkbox"||(b==null?void 0:b.type)==="radio")&&(ee.multiple=!0);const qt=r++;return Array.isArray(ee.id)?ee.id.push(qt):ee.id=[ee.id,qt],ee.fieldsCount++,ee.__flags.pendingUnmount[qt]=!1,ee}const ne=de(()=>Yt(u,Gn(C))),he=Gn(C),Ae=r++,xe=Un({id:Ae,path:C,touched:!1,pending:!1,valid:!0,validated:!!(!((A=m[he])===null||A===void 0)&&A.length),initialValue:G,errors:oh([]),bails:(U=b==null?void 0:b.bails)!==null&&U!==void 0?U:!1,label:b==null?void 0:b.label,type:(b==null?void 0:b.type)||"default",value:ne,multiple:!1,__flags:{pendingUnmount:{[Ae]:!1}},fieldsCount:1,validate:b==null?void 0:b.validate,dirty:de(()=>!Ht(ge(ne),ge(G)))});return c.value.push(xe),p.value[he]&&!m[he]&&is(()=>{_(he)}),$e(C)&&Pt(C,qt=>{const Bn=Ze(ne.value);is(()=>{es(u,qt,Bn)})}),xe}const Q=zg(F,5),ae=zg(F,5),W=Rf(async C=>await C==="silent"?Q():ae(),(C,[b])=>{const A=Sn(Xe.errorBag.value);return[...new Set([...Sn(C.results),...c.value.map(G=>G.path),...A])].sort().reduce((G,ee)=>{const ne=ee,he=ce(ne)||Se(ne),Ae=(C.results[ne]||{errors:[]}).errors,xe={errors:Ae,valid:!Ae.length};return G.results[ne]=xe,xe.valid||(G.errors[ne]=xe.errors[0]),he&&h.value[ne]&&delete h.value[ne],he?(he.valid=xe.valid,b==="silent"||b==="validated-only"&&!he.validated||l(he,xe.errors),G):(l(ne,Ae),G)},{valid:C.valid,results:{},errors:{}})});function re(C){c.value.forEach(C)}function ce(C){return typeof C=="string"?c.value.find(A=>A.path===C):C}function Se(C){return c.value.filter(A=>C.startsWith(A.path)).reduce((A,U)=>A?U.path.length>A.path.length?U:A:U,void 0)}let te=[],fe;function le(C){return te.push(C),fe||(fe=is(()=>{[...te].sort().reverse().forEach(A=>{Gg(u,A)}),te=[],fe=null})),fe}function Be(C){return function(A,U){return function(ee){return ee instanceof Event&&(ee.preventDefault(),ee.stopPropagation()),re(ne=>ne.touched=!0),s.value=!0,o.value++,g().then(ne=>{const he=Ze(u);if(ne.valid&&typeof A=="function"){const Ae=Ze(x.value);let xe=C?Ae:he;return ne.values&&(xe=ne.values),A(xe,{evt:ee,controlledValues:Ae,setErrors:f,setFieldError:l,setTouched:z,setFieldTouched:j,setValues:oe,setFieldValue:J,resetForm:I,resetField:pe})}!ne.valid&&typeof U=="function"&&U({values:he,evt:ee,errors:ne.errors,results:ne.results})}).then(ne=>(s.value=!1,ne),ne=>{throw s.value=!1,ne})}}}const nt=Be(!1);nt.withControlled=Be(!0);function Ye(C,b){const A=c.value.findIndex(G=>G.path===C),U=c.value[A];if(!(A===-1||!U)){if(U.multiple&&U.fieldsCount&&U.fieldsCount--,Array.isArray(U.id)){const G=U.id.indexOf(b);G>=0&&U.id.splice(G,1),delete U.__flags.pendingUnmount[b]}(!U.multiple||U.fieldsCount<=0)&&(c.value.splice(A,1),T(C))}}function je(C){return re(b=>{b.path.startsWith(C)&&Sn(b.__flags.pendingUnmount).forEach(A=>{b.__flags.pendingUnmount[A]=!0})})}const Xe={formId:n,values:u,controlledValues:x,errorBag:d,errors:p,schema:L,submitCount:o,meta:O,isSubmitting:s,isValidating:i,fieldArrays:a,keepValuesOnUnmount:w,validateSchema:ge(L)?W:void 0,validate:g,setFieldError:l,validateField:_,setFieldValue:J,setValues:oe,setErrors:f,setFieldTouched:j,setTouched:z,resetForm:I,resetField:pe,handleSubmit:nt,stageInitialValue:k,unsetInitialValue:T,setFieldInitialValue:N,useFieldModel:$,createPathState:D,getPathState:ce,unsetPathValue:le,removePathState:Ye,initialValues:S,getAllPathStates:()=>c.value,markForUnmount:je};function J(C,b){const A=Ze(b),U=typeof C=="string"?C:C.path;ce(U)||D(U),es(u,U,A)}function oe(C){Fw(u,C),a.forEach(b=>b&&b.reset())}function P(C){const b=ce(ge(C))||D(C);return de({get(){return b.value},set(A){const U=ge(C);J(U,A),b.validated=!0,b.pending=!0,_(U).then(()=>{b.pending=!1})}})}function $(C){return Array.isArray(C)?C.map(P):P(C)}function j(C,b){const A=ce(C);A&&(A.touched=b)}function z(C){Sn(C).forEach(b=>{j(b,!!C[b])})}function pe(C,b){var A;const U=b&&"value"in b?b.value:Yt(S.value,C);N(C,Ze(U)),J(C,U),j(C,(A=b==null?void 0:b.touched)!==null&&A!==void 0?A:!1),l(C,(b==null?void 0:b.errors)||[])}function I(C){const b=C!=null&&C.values?C.values:E.value;R(b),oe(b),re(A=>{var U;A.validated=!1,A.touched=((U=C==null?void 0:C.touched)===null||U===void 0?void 0:U[A.path])||!1,J(A.path,Yt(b,A.path)),l(A.path,void 0)}),f((C==null?void 0:C.errors)||{}),o.value=(C==null?void 0:C.submitCount)||0,is(()=>{g({mode:"silent"})})}async function g(C){const b=(C==null?void 0:C.mode)||"force";if(b==="force"&&re(ee=>ee.validated=!0),Xe.validateSchema)return Xe.validateSchema(b);i.value=!0;const A=await Promise.all(c.value.map(ee=>ee.validate?ee.validate(C).then(ne=>({key:ee.path,valid:ne.valid,errors:ne.errors})):Promise.resolve({key:ee.path,valid:!0,errors:[]})));i.value=!1;const U={},G={};for(const ee of A)U[ee.key]={valid:ee.valid,errors:ee.errors},ee.errors.length&&(G[ee.key]=ee.errors[0]);return{valid:A.every(ee=>ee.valid),results:U,errors:G}}async function _(C){const b=ce(C);if(b&&(b.validated=!0),L){const{results:A}=await W("validated-only");return A[C]||{errors:[],valid:!0}}return b!=null&&b.validate?b.validate():Promise.resolve({errors:[],valid:!0})}function T(C){Gg(S.value,C)}function k(C,b,A=!1){N(C,b),es(u,C,b),A&&!(t!=null&&t.initialValues)&&es(E.value,C,Ze(b))}function N(C,b){es(S.value,C,Ze(b))}async function F(){const C=ge(L);if(!C)return{valid:!0,results:{},errors:{}};i.value=!0;const b=Dl(C)||Cs(C)?await HM(C,u):await qM(C,u,{names:y.value,bailsMap:v.value});return i.value=!1,b}const B=nt((C,{evt:b})=>{Vw(b)&&b.target.submit()});Ho(()=>{if(t!=null&&t.initialErrors&&f(t.initialErrors),t!=null&&t.initialTouched&&z(t.initialTouched),t!=null&&t.validateOnMount){g();return}Xe.validateSchema&&Xe.validateSchema("silent")}),$e(L)&&Pt(L,()=>{var C;(C=Xe.validateSchema)===null||C===void 0||C.call(Xe,"validated-only")}),Js(Uu,Xe);function q(C,b){const A=ce(Gn(C))||D(C),U=()=>Tt(b)?b($i(A,Vi)):b||{};function G(){var he;A.touched=!0,((he=U().validateOnBlur)!==null&&he!==void 0?he:Sr().validateOnBlur)&&_(A.path)}function ee(he){var Ae;J(A.path,he),((Ae=U().validateOnModelUpdate)!==null&&Ae!==void 0?Ae:Sr().validateOnModelUpdate)&&_(A.path)}return de(()=>{const he={modelValue:A.value,"onUpdate:modelValue":ee,onBlur:G};return Tt(b)?Object.assign(Object.assign({},he),b(A).props||{}):b!=null&&b.mapProps?Object.assign(Object.assign({},he),b.mapProps($i(A,Vi))):he})}function V(C,b){const A=ce(Gn(C))||D(C),U=()=>Tt(b)?b($i(A,Vi)):b||{};function G(){var Ae;A.touched=!0,((Ae=U().validateOnBlur)!==null&&Ae!==void 0?Ae:Sr().validateOnBlur)&&_(A.path)}function ee(Ae){var xe;const qt=xl(Ae);J(A.path,qt),((xe=U().validateOnInput)!==null&&xe!==void 0?xe:Sr().validateOnInput)&&_(A.path)}function ne(Ae){var xe;const qt=xl(Ae);J(A.path,qt),((xe=U().validateOnChange)!==null&&xe!==void 0?xe:Sr().validateOnChange)&&_(A.path)}return de(()=>{const Ae={value:A.value,onChange:ne,onInput:ee,onBlur:G};return Tt(b)?Object.assign(Object.assign({},Ae),b($i(A,Vi)).attrs||{}):b!=null&&b.mapAttrs?Object.assign(Object.assign({},Ae),b.mapAttrs($i(A,Vi))):Ae})}return Object.assign(Object.assign({},Xe),{handleReset:()=>I(),submitForm:B,defineComponentBinds:q,defineInputBinds:V})}function oF(t,e,n,r){const s={touched:"some",pending:"some",valid:"every"},i=de(()=>!Ht(e,ge(n)));function o(){const u=t.value;return Sn(s).reduce((c,h)=>{const l=s[h];return c[h]=u[l](f=>f[h]),c},{})}const a=Un(o());return oI(()=>{const u=o();a.touched=u.touched,a.valid=u.valid,a.pending=u.pending}),de(()=>Object.assign(Object.assign({initialValues:ge(n)},a),{valid:a.valid&&!Sn(r.value).length,dirty:i.value}))}function aF(t,e,n){const r=zw(n),s=n==null?void 0:n.initialValues,i=Qe(r),o=Qe(Ze(r));function a(u,c=!1){i.value=Ze(u),o.value=Ze(u),c&&t.value.forEach(h=>{if(h.touched)return;const f=Yt(i.value,h.path);es(e,h.path,Ze(f))})}return $e(s)&&Pt(s,u=>{u&&a(u,!0)},{deep:!0}),{initialValues:i,originalInitialValues:o,setInitialValues:a}}const lF=jr({name:"Form",inheritAttrs:!1,props:{as:{type:String,default:"form"},validationSchema:{type:Object,default:void 0},initialValues:{type:Object,default:void 0},initialErrors:{type:Object,default:void 0},initialTouched:{type:Object,default:void 0},validateOnMount:{type:Boolean,default:!1},onSubmit:{type:Function,default:void 0},onInvalidSubmit:{type:Function,default:void 0},keepValues:{type:Boolean,default:!1}},setup(t,e){const n=br(t,"initialValues"),r=br(t,"validationSchema"),s=br(t,"keepValues"),{errors:i,errorBag:o,values:a,meta:u,isSubmitting:c,isValidating:h,submitCount:l,controlledValues:f,validate:d,validateField:p,handleReset:y,resetForm:v,handleSubmit:m,setErrors:w,setFieldError:S,setFieldValue:E,setValues:R,setFieldTouched:O,setTouched:x,resetField:L}=iF({validationSchema:r.value?r:void 0,initialValues:n,initialErrors:t.initialErrors,initialTouched:t.initialTouched,validateOnMount:t.validateOnMount,keepValuesOnUnmount:s}),D=m((fe,{evt:le})=>{Vw(le)&&le.target.submit()},t.onInvalidSubmit),Q=t.onSubmit?m(t.onSubmit,t.onInvalidSubmit):D;function ae(fe){Jd(fe)&&fe.preventDefault(),y(),typeof e.attrs.onReset=="function"&&e.attrs.onReset()}function W(fe,le){return m(typeof fe=="function"&&!le?fe:le,t.onInvalidSubmit)(fe)}function re(){return Ze(a)}function ce(){return Ze(u.value)}function Se(){return Ze(i.value)}function te(){return{meta:u.value,errors:i.value,errorBag:o.value,values:a,isSubmitting:c.value,isValidating:h.value,submitCount:l.value,controlledValues:f.value,validate:d,validateField:p,handleSubmit:W,handleReset:y,submitForm:D,setErrors:w,setFieldError:S,setFieldValue:E,setValues:R,setFieldTouched:O,setTouched:x,resetForm:v,resetField:L,getValues:re,getMeta:ce,getErrors:Se}}return e.expose({setFieldError:S,setErrors:w,setFieldValue:E,setValues:R,setFieldTouched:O,setTouched:x,resetForm:v,validate:d,validateField:p,resetField:L,getValues:re,getMeta:ce,getErrors:Se}),function(){const le=t.as==="form"?t.as:Kl(t.as),Be=ep(le,e,te);if(!t.as)return Be;const st=t.as==="form"?{novalidate:!0}:{};return nr(le,Object.assign(Object.assign(Object.assign({},st),e.attrs),{onSubmit:Q,onReset:ae}),Be)}}}),uF=lF,cF=jr({name:"ErrorMessage",props:{as:{type:String,default:void 0},name:{type:String,required:!0}},setup(t,e){const n=sn(Uu,void 0),r=de(()=>n==null?void 0:n.errors.value[t.name]);function s(){return{message:r.value}}return()=>{if(!r.value)return;const i=t.as?Kl(t.as):t.as,o=ep(i,e,s),a=Object.assign({role:"alert"},e.attrs);return!i&&(Array.isArray(o)||!o)&&(o!=null&&o.length)?o:(Array.isArray(o)||!o)&&!(o!=null&&o.length)?nr(i||"span",a,r.value):nr(i,a,o)}}}),fF=cF;/**
  * vee-validate v4.9.6
  * (c) 2023 Abdelrahman Awad
  * @license MIT
  */const Ua={en:/^[A-Z\s]*$/i,cs:/^[A-ZÁČĎÉĚÍŇÓŘŠŤÚŮÝŽ\s]*$/i,da:/^[A-ZÆØÅ\s]*$/i,de:/^[A-ZÄÖÜß\s]*$/i,es:/^[A-ZÁÉÍÑÓÚÜ\s]*$/i,fr:/^[A-ZÀÂÆÇÉÈÊËÏÎÔŒÙÛÜŸ\s]*$/i,it:/^[A-Z\xC0-\xFF\s]*$/i,lt:/^[A-ZĄČĘĖĮŠŲŪŽ\s]*$/i,nl:/^[A-ZÉËÏÓÖÜ\s]*$/i,hu:/^[A-ZÁÉÍÓÖŐÚÜŰ\s]*$/i,pl:/^[A-ZĄĆĘŚŁŃÓŻŹ\s]*$/i,pt:/^[A-ZÃÁÀÂÇÉÊÍÕÓÔÚÜ\s]*$/i,ru:/^[А-ЯЁ\s]*$/i,sk:/^[A-ZÁÄČĎÉÍĹĽŇÓŔŠŤÚÝŽ\s]*$/i,sr:/^[A-ZČĆŽŠĐ\s]*$/i,sv:/^[A-ZÅÄÖ\s]*$/i,tr:/^[A-ZÇĞİıÖŞÜ\s]*$/i,uk:/^[А-ЩЬЮЯЄІЇҐ\s]*$/i,ar:/^[ءآأؤإئابةتثجحخدذرزسشصضطظعغفقكلمنهوىيًٌٍَُِّْٰ\s]*$/,az:/^[A-ZÇƏĞİıÖŞÜ\s]*$/i,ug:/^[A-Zچۋېرتيۇڭوپھسداەىقكلزشغۈبنمژفگخجۆئ\s]*$/i},hF=t=>{if(t)return Array.isArray(t)?t[0]:t.locale};function ya(t,e){return Array.isArray(t)?t[0]:t[e]}function Gr(t){return!!(t==null||t===""||Array.isArray(t)&&t.length===0)}const Yw=(t,e)=>{if(Gr(t))return!0;const n=hF(e);if(Array.isArray(t))return t.every(s=>Yw(s,{locale:n}));const r=String(t);return n?(Ua[n]||Ua.en).test(r):Object.keys(Ua).some(s=>Ua[s].test(r))},dF=(t,e)=>{const n=ya(e,"target");return String(t)===String(n)},pF=t=>{if(Gr(t))return!0;const e=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return Array.isArray(t)?t.every(n=>e.test(String(n))):e.test(String(t))};function mF(t){return t==null}function gF(t){return Array.isArray(t)&&t.length===0}const Xw=(t,e)=>{if(Gr(t))return!0;const n=ya(e,"length");return Array.isArray(t)?t.every(r=>Xw(r,{length:n})):[...String(t)].length<=Number(n)},Qw=(t,e)=>{if(Gr(t))return!0;const n=ya(e,"max");return Array.isArray(t)?t.length>0&&t.every(r=>Qw(r,{max:n})):Number(t)<=Number(n)},Jw=(t,e)=>{if(Gr(t))return!0;const n=ya(e,"length");return Array.isArray(t)?t.every(r=>Jw(r,{length:n})):[...String(t)].length>=Number(n)},Zw=(t,e)=>{if(Gr(t))return!0;const n=ya(e,"min");return Array.isArray(t)?t.length>0&&t.every(r=>Zw(r,{min:n})):Number(t)>=Number(n)},eE=(t,e)=>Gr(t)?!0:Array.isArray(t)?t.every(n=>eE(n,e)):Array.from(e).some(n=>n==t),Cc=(t,e)=>Gr(t)?!0:!eE(t,e),Jg=t=>mF(t)||gF(t)||t===!1?!1:!!String(t).trim().length,_F={install(t){t.component("VeeForm",uF),t.component("VeeField",rF),t.component("ErrorMessage",fF),ln("required",Jg),ln("tos",Jg),ln("min",Jw),ln("max",Xw),ln("alpha_spaces",Yw),ln("email",pF),ln("min_value",Zw),ln("max_value",Qw),ln("passwords_mismatch",dF),ln("excluded",Cc),ln("country_excluded",Cc),ln("user_type_excluded",Cc),FM({generateMessage:e=>{const n={required:`The field ${e.field} is required`,min:`The field ${e.field} is too short`,max:`The field ${e.field} is too long`,alpha_spaces:`The field ${e.field} may only contain alphabetical characters and spaces`,email:`The field ${e.field} must be a valid email`,min_value:`The field ${e.field} is too low`,max_value:`The field ${e.field} is too high`,excluded:`You are not allowed to use this value for the field ${e.field}.`,country_excluded:"Due to restrictions, we do not accept users from this location.",user_type_excluded:"Labels are not allowed to resgister at the moment.",passwords_mismatch:"The passwords don't match.",tos:"You must accept the Terms of Service."};return n[e.rule.name]?n[e.rule.name]:`The field ${e.field} is invalid.`},validateOnBlur:!0,validateOnChange:!0,validateOnInput:!1,validateOnModelUpdate:!0})}},yF={beforeMount(t,e){let n=`fa fa-${e.value} text-xl`;e.arg==="full"&&(n=e.value),e.modifiers.right&&(n+=" float-right"),e.modifiers.yellow?n+=" text-yellow-400":n+=" text-green-400",t.innerHTML+=`<i class="${n}"></i>`}};/*!
  * shared v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const Df=typeof window<"u",Kr=(t,e=!1)=>e?Symbol.for(t):Symbol(t),vF=(t,e,n)=>bF({l:t,k:e,s:n}),bF=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),pt=t=>typeof t=="number"&&isFinite(t),wF=t=>nE(t)==="[object Date]",Br=t=>nE(t)==="[object RegExp]",Vu=t=>be(t)&&Object.keys(t).length===0,At=Object.assign;let Zg;const Kn=()=>Zg||(Zg=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function e_(t){return t.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}const EF=Object.prototype.hasOwnProperty;function tp(t,e){return EF.call(t,e)}const Ge=Array.isArray,lt=t=>typeof t=="function",X=t=>typeof t=="string",Ce=t=>typeof t=="boolean",Fe=t=>t!==null&&typeof t=="object",tE=Object.prototype.toString,nE=t=>tE.call(t),be=t=>{if(!Fe(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},TF=t=>t==null?"":Ge(t)||be(t)&&t.toString===tE?JSON.stringify(t,null,2):String(t);function IF(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}function np(t){let e=t;return()=>++e}function AF(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}/*!
  * message-compiler v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function SF(t,e,n){return{line:t,column:e,offset:n}}function xf(t,e,n){const r={start:t,end:e};return n!=null&&(r.source=n),r}const CF=/\{([0-9a-zA-Z]+)\}/g;function kF(t,...e){return e.length===1&&OF(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(CF,(n,r)=>e.hasOwnProperty(r)?e[r]:"")}const rE=Object.assign,t_=t=>typeof t=="string",OF=t=>t!==null&&typeof t=="object";function sE(t,e=""){return t.reduce((n,r,s)=>s===0?n+r:n+e+r,"")}const me={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},RF={[me.EXPECTED_TOKEN]:"Expected token: '{0}'",[me.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[me.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[me.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[me.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[me.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[me.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[me.EMPTY_PLACEHOLDER]:"Empty placeholder",[me.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[me.INVALID_LINKED_FORMAT]:"Invalid linked format",[me.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[me.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[me.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[me.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[me.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[me.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function Pi(t,e,n={}){const{domain:r,messages:s,args:i}=n,o=kF((s||RF)[t]||"",...i||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=r,a}function NF(t){throw t}const Hn=" ",PF="\r",Vt=`
`,LF=String.fromCharCode(8232),DF=String.fromCharCode(8233);function xF(t){const e=t;let n=0,r=1,s=1,i=0;const o=x=>e[x]===PF&&e[x+1]===Vt,a=x=>e[x]===Vt,u=x=>e[x]===DF,c=x=>e[x]===LF,h=x=>o(x)||a(x)||u(x)||c(x),l=()=>n,f=()=>r,d=()=>s,p=()=>i,y=x=>o(x)||u(x)||c(x)?Vt:e[x],v=()=>y(n),m=()=>y(n+i);function w(){return i=0,h(n)&&(r++,s=0),o(n)&&n++,n++,s++,e[n]}function S(){return o(n+i)&&i++,i++,e[n+i]}function E(){n=0,r=1,s=1,i=0}function R(x=0){i=x}function O(){const x=n+i;for(;x!==n;)w();i=0}return{index:l,line:f,column:d,peekOffset:p,charAt:y,currentChar:v,currentPeek:m,next:w,peek:S,reset:E,resetPeek:R,skipToPeek:O}}const mr=void 0,MF=".",n_="'",FF="tokenizer";function UF(t,e={}){const n=e.location!==!1,r=xF(t),s=()=>r.index(),i=()=>SF(r.line(),r.column(),r.index()),o=i(),a=s(),u={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},c=()=>u,{onError:h}=e;function l(g,_,T,...k){const N=c();if(_.column+=T,_.offset+=T,h){const F=n?xf(N.startLoc,_):null,B=Pi(g,F,{domain:FF,args:k});h(B)}}function f(g,_,T){g.endLoc=i(),g.currentType=_;const k={type:_};return n&&(k.loc=xf(g.startLoc,g.endLoc)),T!=null&&(k.value=T),k}const d=g=>f(g,14);function p(g,_){return g.currentChar()===_?(g.next(),_):(l(me.EXPECTED_TOKEN,i(),0,_),"")}function y(g){let _="";for(;g.currentPeek()===Hn||g.currentPeek()===Vt;)_+=g.currentPeek(),g.peek();return _}function v(g){const _=y(g);return g.skipToPeek(),_}function m(g){if(g===mr)return!1;const _=g.charCodeAt(0);return _>=97&&_<=122||_>=65&&_<=90||_===95}function w(g){if(g===mr)return!1;const _=g.charCodeAt(0);return _>=48&&_<=57}function S(g,_){const{currentType:T}=_;if(T!==2)return!1;y(g);const k=m(g.currentPeek());return g.resetPeek(),k}function E(g,_){const{currentType:T}=_;if(T!==2)return!1;y(g);const k=g.currentPeek()==="-"?g.peek():g.currentPeek(),N=w(k);return g.resetPeek(),N}function R(g,_){const{currentType:T}=_;if(T!==2)return!1;y(g);const k=g.currentPeek()===n_;return g.resetPeek(),k}function O(g,_){const{currentType:T}=_;if(T!==8)return!1;y(g);const k=g.currentPeek()===".";return g.resetPeek(),k}function x(g,_){const{currentType:T}=_;if(T!==9)return!1;y(g);const k=m(g.currentPeek());return g.resetPeek(),k}function L(g,_){const{currentType:T}=_;if(!(T===8||T===12))return!1;y(g);const k=g.currentPeek()===":";return g.resetPeek(),k}function D(g,_){const{currentType:T}=_;if(T!==10)return!1;const k=()=>{const F=g.currentPeek();return F==="{"?m(g.peek()):F==="@"||F==="%"||F==="|"||F===":"||F==="."||F===Hn||!F?!1:F===Vt?(g.peek(),k()):m(F)},N=k();return g.resetPeek(),N}function Q(g){y(g);const _=g.currentPeek()==="|";return g.resetPeek(),_}function ae(g){const _=y(g),T=g.currentPeek()==="%"&&g.peek()==="{";return g.resetPeek(),{isModulo:T,hasSpace:_.length>0}}function W(g,_=!0){const T=(N=!1,F="",B=!1)=>{const q=g.currentPeek();return q==="{"?F==="%"?!1:N:q==="@"||!q?F==="%"?!0:N:q==="%"?(g.peek(),T(N,"%",!0)):q==="|"?F==="%"||B?!0:!(F===Hn||F===Vt):q===Hn?(g.peek(),T(!0,Hn,B)):q===Vt?(g.peek(),T(!0,Vt,B)):!0},k=T();return _&&g.resetPeek(),k}function re(g,_){const T=g.currentChar();return T===mr?mr:_(T)?(g.next(),T):null}function ce(g){return re(g,T=>{const k=T.charCodeAt(0);return k>=97&&k<=122||k>=65&&k<=90||k>=48&&k<=57||k===95||k===36})}function Se(g){return re(g,T=>{const k=T.charCodeAt(0);return k>=48&&k<=57})}function te(g){return re(g,T=>{const k=T.charCodeAt(0);return k>=48&&k<=57||k>=65&&k<=70||k>=97&&k<=102})}function fe(g){let _="",T="";for(;_=Se(g);)T+=_;return T}function le(g){v(g);const _=g.currentChar();return _!=="%"&&l(me.EXPECTED_TOKEN,i(),0,_),g.next(),"%"}function Be(g){let _="";for(;;){const T=g.currentChar();if(T==="{"||T==="}"||T==="@"||T==="|"||!T)break;if(T==="%")if(W(g))_+=T,g.next();else break;else if(T===Hn||T===Vt)if(W(g))_+=T,g.next();else{if(Q(g))break;_+=T,g.next()}else _+=T,g.next()}return _}function st(g){v(g);let _="",T="";for(;_=ce(g);)T+=_;return g.currentChar()===mr&&l(me.UNTERMINATED_CLOSING_BRACE,i(),0),T}function nt(g){v(g);let _="";return g.currentChar()==="-"?(g.next(),_+=`-${fe(g)}`):_+=fe(g),g.currentChar()===mr&&l(me.UNTERMINATED_CLOSING_BRACE,i(),0),_}function Ye(g){v(g),p(g,"'");let _="",T="";const k=F=>F!==n_&&F!==Vt;for(;_=re(g,k);)_==="\\"?T+=je(g):T+=_;const N=g.currentChar();return N===Vt||N===mr?(l(me.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,i(),0),N===Vt&&(g.next(),p(g,"'")),T):(p(g,"'"),T)}function je(g){const _=g.currentChar();switch(_){case"\\":case"'":return g.next(),`\\${_}`;case"u":return Xe(g,_,4);case"U":return Xe(g,_,6);default:return l(me.UNKNOWN_ESCAPE_SEQUENCE,i(),0,_),""}}function Xe(g,_,T){p(g,_);let k="";for(let N=0;N<T;N++){const F=te(g);if(!F){l(me.INVALID_UNICODE_ESCAPE_SEQUENCE,i(),0,`\\${_}${k}${g.currentChar()}`);break}k+=F}return`\\${_}${k}`}function J(g){v(g);let _="",T="";const k=N=>N!=="{"&&N!=="}"&&N!==Hn&&N!==Vt;for(;_=re(g,k);)T+=_;return T}function oe(g){let _="",T="";for(;_=ce(g);)T+=_;return T}function P(g){const _=(T=!1,k)=>{const N=g.currentChar();return N==="{"||N==="%"||N==="@"||N==="|"||N==="("||N===")"||!N||N===Hn?k:N===Vt||N===MF?(k+=N,g.next(),_(T,k)):(k+=N,g.next(),_(!0,k))};return _(!1,"")}function $(g){v(g);const _=p(g,"|");return v(g),_}function j(g,_){let T=null;switch(g.currentChar()){case"{":return _.braceNest>=1&&l(me.NOT_ALLOW_NEST_PLACEHOLDER,i(),0),g.next(),T=f(_,2,"{"),v(g),_.braceNest++,T;case"}":return _.braceNest>0&&_.currentType===2&&l(me.EMPTY_PLACEHOLDER,i(),0),g.next(),T=f(_,3,"}"),_.braceNest--,_.braceNest>0&&v(g),_.inLinked&&_.braceNest===0&&(_.inLinked=!1),T;case"@":return _.braceNest>0&&l(me.UNTERMINATED_CLOSING_BRACE,i(),0),T=z(g,_)||d(_),_.braceNest=0,T;default:let N=!0,F=!0,B=!0;if(Q(g))return _.braceNest>0&&l(me.UNTERMINATED_CLOSING_BRACE,i(),0),T=f(_,1,$(g)),_.braceNest=0,_.inLinked=!1,T;if(_.braceNest>0&&(_.currentType===5||_.currentType===6||_.currentType===7))return l(me.UNTERMINATED_CLOSING_BRACE,i(),0),_.braceNest=0,pe(g,_);if(N=S(g,_))return T=f(_,5,st(g)),v(g),T;if(F=E(g,_))return T=f(_,6,nt(g)),v(g),T;if(B=R(g,_))return T=f(_,7,Ye(g)),v(g),T;if(!N&&!F&&!B)return T=f(_,13,J(g)),l(me.INVALID_TOKEN_IN_PLACEHOLDER,i(),0,T.value),v(g),T;break}return T}function z(g,_){const{currentType:T}=_;let k=null;const N=g.currentChar();switch((T===8||T===9||T===12||T===10)&&(N===Vt||N===Hn)&&l(me.INVALID_LINKED_FORMAT,i(),0),N){case"@":return g.next(),k=f(_,8,"@"),_.inLinked=!0,k;case".":return v(g),g.next(),f(_,9,".");case":":return v(g),g.next(),f(_,10,":");default:return Q(g)?(k=f(_,1,$(g)),_.braceNest=0,_.inLinked=!1,k):O(g,_)||L(g,_)?(v(g),z(g,_)):x(g,_)?(v(g),f(_,12,oe(g))):D(g,_)?(v(g),N==="{"?j(g,_)||k:f(_,11,P(g))):(T===8&&l(me.INVALID_LINKED_FORMAT,i(),0),_.braceNest=0,_.inLinked=!1,pe(g,_))}}function pe(g,_){let T={type:14};if(_.braceNest>0)return j(g,_)||d(_);if(_.inLinked)return z(g,_)||d(_);switch(g.currentChar()){case"{":return j(g,_)||d(_);case"}":return l(me.UNBALANCED_CLOSING_BRACE,i(),0),g.next(),f(_,3,"}");case"@":return z(g,_)||d(_);default:if(Q(g))return T=f(_,1,$(g)),_.braceNest=0,_.inLinked=!1,T;const{isModulo:N,hasSpace:F}=ae(g);if(N)return F?f(_,0,Be(g)):f(_,4,le(g));if(W(g))return f(_,0,Be(g));break}return T}function I(){const{currentType:g,offset:_,startLoc:T,endLoc:k}=u;return u.lastType=g,u.lastOffset=_,u.lastStartLoc=T,u.lastEndLoc=k,u.offset=s(),u.startLoc=i(),r.currentChar()===mr?f(u,14):pe(r,u)}return{nextToken:I,currentOffset:s,currentPosition:i,context:c}}const $F="parser",VF=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function BF(t,e,n){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const r=parseInt(e||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):"�"}}}function jF(t={}){const e=t.location!==!1,{onError:n}=t;function r(m,w,S,E,...R){const O=m.currentPosition();if(O.offset+=E,O.column+=E,n){const x=e?xf(S,O):null,L=Pi(w,x,{domain:$F,args:R});n(L)}}function s(m,w,S){const E={type:m};return e&&(E.start=w,E.end=w,E.loc={start:S,end:S}),E}function i(m,w,S,E){E&&(m.type=E),e&&(m.end=w,m.loc&&(m.loc.end=S))}function o(m,w){const S=m.context(),E=s(3,S.offset,S.startLoc);return E.value=w,i(E,m.currentOffset(),m.currentPosition()),E}function a(m,w){const S=m.context(),{lastOffset:E,lastStartLoc:R}=S,O=s(5,E,R);return O.index=parseInt(w,10),m.nextToken(),i(O,m.currentOffset(),m.currentPosition()),O}function u(m,w){const S=m.context(),{lastOffset:E,lastStartLoc:R}=S,O=s(4,E,R);return O.key=w,m.nextToken(),i(O,m.currentOffset(),m.currentPosition()),O}function c(m,w){const S=m.context(),{lastOffset:E,lastStartLoc:R}=S,O=s(9,E,R);return O.value=w.replace(VF,BF),m.nextToken(),i(O,m.currentOffset(),m.currentPosition()),O}function h(m){const w=m.nextToken(),S=m.context(),{lastOffset:E,lastStartLoc:R}=S,O=s(8,E,R);return w.type!==12?(r(m,me.UNEXPECTED_EMPTY_LINKED_MODIFIER,S.lastStartLoc,0),O.value="",i(O,E,R),{nextConsumeToken:w,node:O}):(w.value==null&&r(m,me.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,In(w)),O.value=w.value||"",i(O,m.currentOffset(),m.currentPosition()),{node:O})}function l(m,w){const S=m.context(),E=s(7,S.offset,S.startLoc);return E.value=w,i(E,m.currentOffset(),m.currentPosition()),E}function f(m){const w=m.context(),S=s(6,w.offset,w.startLoc);let E=m.nextToken();if(E.type===9){const R=h(m);S.modifier=R.node,E=R.nextConsumeToken||m.nextToken()}switch(E.type!==10&&r(m,me.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,In(E)),E=m.nextToken(),E.type===2&&(E=m.nextToken()),E.type){case 11:E.value==null&&r(m,me.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,In(E)),S.key=l(m,E.value||"");break;case 5:E.value==null&&r(m,me.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,In(E)),S.key=u(m,E.value||"");break;case 6:E.value==null&&r(m,me.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,In(E)),S.key=a(m,E.value||"");break;case 7:E.value==null&&r(m,me.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,In(E)),S.key=c(m,E.value||"");break;default:r(m,me.UNEXPECTED_EMPTY_LINKED_KEY,w.lastStartLoc,0);const R=m.context(),O=s(7,R.offset,R.startLoc);return O.value="",i(O,R.offset,R.startLoc),S.key=O,i(S,R.offset,R.startLoc),{nextConsumeToken:E,node:S}}return i(S,m.currentOffset(),m.currentPosition()),{node:S}}function d(m){const w=m.context(),S=w.currentType===1?m.currentOffset():w.offset,E=w.currentType===1?w.endLoc:w.startLoc,R=s(2,S,E);R.items=[];let O=null;do{const D=O||m.nextToken();switch(O=null,D.type){case 0:D.value==null&&r(m,me.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,In(D)),R.items.push(o(m,D.value||""));break;case 6:D.value==null&&r(m,me.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,In(D)),R.items.push(a(m,D.value||""));break;case 5:D.value==null&&r(m,me.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,In(D)),R.items.push(u(m,D.value||""));break;case 7:D.value==null&&r(m,me.UNEXPECTED_LEXICAL_ANALYSIS,w.lastStartLoc,0,In(D)),R.items.push(c(m,D.value||""));break;case 8:const Q=f(m);R.items.push(Q.node),O=Q.nextConsumeToken||null;break}}while(w.currentType!==14&&w.currentType!==1);const x=w.currentType===1?w.lastOffset:m.currentOffset(),L=w.currentType===1?w.lastEndLoc:m.currentPosition();return i(R,x,L),R}function p(m,w,S,E){const R=m.context();let O=E.items.length===0;const x=s(1,w,S);x.cases=[],x.cases.push(E);do{const L=d(m);O||(O=L.items.length===0),x.cases.push(L)}while(R.currentType!==14);return O&&r(m,me.MUST_HAVE_MESSAGES_IN_PLURAL,S,0),i(x,m.currentOffset(),m.currentPosition()),x}function y(m){const w=m.context(),{offset:S,startLoc:E}=w,R=d(m);return w.currentType===14?R:p(m,S,E,R)}function v(m){const w=UF(m,rE({},t)),S=w.context(),E=s(0,S.offset,S.startLoc);return e&&E.loc&&(E.loc.source=m),E.body=y(w),t.onCacheKey&&(E.cacheKey=t.onCacheKey(m)),S.currentType!==14&&r(w,me.UNEXPECTED_LEXICAL_ANALYSIS,S.lastStartLoc,0,m[S.offset]||""),i(E,w.currentOffset(),w.currentPosition()),E}return{parse:v}}function In(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"…":e}function HF(t,e={}){const n={ast:t,helpers:new Set};return{context:()=>n,helper:i=>(n.helpers.add(i),i)}}function r_(t,e){for(let n=0;n<t.length;n++)rp(t[n],e)}function rp(t,e){switch(t.type){case 1:r_(t.cases,e),e.helper("plural");break;case 2:r_(t.items,e);break;case 6:rp(t.key,e),e.helper("linked"),e.helper("type");break;case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function qF(t,e={}){const n=HF(t);n.helper("normalize"),t.body&&rp(t.body,n);const r=n.context();t.helpers=Array.from(r.helpers)}function WF(t){const e=t.body;return e.type===2?s_(e):e.cases.forEach(n=>s_(n)),t}function s_(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let n=0;n<t.items.length;n++){const r=t.items[n];if(!(r.type===3||r.type===9)||r.value==null)break;e.push(r.value)}if(e.length===t.items.length){t.static=sE(e);for(let n=0;n<t.items.length;n++){const r=t.items[n];(r.type===3||r.type===9)&&delete r.value}}}}const GF="minifier";function qs(t){switch(t.t=t.type,t.type){case 0:const e=t;qs(e.body),e.b=e.body,delete e.body;break;case 1:const n=t,r=n.cases;for(let h=0;h<r.length;h++)qs(r[h]);n.c=r,delete n.cases;break;case 2:const s=t,i=s.items;for(let h=0;h<i.length;h++)qs(i[h]);s.i=i,delete s.items,s.static&&(s.s=s.static,delete s.static);break;case 3:case 9:case 8:case 7:const o=t;o.value&&(o.v=o.value,delete o.value);break;case 6:const a=t;qs(a.key),a.k=a.key,delete a.key,a.modifier&&(qs(a.modifier),a.m=a.modifier,delete a.modifier);break;case 5:const u=t;u.i=u.index,delete u.index;break;case 4:const c=t;c.k=c.key,delete c.key;break;default:throw Pi(me.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:GF,args:[t.type]})}delete t.type}const KF="parser";function zF(t,e){const{sourceMap:n,filename:r,breakLineCode:s,needIndent:i}=e,o=e.location!==!1,a={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:s,needIndent:i,indentLevel:0};o&&t.loc&&(a.source=t.loc.source);const u=()=>a;function c(v,m){a.code+=v}function h(v,m=!0){const w=m?s:"";c(i?w+"  ".repeat(v):w)}function l(v=!0){const m=++a.indentLevel;v&&h(m)}function f(v=!0){const m=--a.indentLevel;v&&h(m)}function d(){h(a.indentLevel)}return{context:u,push:c,indent:l,deindent:f,newline:d,helper:v=>`_${v}`,needIndent:()=>a.needIndent}}function YF(t,e){const{helper:n}=t;t.push(`${n("linked")}(`),vi(t,e.key),e.modifier?(t.push(", "),vi(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function XF(t,e){const{helper:n,needIndent:r}=t;t.push(`${n("normalize")}([`),t.indent(r());const s=e.items.length;for(let i=0;i<s&&(vi(t,e.items[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}function QF(t,e){const{helper:n,needIndent:r}=t;if(e.cases.length>1){t.push(`${n("plural")}([`),t.indent(r());const s=e.cases.length;for(let i=0;i<s&&(vi(t,e.cases[i]),i!==s-1);i++)t.push(", ");t.deindent(r()),t.push("])")}}function JF(t,e){e.body?vi(t,e.body):t.push("null")}function vi(t,e){const{helper:n}=t;switch(e.type){case 0:JF(t,e);break;case 1:QF(t,e);break;case 2:XF(t,e);break;case 6:YF(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${n("interpolate")}(${n("list")}(${e.index}))`,e);break;case 4:t.push(`${n("interpolate")}(${n("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw Pi(me.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:KF,args:[e.type]})}}const ZF=(t,e={})=>{const n=t_(e.mode)?e.mode:"normal",r=t_(e.filename)?e.filename:"message.intl",s=!!e.sourceMap,i=e.breakLineCode!=null?e.breakLineCode:n==="arrow"?";":`
`,o=e.needIndent?e.needIndent:n!=="arrow",a=t.helpers||[],u=zF(t,{mode:n,filename:r,sourceMap:s,breakLineCode:i,needIndent:o});u.push(n==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(o),a.length>0&&(u.push(`const { ${sE(a.map(l=>`${l}: _${l}`),", ")} } = ctx`),u.newline()),u.push("return "),vi(u,t),u.deindent(o),u.push("}"),delete t.helpers;const{code:c,map:h}=u.context();return{ast:t,code:c,map:h?h.toJSON():void 0}};function eU(t,e={}){const n=rE({},e),r=!!n.jit,s=!!n.minify,i=n.optimize==null?!0:n.optimize,a=jF(n).parse(t);return r?(i&&WF(a),s&&qs(a),{ast:a,code:""}):(qF(a,n),ZF(a,n))}/*!
  * core-base v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */function tU(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Kn().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Kn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Kn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}const zr=[];zr[0]={w:[0],i:[3,0],["["]:[4],o:[7]};zr[1]={w:[1],["."]:[2],["["]:[4],o:[7]};zr[2]={w:[2],i:[3,0],[0]:[3,0]};zr[3]={i:[3,0],[0]:[3,0],w:[1,1],["."]:[2,1],["["]:[4,1],o:[7,1]};zr[4]={["'"]:[5,0],['"']:[6,0],["["]:[4,2],["]"]:[1,3],o:8,l:[4,0]};zr[5]={["'"]:[4,0],o:8,l:[5,0]};zr[6]={['"']:[4,0],o:8,l:[6,0]};const nU=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function rU(t){return nU.test(t)}function sU(t){const e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e===n&&(e===34||e===39)?t.slice(1,-1):t}function iU(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function oU(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:rU(e)?sU(e):"*"+e}function aU(t){const e=[];let n=-1,r=0,s=0,i,o,a,u,c,h,l;const f=[];f[0]=()=>{o===void 0?o=a:o+=a},f[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},f[2]=()=>{f[0](),s++},f[3]=()=>{if(s>0)s--,r=4,f[0]();else{if(s=0,o===void 0||(o=oU(o),o===!1))return!1;f[1]()}};function d(){const p=t[n+1];if(r===5&&p==="'"||r===6&&p==='"')return n++,a="\\"+p,f[0](),!0}for(;r!==null;)if(n++,i=t[n],!(i==="\\"&&d())){if(u=iU(i),l=zr[r],c=l[u]||l.l||8,c===8||(r=c[0],c[1]!==void 0&&(h=f[c[1]],h&&(a=i,h()===!1))))return;if(r===7)return e}}const i_=new Map;function lU(t,e){return Fe(t)?t[e]:null}function uU(t,e){if(!Fe(t))return null;let n=i_.get(e);if(n||(n=aU(e),n&&i_.set(e,n)),!n)return null;const r=n.length;let s=t,i=0;for(;i<r;){const o=s[n[i]];if(o===void 0)return null;s=o,i++}return s}const cU=t=>t,fU=t=>"",hU="text",dU=t=>t.length===0?"":IF(t),pU=TF;function o_(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function mU(t){const e=pt(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(pt(t.named.count)||pt(t.named.n))?pt(t.named.count)?t.named.count:pt(t.named.n)?t.named.n:e:e}function gU(t,e){e.count||(e.count=t),e.n||(e.n=t)}function _U(t={}){const e=t.locale,n=mU(t),r=Fe(t.pluralRules)&&X(e)&&lt(t.pluralRules[e])?t.pluralRules[e]:o_,s=Fe(t.pluralRules)&&X(e)&&lt(t.pluralRules[e])?o_:void 0,i=m=>m[r(n,m.length,s)],o=t.list||[],a=m=>o[m],u=t.named||{};pt(t.pluralIndex)&&gU(n,u);const c=m=>u[m];function h(m){const w=lt(t.messages)?t.messages(m):Fe(t.messages)?t.messages[m]:!1;return w||(t.parent?t.parent.message(m):fU)}const l=m=>t.modifiers?t.modifiers[m]:cU,f=be(t.processor)&&lt(t.processor.normalize)?t.processor.normalize:dU,d=be(t.processor)&&lt(t.processor.interpolate)?t.processor.interpolate:pU,p=be(t.processor)&&X(t.processor.type)?t.processor.type:hU,v={list:a,named:c,plural:i,linked:(m,...w)=>{const[S,E]=w;let R="text",O="";w.length===1?Fe(S)?(O=S.modifier||O,R=S.type||R):X(S)&&(O=S||O):w.length===2&&(X(S)&&(O=S||O),X(E)&&(R=E||R));const x=h(m)(v),L=R==="vnode"&&Ge(x)&&O?x[0]:x;return O?l(O)(L,R):L},message:h,type:p,interpolate:d,normalize:f,values:At({},o,u)};return v}let Vo=null;function yU(t){Vo=t}function vU(t,e,n){Vo&&Vo.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:n})}const bU=wU("function:translate");function wU(t){return e=>Vo&&Vo.emit(t,e)}const EU={NOT_FOUND_KEY:1,FALLBACK_TO_TRANSLATE:2,CANNOT_FORMAT_NUMBER:3,FALLBACK_TO_NUMBER_FORMAT:4,CANNOT_FORMAT_DATE:5,FALLBACK_TO_DATE_FORMAT:6,EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:7,__EXTEND_POINT__:8};function TU(t,e,n){return[...new Set([n,...Ge(e)?e:Fe(e)?Object.keys(e):X(e)?[e]:[n]])]}function iE(t,e,n){const r=X(n)?n:va,s=t;s.__localeChainCache||(s.__localeChainCache=new Map);let i=s.__localeChainCache.get(r);if(!i){i=[];let o=[n];for(;Ge(o);)o=a_(i,o,e);const a=Ge(e)||!be(e)?e:e.default?e.default:null;o=X(a)?[a]:a,Ge(o)&&a_(i,o,!1),s.__localeChainCache.set(r,i)}return i}function a_(t,e,n){let r=!0;for(let s=0;s<e.length&&Ce(r);s++){const i=e[s];X(i)&&(r=IU(t,e[s],n))}return r}function IU(t,e,n){let r;const s=e.split("-");do{const i=s.join("-");r=AU(t,i,n),s.splice(-1,1)}while(s.length&&r===!0);return r}function AU(t,e,n){let r=!1;if(!t.includes(e)&&(r=!0,e)){r=e[e.length-1]!=="!";const s=e.replace(/!/g,"");t.push(s),(Ge(n)||be(n))&&n[s]&&(r=n[s])}return r}const SU="9.4.1",Bu=-1,va="en-US",l_="",u_=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function CU(){return{upper:(t,e)=>e==="text"&&X(t)?t.toUpperCase():e==="vnode"&&Fe(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&X(t)?t.toLowerCase():e==="vnode"&&Fe(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&X(t)?u_(t):e==="vnode"&&Fe(t)&&"__v_isVNode"in t?u_(t.children):t}}let oE;function c_(t){oE=t}let aE;function kU(t){aE=t}let lE;function OU(t){lE=t}let uE=null;const f_=t=>{uE=t},RU=()=>uE;let cE=null;const h_=t=>{cE=t},NU=()=>cE;let d_=0;function PU(t={}){const e=lt(t.onWarn)?t.onWarn:AF,n=X(t.version)?t.version:SU,r=X(t.locale)?t.locale:va,s=Ge(t.fallbackLocale)||be(t.fallbackLocale)||X(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:r,i=be(t.messages)?t.messages:{[r]:{}},o=be(t.datetimeFormats)?t.datetimeFormats:{[r]:{}},a=be(t.numberFormats)?t.numberFormats:{[r]:{}},u=At({},t.modifiers||{},CU()),c=t.pluralRules||{},h=lt(t.missing)?t.missing:null,l=Ce(t.missingWarn)||Br(t.missingWarn)?t.missingWarn:!0,f=Ce(t.fallbackWarn)||Br(t.fallbackWarn)?t.fallbackWarn:!0,d=!!t.fallbackFormat,p=!!t.unresolving,y=lt(t.postTranslation)?t.postTranslation:null,v=be(t.processor)?t.processor:null,m=Ce(t.warnHtmlMessage)?t.warnHtmlMessage:!0,w=!!t.escapeParameter,S=lt(t.messageCompiler)?t.messageCompiler:oE,E=lt(t.messageResolver)?t.messageResolver:aE||lU,R=lt(t.localeFallbacker)?t.localeFallbacker:lE||TU,O=Fe(t.fallbackContext)?t.fallbackContext:void 0,x=t,L=Fe(x.__datetimeFormatters)?x.__datetimeFormatters:new Map,D=Fe(x.__numberFormatters)?x.__numberFormatters:new Map,Q=Fe(x.__meta)?x.__meta:{};d_++;const ae={version:n,cid:d_,locale:r,fallbackLocale:s,messages:i,modifiers:u,pluralRules:c,missing:h,missingWarn:l,fallbackWarn:f,fallbackFormat:d,unresolving:p,postTranslation:y,processor:v,warnHtmlMessage:m,escapeParameter:w,messageCompiler:S,messageResolver:E,localeFallbacker:R,fallbackContext:O,onWarn:e,__meta:Q};return ae.datetimeFormats=o,ae.numberFormats=a,ae.__datetimeFormatters=L,ae.__numberFormatters=D,__INTLIFY_PROD_DEVTOOLS__&&vU(ae,n,Q),ae}function sp(t,e,n,r,s){const{missing:i,onWarn:o}=t;if(i!==null){const a=i(t,n,e,s);return X(a)?a:e}else return e}function Bi(t,e,n){const r=t;r.__localeChainCache=new Map,t.localeFallbacker(t,n,e)}function kc(t){return n=>LU(n,t)}function LU(t,e){const n=e.b||e.body;if((n.t||n.type)===1){const r=n,s=r.c||r.cases;return t.plural(s.reduce((i,o)=>[...i,p_(t,o)],[]))}else return p_(t,n)}function p_(t,e){const n=e.s||e.static;if(n)return t.type==="text"?n:t.normalize([n]);{const r=(e.i||e.items).reduce((s,i)=>[...s,Mf(t,i)],[]);return t.normalize(r)}}function Mf(t,e){const n=e.t||e.type;switch(n){case 3:const r=e;return r.v||r.value;case 9:const s=e;return s.v||s.value;case 4:const i=e;return t.interpolate(t.named(i.k||i.key));case 5:const o=e;return t.interpolate(t.list(o.i||o.index));case 6:const a=e,u=a.m||a.modifier;return t.linked(Mf(t,a.k||a.key),u?Mf(t,u):void 0,t.type);case 7:const c=e;return c.v||c.value;case 8:const h=e;return h.v||h.value;default:throw new Error(`unhandled node type on format message part: ${n}`)}}const fE=me.__EXTEND_POINT__,$a=np(fE),kr={INVALID_ARGUMENT:fE,INVALID_DATE_ARGUMENT:$a(),INVALID_ISO_DATE_ARGUMENT:$a(),NOT_SUPPORT_NON_STRING_MESSAGE:$a(),__EXTEND_POINT__:$a()};function cs(t){return Pi(t,null,void 0)}const hE=t=>t;let zs=Object.create(null);const Bo=t=>Fe(t)&&(t.t===0||t.type===0)&&("b"in t||"body"in t);function dE(t,e={}){let n=!1;const r=e.onError||NF;return e.onError=s=>{n=!0,r(s)},{...eU(t,e),detectError:n}}const DU=(t,e)=>{if(!X(t))throw cs(kr.NOT_SUPPORT_NON_STRING_MESSAGE);{Ce(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||hE)(t),s=zs[r];if(s)return s;const{code:i,detectError:o}=dE(t,e),a=new Function(`return ${i}`)();return o?a:zs[r]=a}};function xU(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&X(t)){Ce(e.warnHtmlMessage)&&e.warnHtmlMessage;const r=(e.onCacheKey||hE)(t),s=zs[r];if(s)return s;const{ast:i,detectError:o}=dE(t,{...e,location:!1,jit:!0}),a=kc(i);return o?a:zs[r]=a}else{const n=t.cacheKey;if(n){const r=zs[n];return r||(zs[n]=kc(t))}else return kc(t)}}const m_=()=>"",hn=t=>lt(t);function g_(t,...e){const{fallbackFormat:n,postTranslation:r,unresolving:s,messageCompiler:i,fallbackLocale:o,messages:a}=t,[u,c]=Ff(...e),h=Ce(c.missingWarn)?c.missingWarn:t.missingWarn,l=Ce(c.fallbackWarn)?c.fallbackWarn:t.fallbackWarn,f=Ce(c.escapeParameter)?c.escapeParameter:t.escapeParameter,d=!!c.resolvedMessage,p=X(c.default)||Ce(c.default)?Ce(c.default)?i?u:()=>u:c.default:n?i?u:()=>u:"",y=n||p!=="",v=X(c.locale)?c.locale:t.locale;f&&MU(c);let[m,w,S]=d?[u,v,a[v]||{}]:pE(t,u,v,o,l,h),E=m,R=u;if(!d&&!(X(E)||Bo(E)||hn(E))&&y&&(E=p,R=E),!d&&(!(X(E)||Bo(E)||hn(E))||!X(w)))return s?Bu:u;let O=!1;const x=()=>{O=!0},L=hn(E)?E:mE(t,u,w,E,R,x);if(O)return E;const D=$U(t,w,S,c),Q=_U(D),ae=FU(t,L,Q),W=r?r(ae,u):ae;if(__INTLIFY_PROD_DEVTOOLS__){const re={timestamp:Date.now(),key:X(u)?u:hn(E)?E.key:"",locale:w||(hn(E)?E.locale:""),format:X(E)?E:hn(E)?E.source:"",message:W};re.meta=At({},t.__meta,RU()||{}),bU(re)}return W}function MU(t){Ge(t.list)?t.list=t.list.map(e=>X(e)?e_(e):e):Fe(t.named)&&Object.keys(t.named).forEach(e=>{X(t.named[e])&&(t.named[e]=e_(t.named[e]))})}function pE(t,e,n,r,s,i){const{messages:o,onWarn:a,messageResolver:u,localeFallbacker:c}=t,h=c(t,r,n);let l={},f,d=null;const p="translate";for(let y=0;y<h.length&&(f=h[y],l=o[f]||{},(d=u(l,e))===null&&(d=l[e]),!(X(d)||Bo(d)||hn(d)));y++){const v=sp(t,e,f,i,p);v!==e&&(d=v)}return[d,f,l]}function mE(t,e,n,r,s,i){const{messageCompiler:o,warnHtmlMessage:a}=t;if(hn(r)){const c=r;return c.locale=c.locale||n,c.key=c.key||e,c}if(o==null){const c=()=>r;return c.locale=n,c.key=e,c}const u=o(r,UU(t,n,s,r,a,i));return u.locale=n,u.key=e,u.source=r,u}function FU(t,e,n){return e(n)}function Ff(...t){const[e,n,r]=t,s={};if(!X(e)&&!pt(e)&&!hn(e)&&!Bo(e))throw cs(kr.INVALID_ARGUMENT);const i=pt(e)?String(e):(hn(e),e);return pt(n)?s.plural=n:X(n)?s.default=n:be(n)&&!Vu(n)?s.named=n:Ge(n)&&(s.list=n),pt(r)?s.plural=r:X(r)?s.default=r:be(r)&&At(s,r),[i,s]}function UU(t,e,n,r,s,i){return{locale:e,key:n,warnHtmlMessage:s,onError:o=>{throw i&&i(o),o},onCacheKey:o=>vF(e,n,o)}}function $U(t,e,n,r){const{modifiers:s,pluralRules:i,messageResolver:o,fallbackLocale:a,fallbackWarn:u,missingWarn:c,fallbackContext:h}=t,f={locale:e,modifiers:s,pluralRules:i,messages:d=>{let p=o(n,d);if(p==null&&h){const[,,y]=pE(h,d,e,a,u,c);p=o(y,d)}if(X(p)||Bo(p)){let y=!1;const m=mE(t,d,e,p,d,()=>{y=!0});return y?m_:m}else return hn(p)?p:m_}};return t.processor&&(f.processor=t.processor),r.list&&(f.list=r.list),r.named&&(f.named=r.named),pt(r.plural)&&(f.pluralIndex=r.plural),f}function __(t,...e){const{datetimeFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[u,c,h,l]=Uf(...e),f=Ce(h.missingWarn)?h.missingWarn:t.missingWarn;Ce(h.fallbackWarn)?h.fallbackWarn:t.fallbackWarn;const d=!!h.part,p=X(h.locale)?h.locale:t.locale,y=o(t,s,p);if(!X(u)||u==="")return new Intl.DateTimeFormat(p,l).format(c);let v={},m,w=null;const S="datetime format";for(let O=0;O<y.length&&(m=y[O],v=n[m]||{},w=v[u],!be(w));O++)sp(t,u,m,f,S);if(!be(w)||!X(m))return r?Bu:u;let E=`${m}__${u}`;Vu(l)||(E=`${E}__${JSON.stringify(l)}`);let R=a.get(E);return R||(R=new Intl.DateTimeFormat(m,At({},w,l)),a.set(E,R)),d?R.formatToParts(c):R.format(c)}const gE=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function Uf(...t){const[e,n,r,s]=t,i={};let o={},a;if(X(e)){const u=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!u)throw cs(kr.INVALID_ISO_DATE_ARGUMENT);const c=u[3]?u[3].trim().startsWith("T")?`${u[1].trim()}${u[3].trim()}`:`${u[1].trim()}T${u[3].trim()}`:u[1].trim();a=new Date(c);try{a.toISOString()}catch{throw cs(kr.INVALID_ISO_DATE_ARGUMENT)}}else if(wF(e)){if(isNaN(e.getTime()))throw cs(kr.INVALID_DATE_ARGUMENT);a=e}else if(pt(e))a=e;else throw cs(kr.INVALID_ARGUMENT);return X(n)?i.key=n:be(n)&&Object.keys(n).forEach(u=>{gE.includes(u)?o[u]=n[u]:i[u]=n[u]}),X(r)?i.locale=r:be(r)&&(o=r),be(s)&&(o=s),[i.key||"",a,i,o]}function y_(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__datetimeFormatters.has(i)&&r.__datetimeFormatters.delete(i)}}function v_(t,...e){const{numberFormats:n,unresolving:r,fallbackLocale:s,onWarn:i,localeFallbacker:o}=t,{__numberFormatters:a}=t,[u,c,h,l]=$f(...e),f=Ce(h.missingWarn)?h.missingWarn:t.missingWarn;Ce(h.fallbackWarn)?h.fallbackWarn:t.fallbackWarn;const d=!!h.part,p=X(h.locale)?h.locale:t.locale,y=o(t,s,p);if(!X(u)||u==="")return new Intl.NumberFormat(p,l).format(c);let v={},m,w=null;const S="number format";for(let O=0;O<y.length&&(m=y[O],v=n[m]||{},w=v[u],!be(w));O++)sp(t,u,m,f,S);if(!be(w)||!X(m))return r?Bu:u;let E=`${m}__${u}`;Vu(l)||(E=`${E}__${JSON.stringify(l)}`);let R=a.get(E);return R||(R=new Intl.NumberFormat(m,At({},w,l)),a.set(E,R)),d?R.formatToParts(c):R.format(c)}const _E=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function $f(...t){const[e,n,r,s]=t,i={};let o={};if(!pt(e))throw cs(kr.INVALID_ARGUMENT);const a=e;return X(n)?i.key=n:be(n)&&Object.keys(n).forEach(u=>{_E.includes(u)?o[u]=n[u]:i[u]=n[u]}),X(r)?i.locale=r:be(r)&&(o=r),be(s)&&(o=s),[i.key||"",a,i,o]}function b_(t,e,n){const r=t;for(const s in n){const i=`${e}__${s}`;r.__numberFormatters.has(i)&&r.__numberFormatters.delete(i)}}tU();/*!
  * vue-i18n v9.4.1
  * (c) 2023 kazuya kawaguchi
  * Released under the MIT License.
  */const VU="9.4.1";function BU(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Kn().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Kn().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Kn().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Kn().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Kn().__INTLIFY_PROD_DEVTOOLS__=!1)}const yE=EU.__EXTEND_POINT__,gr=np(yE);gr(),gr(),gr(),gr(),gr(),gr(),gr(),gr();const vE=kr.__EXTEND_POINT__,Wt=np(vE),ft={UNEXPECTED_RETURN_TYPE:vE,INVALID_ARGUMENT:Wt(),MUST_BE_CALL_SETUP_TOP:Wt(),NOT_INSTALLED:Wt(),NOT_AVAILABLE_IN_LEGACY_MODE:Wt(),REQUIRED_VALUE:Wt(),INVALID_VALUE:Wt(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Wt(),NOT_INSTALLED_WITH_PROVIDE:Wt(),UNEXPECTED_ERROR:Wt(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Wt(),BRIDGE_SUPPORT_VUE_2_ONLY:Wt(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Wt(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Wt(),__EXTEND_POINT__:Wt()};function gt(t,...e){return Pi(t,null,void 0)}const Vf=Kr("__translateVNode"),Bf=Kr("__datetimeParts"),jf=Kr("__numberParts"),bE=Kr("__setPluralRules"),wE=Kr("__injectWithOption"),Hf=Kr("__dispose");function qf(t){if(!Fe(t))return t;for(const e in t)if(tp(t,e))if(!e.includes("."))Fe(t[e])&&qf(t[e]);else{const n=e.split("."),r=n.length-1;let s=t,i=!1;for(let o=0;o<r;o++){if(n[o]in s||(s[n[o]]={}),!Fe(s[n[o]])){i=!0;break}s=s[n[o]]}i||(s[n[r]]=t[e],delete t[e]),Fe(s[n[r]])&&qf(s[n[r]])}return t}function ju(t,e){const{messages:n,__i18n:r,messageResolver:s,flatJson:i}=e,o=be(n)?n:Ge(r)?{}:{[t]:{}};if(Ge(r)&&r.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:u,resource:c}=a;u?(o[u]=o[u]||{},fo(c,o[u])):fo(c,o)}else X(a)&&fo(JSON.parse(a),o)}),s==null&&i)for(const a in o)tp(o,a)&&qf(o[a]);return o}const Va=t=>!Fe(t)||Ge(t);function fo(t,e){if(Va(t)||Va(e))throw gt(ft.INVALID_VALUE);for(const n in t)tp(t,n)&&(Va(t[n])||Va(e[n])?e[n]=t[n]:fo(t[n],e[n]))}function EE(t){return t.type}function TE(t,e,n){let r=Fe(e.messages)?e.messages:{};"__i18nGlobal"in n&&(r=ju(t.locale.value,{messages:r,__i18n:n.__i18nGlobal}));const s=Object.keys(r);s.length&&s.forEach(i=>{t.mergeLocaleMessage(i,r[i])});{if(Fe(e.datetimeFormats)){const i=Object.keys(e.datetimeFormats);i.length&&i.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(Fe(e.numberFormats)){const i=Object.keys(e.numberFormats);i.length&&i.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function w_(t){return Ee(qo,null,t,0)}const E_="__INTLIFY_META__";let T_=0;function I_(t){return(e,n,r,s)=>t(n,r,tr()||void 0,s)}const jU=()=>{const t=tr();let e=null;return t&&(e=EE(t)[E_])?{[E_]:e}:null};function ip(t={},e){const{__root:n,__injectWithOption:r}=t,s=n===void 0;let i=Ce(t.inheritLocale)?t.inheritLocale:!0;const o=Qe(n&&i?n.locale.value:X(t.locale)?t.locale:va),a=Qe(n&&i?n.fallbackLocale.value:X(t.fallbackLocale)||Ge(t.fallbackLocale)||be(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:o.value),u=Qe(ju(o.value,t)),c=Qe(be(t.datetimeFormats)?t.datetimeFormats:{[o.value]:{}}),h=Qe(be(t.numberFormats)?t.numberFormats:{[o.value]:{}});let l=n?n.missingWarn:Ce(t.missingWarn)||Br(t.missingWarn)?t.missingWarn:!0,f=n?n.fallbackWarn:Ce(t.fallbackWarn)||Br(t.fallbackWarn)?t.fallbackWarn:!0,d=n?n.fallbackRoot:Ce(t.fallbackRoot)?t.fallbackRoot:!0,p=!!t.fallbackFormat,y=lt(t.missing)?t.missing:null,v=lt(t.missing)?I_(t.missing):null,m=lt(t.postTranslation)?t.postTranslation:null,w=n?n.warnHtmlMessage:Ce(t.warnHtmlMessage)?t.warnHtmlMessage:!0,S=!!t.escapeParameter;const E=n?n.modifiers:be(t.modifiers)?t.modifiers:{};let R=t.pluralRules||n&&n.pluralRules,O;O=(()=>{s&&h_(null);const b={version:VU,locale:o.value,fallbackLocale:a.value,messages:u.value,modifiers:E,pluralRules:R,missing:v===null?void 0:v,missingWarn:l,fallbackWarn:f,fallbackFormat:p,unresolving:!0,postTranslation:m===null?void 0:m,warnHtmlMessage:w,escapeParameter:S,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};b.datetimeFormats=c.value,b.numberFormats=h.value,b.__datetimeFormatters=be(O)?O.__datetimeFormatters:void 0,b.__numberFormatters=be(O)?O.__numberFormatters:void 0;const A=PU(b);return s&&h_(A),A})(),Bi(O,o.value,a.value);function L(){return[o.value,a.value,u.value,c.value,h.value]}const D=de({get:()=>o.value,set:b=>{o.value=b,O.locale=o.value}}),Q=de({get:()=>a.value,set:b=>{a.value=b,O.fallbackLocale=a.value,Bi(O,o.value,b)}}),ae=de(()=>u.value),W=de(()=>c.value),re=de(()=>h.value);function ce(){return lt(m)?m:null}function Se(b){m=b,O.postTranslation=b}function te(){return y}function fe(b){b!==null&&(v=I_(b)),y=b,O.missing=v}const le=(b,A,U,G,ee,ne)=>{L();let he;try{__INTLIFY_PROD_DEVTOOLS__&&f_(jU()),s||(O.fallbackContext=n?NU():void 0),he=b(O)}finally{__INTLIFY_PROD_DEVTOOLS__&&f_(null),s||(O.fallbackContext=void 0)}if(pt(he)&&he===Bu){const[Ae,xe]=A();return n&&d?G(n):ee(Ae)}else{if(ne(he))return he;throw gt(ft.UNEXPECTED_RETURN_TYPE)}};function Be(...b){return le(A=>Reflect.apply(g_,null,[A,...b]),()=>Ff(...b),"translate",A=>Reflect.apply(A.t,A,[...b]),A=>A,A=>X(A))}function st(...b){const[A,U,G]=b;if(G&&!Fe(G))throw gt(ft.INVALID_ARGUMENT);return Be(A,U,At({resolvedMessage:!0},G||{}))}function nt(...b){return le(A=>Reflect.apply(__,null,[A,...b]),()=>Uf(...b),"datetime format",A=>Reflect.apply(A.d,A,[...b]),()=>l_,A=>X(A))}function Ye(...b){return le(A=>Reflect.apply(v_,null,[A,...b]),()=>$f(...b),"number format",A=>Reflect.apply(A.n,A,[...b]),()=>l_,A=>X(A))}function je(b){return b.map(A=>X(A)||pt(A)||Ce(A)?w_(String(A)):A)}const J={normalize:je,interpolate:b=>b,type:"vnode"};function oe(...b){return le(A=>{let U;const G=A;try{G.processor=J,U=Reflect.apply(g_,null,[G,...b])}finally{G.processor=null}return U},()=>Ff(...b),"translate",A=>A[Vf](...b),A=>[w_(A)],A=>Ge(A))}function P(...b){return le(A=>Reflect.apply(v_,null,[A,...b]),()=>$f(...b),"number format",A=>A[jf](...b),()=>[],A=>X(A)||Ge(A))}function $(...b){return le(A=>Reflect.apply(__,null,[A,...b]),()=>Uf(...b),"datetime format",A=>A[Bf](...b),()=>[],A=>X(A)||Ge(A))}function j(b){R=b,O.pluralRules=R}function z(b,A){const U=X(A)?A:o.value,G=g(U);return O.messageResolver(G,b)!==null}function pe(b){let A=null;const U=iE(O,a.value,o.value);for(let G=0;G<U.length;G++){const ee=u.value[U[G]]||{},ne=O.messageResolver(ee,b);if(ne!=null){A=ne;break}}return A}function I(b){const A=pe(b);return A??(n?n.tm(b)||{}:{})}function g(b){return u.value[b]||{}}function _(b,A){u.value[b]=A,O.messages=u.value}function T(b,A){u.value[b]=u.value[b]||{},fo(A,u.value[b]),O.messages=u.value}function k(b){return c.value[b]||{}}function N(b,A){c.value[b]=A,O.datetimeFormats=c.value,y_(O,b,A)}function F(b,A){c.value[b]=At(c.value[b]||{},A),O.datetimeFormats=c.value,y_(O,b,A)}function B(b){return h.value[b]||{}}function q(b,A){h.value[b]=A,O.numberFormats=h.value,b_(O,b,A)}function V(b,A){h.value[b]=At(h.value[b]||{},A),O.numberFormats=h.value,b_(O,b,A)}T_++,n&&Df&&(Pt(n.locale,b=>{i&&(o.value=b,O.locale=b,Bi(O,o.value,a.value))}),Pt(n.fallbackLocale,b=>{i&&(a.value=b,O.fallbackLocale=b,Bi(O,o.value,a.value))}));const C={id:T_,locale:D,fallbackLocale:Q,get inheritLocale(){return i},set inheritLocale(b){i=b,b&&n&&(o.value=n.locale.value,a.value=n.fallbackLocale.value,Bi(O,o.value,a.value))},get availableLocales(){return Object.keys(u.value).sort()},messages:ae,get modifiers(){return E},get pluralRules(){return R||{}},get isGlobal(){return s},get missingWarn(){return l},set missingWarn(b){l=b,O.missingWarn=l},get fallbackWarn(){return f},set fallbackWarn(b){f=b,O.fallbackWarn=f},get fallbackRoot(){return d},set fallbackRoot(b){d=b},get fallbackFormat(){return p},set fallbackFormat(b){p=b,O.fallbackFormat=p},get warnHtmlMessage(){return w},set warnHtmlMessage(b){w=b,O.warnHtmlMessage=b},get escapeParameter(){return S},set escapeParameter(b){S=b,O.escapeParameter=b},t:Be,getLocaleMessage:g,setLocaleMessage:_,mergeLocaleMessage:T,getPostTranslationHandler:ce,setPostTranslationHandler:Se,getMissingHandler:te,setMissingHandler:fe,[bE]:j};return C.datetimeFormats=W,C.numberFormats=re,C.rt=st,C.te=z,C.tm=I,C.d=nt,C.n=Ye,C.getDateTimeFormat=k,C.setDateTimeFormat=N,C.mergeDateTimeFormat=F,C.getNumberFormat=B,C.setNumberFormat=q,C.mergeNumberFormat=V,C[wE]=r,C[Vf]=oe,C[Bf]=$,C[jf]=P,C}function HU(t){const e=X(t.locale)?t.locale:va,n=X(t.fallbackLocale)||Ge(t.fallbackLocale)||be(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,r=lt(t.missing)?t.missing:void 0,s=Ce(t.silentTranslationWarn)||Br(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,i=Ce(t.silentFallbackWarn)||Br(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=Ce(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,u=be(t.modifiers)?t.modifiers:{},c=t.pluralizationRules,h=lt(t.postTranslation)?t.postTranslation:void 0,l=X(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,f=!!t.escapeParameterHtml,d=Ce(t.sync)?t.sync:!0;let p=t.messages;if(be(t.sharedMessages)){const R=t.sharedMessages;p=Object.keys(R).reduce((x,L)=>{const D=x[L]||(x[L]={});return At(D,R[L]),x},p||{})}const{__i18n:y,__root:v,__injectWithOption:m}=t,w=t.datetimeFormats,S=t.numberFormats,E=t.flatJson;return{locale:e,fallbackLocale:n,messages:p,flatJson:E,datetimeFormats:w,numberFormats:S,missing:r,missingWarn:s,fallbackWarn:i,fallbackRoot:o,fallbackFormat:a,modifiers:u,pluralRules:c,postTranslation:h,warnHtmlMessage:l,escapeParameter:f,messageResolver:t.messageResolver,inheritLocale:d,__i18n:y,__root:v,__injectWithOption:m}}function Wf(t={},e){{const n=ip(HU(t)),{__extender:r}=t,s={id:n.id,get locale(){return n.locale.value},set locale(i){n.locale.value=i},get fallbackLocale(){return n.fallbackLocale.value},set fallbackLocale(i){n.fallbackLocale.value=i},get messages(){return n.messages.value},get datetimeFormats(){return n.datetimeFormats.value},get numberFormats(){return n.numberFormats.value},get availableLocales(){return n.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(i){},get missing(){return n.getMissingHandler()},set missing(i){n.setMissingHandler(i)},get silentTranslationWarn(){return Ce(n.missingWarn)?!n.missingWarn:n.missingWarn},set silentTranslationWarn(i){n.missingWarn=Ce(i)?!i:i},get silentFallbackWarn(){return Ce(n.fallbackWarn)?!n.fallbackWarn:n.fallbackWarn},set silentFallbackWarn(i){n.fallbackWarn=Ce(i)?!i:i},get modifiers(){return n.modifiers},get formatFallbackMessages(){return n.fallbackFormat},set formatFallbackMessages(i){n.fallbackFormat=i},get postTranslation(){return n.getPostTranslationHandler()},set postTranslation(i){n.setPostTranslationHandler(i)},get sync(){return n.inheritLocale},set sync(i){n.inheritLocale=i},get warnHtmlInMessage(){return n.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(i){n.warnHtmlMessage=i!=="off"},get escapeParameterHtml(){return n.escapeParameter},set escapeParameterHtml(i){n.escapeParameter=i},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(i){},get pluralizationRules(){return n.pluralRules||{}},__composer:n,t(...i){const[o,a,u]=i,c={};let h=null,l=null;if(!X(o))throw gt(ft.INVALID_ARGUMENT);const f=o;return X(a)?c.locale=a:Ge(a)?h=a:be(a)&&(l=a),Ge(u)?h=u:be(u)&&(l=u),Reflect.apply(n.t,n,[f,h||l||{},c])},rt(...i){return Reflect.apply(n.rt,n,[...i])},tc(...i){const[o,a,u]=i,c={plural:1};let h=null,l=null;if(!X(o))throw gt(ft.INVALID_ARGUMENT);const f=o;return X(a)?c.locale=a:pt(a)?c.plural=a:Ge(a)?h=a:be(a)&&(l=a),X(u)?c.locale=u:Ge(u)?h=u:be(u)&&(l=u),Reflect.apply(n.t,n,[f,h||l||{},c])},te(i,o){return n.te(i,o)},tm(i){return n.tm(i)},getLocaleMessage(i){return n.getLocaleMessage(i)},setLocaleMessage(i,o){n.setLocaleMessage(i,o)},mergeLocaleMessage(i,o){n.mergeLocaleMessage(i,o)},d(...i){return Reflect.apply(n.d,n,[...i])},getDateTimeFormat(i){return n.getDateTimeFormat(i)},setDateTimeFormat(i,o){n.setDateTimeFormat(i,o)},mergeDateTimeFormat(i,o){n.mergeDateTimeFormat(i,o)},n(...i){return Reflect.apply(n.n,n,[...i])},getNumberFormat(i){return n.getNumberFormat(i)},setNumberFormat(i,o){n.setNumberFormat(i,o)},mergeNumberFormat(i,o){n.mergeNumberFormat(i,o)},getChoiceIndex(i,o){return-1}};return s.__extender=r,s}}const op={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function qU({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((r,s)=>[...r,...s.type===yt?s.children:[s]],[]):e.reduce((n,r)=>{const s=t[r];return s&&(n[r]=s()),n},{})}function IE(t){return yt}const WU=jr({name:"i18n-t",props:At({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>pt(t)||!isNaN(t)}},op),setup(t,e){const{slots:n,attrs:r}=e,s=t.i18n||ap({useScope:t.scope,__useComponent:!0});return()=>{const i=Object.keys(n).filter(l=>l!=="_"),o={};t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=X(t.plural)?+t.plural:t.plural);const a=qU(e,i),u=s[Vf](t.keypath,a,o),c=At({},r),h=X(t.tag)||Fe(t.tag)?t.tag:IE();return nr(h,c,u)}}}),A_=WU;function GU(t){return Ge(t)&&!X(t[0])}function AE(t,e,n,r){const{slots:s,attrs:i}=e;return()=>{const o={part:!0};let a={};t.locale&&(o.locale=t.locale),X(t.format)?o.key=t.format:Fe(t.format)&&(X(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((f,d)=>n.includes(d)?At({},f,{[d]:t.format[d]}):f,{}));const u=r(t.value,o,a);let c=[o.key];Ge(u)?c=u.map((f,d)=>{const p=s[f.type],y=p?p({[f.type]:f.value,index:d,parts:u}):[f.value];return GU(y)&&(y[0].key=`${f.type}-${d}`),y}):X(u)&&(c=[u]);const h=At({},i),l=X(t.tag)||Fe(t.tag)?t.tag:IE();return nr(l,h,c)}}const KU=jr({name:"i18n-n",props:At({value:{type:Number,required:!0},format:{type:[String,Object]}},op),setup(t,e){const n=t.i18n||ap({useScope:"parent",__useComponent:!0});return AE(t,e,_E,(...r)=>n[jf](...r))}}),S_=KU,zU=jr({name:"i18n-d",props:At({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},op),setup(t,e){const n=t.i18n||ap({useScope:"parent",__useComponent:!0});return AE(t,e,gE,(...r)=>n[Bf](...r))}}),C_=zU;function YU(t,e){const n=t;if(t.mode==="composition")return n.__getInstance(e)||t.global;{const r=n.__getInstance(e);return r!=null?r.__composer:t.global.__composer}}function XU(t){const e=o=>{const{instance:a,modifiers:u,value:c}=o;if(!a||!a.$)throw gt(ft.UNEXPECTED_ERROR);const h=YU(t,a.$),l=k_(c);return[Reflect.apply(h.t,h,[...O_(l)]),h]};return{created:(o,a)=>{const[u,c]=e(a);Df&&t.global===c&&(o.__i18nWatcher=Pt(c.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=c,o.textContent=u},unmounted:o=>{Df&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const u=o.__composer,c=k_(a);o.textContent=Reflect.apply(u.t,u,[...O_(c)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function k_(t){if(X(t))return{path:t};if(be(t)){if(!("path"in t))throw gt(ft.REQUIRED_VALUE,"path");return t}else throw gt(ft.INVALID_VALUE)}function O_(t){const{path:e,locale:n,args:r,choice:s,plural:i}=t,o={},a=r||{};return X(n)&&(o.locale=n),pt(s)&&(o.plural=s),pt(i)&&(o.plural=i),[e,a,o]}function QU(t,e,...n){const r=be(n[0])?n[0]:{},s=!!r.useI18nComponentName;(Ce(r.globalInstall)?r.globalInstall:!0)&&([s?"i18n":A_.name,"I18nT"].forEach(o=>t.component(o,A_)),[S_.name,"I18nN"].forEach(o=>t.component(o,S_)),[C_.name,"I18nD"].forEach(o=>t.component(o,C_))),t.directive("t",XU(e))}function JU(t,e,n){return{beforeCreate(){const r=tr();if(!r)throw gt(ft.UNEXPECTED_ERROR);const s=this.$options;if(s.i18n){const i=s.i18n;if(s.__i18n&&(i.__i18n=s.__i18n),i.__root=e,this===this.$root)this.$i18n=R_(t,i);else{i.__injectWithOption=!0,i.__extender=n.__vueI18nExtend,this.$i18n=Wf(i);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(s.__i18n)if(this===this.$root)this.$i18n=R_(t,s);else{this.$i18n=Wf({__i18n:s.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:e});const i=this.$i18n;i.__extender&&(i.__disposer=i.__extender(this.$i18n))}else this.$i18n=t;s.__i18nGlobal&&TE(e,s,s),this.$t=(...i)=>this.$i18n.t(...i),this.$rt=(...i)=>this.$i18n.rt(...i),this.$tc=(...i)=>this.$i18n.tc(...i),this.$te=(i,o)=>this.$i18n.te(i,o),this.$d=(...i)=>this.$i18n.d(...i),this.$n=(...i)=>this.$i18n.n(...i),this.$tm=i=>this.$i18n.tm(i),n.__setInstance(r,this.$i18n)},mounted(){},unmounted(){const r=tr();if(!r)throw gt(ft.UNEXPECTED_ERROR);const s=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,s.__disposer&&(s.__disposer(),delete s.__disposer,delete s.__extender),n.__deleteInstance(r),delete this.$i18n}}}function R_(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[bE](e.pluralizationRules||t.pluralizationRules);const n=ju(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(n).forEach(r=>t.mergeLocaleMessage(r,n[r])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(r=>t.mergeDateTimeFormat(r,e.datetimeFormats[r])),e.numberFormats&&Object.keys(e.numberFormats).forEach(r=>t.mergeNumberFormat(r,e.numberFormats[r])),t}const ZU=Kr("global-vue-i18n");function e2(t={},e){const n=__VUE_I18N_LEGACY_API__&&Ce(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,r=Ce(t.globalInjection)?t.globalInjection:!0,s=__VUE_I18N_LEGACY_API__&&n?!!t.allowComposition:!0,i=new Map,[o,a]=t2(t,n),u=Kr("");function c(f){return i.get(f)||null}function h(f,d){i.set(f,d)}function l(f){i.delete(f)}{const f={get mode(){return __VUE_I18N_LEGACY_API__&&n?"legacy":"composition"},get allowComposition(){return s},async install(d,...p){if(d.__VUE_I18N_SYMBOL__=u,d.provide(d.__VUE_I18N_SYMBOL__,f),be(p[0])){const m=p[0];f.__composerExtend=m.__composerExtend,f.__vueI18nExtend=m.__vueI18nExtend}let y=null;!n&&r&&(y=c2(d,f.global)),__VUE_I18N_FULL_INSTALL__&&QU(d,f,...p),__VUE_I18N_LEGACY_API__&&n&&d.mixin(JU(a,a.__composer,f));const v=d.unmount;d.unmount=()=>{y&&y(),f.dispose(),v()}},get global(){return a},dispose(){o.stop()},__instances:i,__getInstance:c,__setInstance:h,__deleteInstance:l};return f}}function ap(t={}){const e=tr();if(e==null)throw gt(ft.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw gt(ft.NOT_INSTALLED);const n=n2(e),r=s2(n),s=EE(e),i=r2(t,s);if(__VUE_I18N_LEGACY_API__&&n.mode==="legacy"&&!t.__useComponent){if(!n.allowComposition)throw gt(ft.NOT_AVAILABLE_IN_LEGACY_MODE);return l2(e,i,r,t)}if(i==="global")return TE(r,t,s),r;if(i==="parent"){let u=i2(n,e,t.__useComponent);return u==null&&(u=r),u}const o=n;let a=o.__getInstance(e);if(a==null){const u=At({},t);"__i18n"in s&&(u.__i18n=s.__i18n),r&&(u.__root=r),a=ip(u),o.__composerExtend&&(a[Hf]=o.__composerExtend(a)),a2(o,e,a),o.__setInstance(e,a)}return a}function t2(t,e,n){const r=Jf();{const s=__VUE_I18N_LEGACY_API__&&e?r.run(()=>Wf(t)):r.run(()=>ip(t));if(s==null)throw gt(ft.UNEXPECTED_ERROR);return[r,s]}}function n2(t){{const e=sn(t.isCE?ZU:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw gt(t.isCE?ft.NOT_INSTALLED_WITH_PROVIDE:ft.UNEXPECTED_ERROR);return e}}function r2(t,e){return Vu(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function s2(t){return t.mode==="composition"?t.global:t.global.__composer}function i2(t,e,n=!1){let r=null;const s=e.root;let i=o2(e,n);for(;i!=null;){const o=t;if(t.mode==="composition")r=o.__getInstance(i);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(i);a!=null&&(r=a.__composer,n&&r&&!r[wE]&&(r=null))}if(r!=null||s===i)break;i=i.parent}return r}function o2(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function a2(t,e,n){Ho(()=>{},e),fh(()=>{const r=n;t.__deleteInstance(e);const s=r[Hf];s&&(s(),delete r[Hf])},e)}function l2(t,e,n,r={}){const s=e==="local",i=oh(null);if(s&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw gt(ft.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=Ce(r.inheritLocale)?r.inheritLocale:!X(r.locale),a=Qe(!s||o?n.locale.value:X(r.locale)?r.locale:va),u=Qe(!s||o?n.fallbackLocale.value:X(r.fallbackLocale)||Ge(r.fallbackLocale)||be(r.fallbackLocale)||r.fallbackLocale===!1?r.fallbackLocale:a.value),c=Qe(ju(a.value,r)),h=Qe(be(r.datetimeFormats)?r.datetimeFormats:{[a.value]:{}}),l=Qe(be(r.numberFormats)?r.numberFormats:{[a.value]:{}}),f=s?n.missingWarn:Ce(r.missingWarn)||Br(r.missingWarn)?r.missingWarn:!0,d=s?n.fallbackWarn:Ce(r.fallbackWarn)||Br(r.fallbackWarn)?r.fallbackWarn:!0,p=s?n.fallbackRoot:Ce(r.fallbackRoot)?r.fallbackRoot:!0,y=!!r.fallbackFormat,v=lt(r.missing)?r.missing:null,m=lt(r.postTranslation)?r.postTranslation:null,w=s?n.warnHtmlMessage:Ce(r.warnHtmlMessage)?r.warnHtmlMessage:!0,S=!!r.escapeParameter,E=s?n.modifiers:be(r.modifiers)?r.modifiers:{},R=r.pluralRules||s&&n.pluralRules;function O(){return[a.value,u.value,c.value,h.value,l.value]}const x=de({get:()=>i.value?i.value.locale.value:a.value,set:_=>{i.value&&(i.value.locale.value=_),a.value=_}}),L=de({get:()=>i.value?i.value.fallbackLocale.value:u.value,set:_=>{i.value&&(i.value.fallbackLocale.value=_),u.value=_}}),D=de(()=>i.value?i.value.messages.value:c.value),Q=de(()=>h.value),ae=de(()=>l.value);function W(){return i.value?i.value.getPostTranslationHandler():m}function re(_){i.value&&i.value.setPostTranslationHandler(_)}function ce(){return i.value?i.value.getMissingHandler():v}function Se(_){i.value&&i.value.setMissingHandler(_)}function te(_){return O(),_()}function fe(..._){return i.value?te(()=>Reflect.apply(i.value.t,null,[..._])):te(()=>"")}function le(..._){return i.value?Reflect.apply(i.value.rt,null,[..._]):""}function Be(..._){return i.value?te(()=>Reflect.apply(i.value.d,null,[..._])):te(()=>"")}function st(..._){return i.value?te(()=>Reflect.apply(i.value.n,null,[..._])):te(()=>"")}function nt(_){return i.value?i.value.tm(_):{}}function Ye(_,T){return i.value?i.value.te(_,T):!1}function je(_){return i.value?i.value.getLocaleMessage(_):{}}function Xe(_,T){i.value&&(i.value.setLocaleMessage(_,T),c.value[_]=T)}function J(_,T){i.value&&i.value.mergeLocaleMessage(_,T)}function oe(_){return i.value?i.value.getDateTimeFormat(_):{}}function P(_,T){i.value&&(i.value.setDateTimeFormat(_,T),h.value[_]=T)}function $(_,T){i.value&&i.value.mergeDateTimeFormat(_,T)}function j(_){return i.value?i.value.getNumberFormat(_):{}}function z(_,T){i.value&&(i.value.setNumberFormat(_,T),l.value[_]=T)}function pe(_,T){i.value&&i.value.mergeNumberFormat(_,T)}const I={get id(){return i.value?i.value.id:-1},locale:x,fallbackLocale:L,messages:D,datetimeFormats:Q,numberFormats:ae,get inheritLocale(){return i.value?i.value.inheritLocale:o},set inheritLocale(_){i.value&&(i.value.inheritLocale=_)},get availableLocales(){return i.value?i.value.availableLocales:Object.keys(c.value)},get modifiers(){return i.value?i.value.modifiers:E},get pluralRules(){return i.value?i.value.pluralRules:R},get isGlobal(){return i.value?i.value.isGlobal:!1},get missingWarn(){return i.value?i.value.missingWarn:f},set missingWarn(_){i.value&&(i.value.missingWarn=_)},get fallbackWarn(){return i.value?i.value.fallbackWarn:d},set fallbackWarn(_){i.value&&(i.value.missingWarn=_)},get fallbackRoot(){return i.value?i.value.fallbackRoot:p},set fallbackRoot(_){i.value&&(i.value.fallbackRoot=_)},get fallbackFormat(){return i.value?i.value.fallbackFormat:y},set fallbackFormat(_){i.value&&(i.value.fallbackFormat=_)},get warnHtmlMessage(){return i.value?i.value.warnHtmlMessage:w},set warnHtmlMessage(_){i.value&&(i.value.warnHtmlMessage=_)},get escapeParameter(){return i.value?i.value.escapeParameter:S},set escapeParameter(_){i.value&&(i.value.escapeParameter=_)},t:fe,getPostTranslationHandler:W,setPostTranslationHandler:re,getMissingHandler:ce,setMissingHandler:Se,rt:le,d:Be,n:st,tm:nt,te:Ye,getLocaleMessage:je,setLocaleMessage:Xe,mergeLocaleMessage:J,getDateTimeFormat:oe,setDateTimeFormat:P,mergeDateTimeFormat:$,getNumberFormat:j,setNumberFormat:z,mergeNumberFormat:pe};function g(_){_.locale.value=a.value,_.fallbackLocale.value=u.value,Object.keys(c.value).forEach(T=>{_.mergeLocaleMessage(T,c.value[T])}),Object.keys(h.value).forEach(T=>{_.mergeDateTimeFormat(T,h.value[T])}),Object.keys(l.value).forEach(T=>{_.mergeNumberFormat(T,l.value[T])}),_.escapeParameter=S,_.fallbackFormat=y,_.fallbackRoot=p,_.fallbackWarn=d,_.missingWarn=f,_.warnHtmlMessage=w}return Ay(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw gt(ft.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const _=i.value=t.proxy.$i18n.__composer;e==="global"?(a.value=_.locale.value,u.value=_.fallbackLocale.value,c.value=_.messages.value,h.value=_.datetimeFormats.value,l.value=_.numberFormats.value):s&&g(_)}),I}const u2=["locale","fallbackLocale","availableLocales"],N_=["t","rt","d","n","tm","te"];function c2(t,e){const n=Object.create(null);return u2.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i)throw gt(ft.UNEXPECTED_ERROR);const o=$e(i.value)?{get(){return i.value.value},set(a){i.value.value=a}}:{get(){return i.get&&i.get()}};Object.defineProperty(n,s,o)}),t.config.globalProperties.$i18n=n,N_.forEach(s=>{const i=Object.getOwnPropertyDescriptor(e,s);if(!i||!i.value)throw gt(ft.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${s}`,i)}),()=>{delete t.config.globalProperties.$i18n,N_.forEach(s=>{delete t.config.globalProperties[`$${s}`]})}}BU();__INTLIFY_JIT_COMPILATION__?c_(xU):c_(DU);kU(uU);OU(iE);if(__INTLIFY_PROD_DEVTOOLS__){const t=Kn();t.__INTLIFY__=!0,yU(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}const f2={listen:"Listen to Great Music!",explore:"Explore the world of music. Discover chart-toppers and hidden gems, and even upload your own tracks. Join us today and dive into the musical experience!"},h2={comment_count:"No comments | 1 comment | {count} comments",comment_placeholder:"Your comment here...",submit_btn:"Submit",sort_latest:"Latest",sort_oldest:"Oldest",go_back:"Go Back"},d2={about:"About",manage:"Manage"},p2={account:"Your Account",login:"Login",logout:"Logout",register:"Register"},m2={enter_name:"Enter Your Name",enter_email:"Enter Your Email",enter_age:"Enter Your Age",enter_password:"Enter Your Password",age:"Age",password:"Password",confirm_password:"Confirm Password",country:"Country",country_usa:"USA",country_mexico:"Mexico",country_germany:"Germany",country_antarctica:"Antarctica",user_type:"You are...",user_type_a:"Listener",user_type_b:"Artist",accept:"I accept Music's {0}",tos:"Terms of Service"},g2={my_songs:"My Songs"},_2={drop:"Drop your mp3-files here"},y2={home:f2,song:h2,header:d2,auth:p2,register:m2,manage:g2,upload:_2},v2={listen:"Erlebe großartige Musik!",explore:"Erkunde die Welt der Musik. Entdecke Chart-Hits und versteckte Juwelen und lade sogar deine eigenen Tracks hoch. Schließe dich uns noch heute an und tauche ein in das musikalische Erlebnis!"},b2={comment_count:"Keine Kommentare | 1 Kommentar | {count} Kommentare",comment_placeholder:"Dein Kommentar hier...",submit_btn:"Absenden",sort_latest:"Neueste",sort_oldest:"Älteste",go_back:"Zurück"},w2={about:"Über",manage:"Uploads verwalten"},E2={account:"Dein Account",login:"Einloggen",logout:"Ausloggen",register:"Registrieren"},T2={enter_name:"Gib deinen Namen ein",enter_email:"Gib deine Email ein",enter_age:"Gib dein Alter ein",enter_password:"Gib dein Passwort ein",age:"Alter",password:"Passwort",confirm_password:"Bestätige dein Passwort",country:"Land",country_usa:"Vereinigte Staaten",country_mexico:"Mexiko",country_germany:"Deutschland",country_antarctica:"Antarktis",user_type:"Du bist...",user_type_a:"Hörer*in",user_type_b:"Künstler*in",accept:"Ich akzeptiere {0} von Music",tos:"die Nutzungsbedingungen"},I2={my_songs:"Meine Songs"},A2={drop:"Hier kannst du deine mp3-Dateien ablegen"},S2={home:v2,song:b2,header:w2,auth:E2,register:T2,manage:I2,upload:A2},C2=e2({locale:"en",fallbackLocale:"en",messages:{en:y2,de:S2},numberFormats:{en:{currency:{style:"currency",currency:"USD"}},ja:{currency:{style:"currency",currency:"JPY"}}}});function k2(t={}){const{immediate:e=!1,onNeedRefresh:n,onOfflineReady:r,onRegistered:s,onRegisteredSW:i,onRegisterError:o}=t;let a,u;const c=async(l=!0)=>{await u};async function h(){if("serviceWorker"in navigator){const{Workbox:l}=await ga(()=>import("./workbox-window.prod.es5-a7b12eab.js"),[]);a=new l("/sw.js",{scope:"/",type:"classic"}),a.addEventListener("activated",f=>{(f.isUpdate||f.isExternal)&&window.location.reload()}),a.addEventListener("installed",f=>{f.isUpdate||r==null||r()}),a.register({immediate:e}).then(f=>{i?i("/sw.js",f):s==null||s(f)}).catch(f=>{o==null||o(f)})}}return u=h(),c}const O2={},R2={type:"button"};function N2(t,e){return ct(),Nt("button",R2,"Press Me!")}const P2=Ms(O2,[["render",N2]]),L2=Object.freeze(Object.defineProperty({__proto__:null,default:P2},Symbol.toStringTag,{value:"Module"}));function D2(t,e,n){var r=-1,s=t.length;e<0&&(e=-e>s?0:s+e),n=n>s?s:n,n<0&&(n+=s),s=e>n?0:n-e>>>0,e>>>=0;for(var i=Array(s);++r<s;)i[r]=t[r+e];return i}var x2=D2,M2=x2;function F2(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:M2(t,e,n)}var U2=F2,$2="\\ud800-\\udfff",V2="\\u0300-\\u036f",B2="\\ufe20-\\ufe2f",j2="\\u20d0-\\u20ff",H2=V2+B2+j2,q2="\\ufe0e\\ufe0f",W2="\\u200d",G2=RegExp("["+W2+$2+H2+q2+"]");function K2(t){return G2.test(t)}var SE=K2;function z2(t){return t.split("")}var Y2=z2,CE="\\ud800-\\udfff",X2="\\u0300-\\u036f",Q2="\\ufe20-\\ufe2f",J2="\\u20d0-\\u20ff",Z2=X2+Q2+J2,e$="\\ufe0e\\ufe0f",t$="["+CE+"]",Gf="["+Z2+"]",Kf="\\ud83c[\\udffb-\\udfff]",n$="(?:"+Gf+"|"+Kf+")",kE="[^"+CE+"]",OE="(?:\\ud83c[\\udde6-\\uddff]){2}",RE="[\\ud800-\\udbff][\\udc00-\\udfff]",r$="\\u200d",NE=n$+"?",PE="["+e$+"]?",s$="(?:"+r$+"(?:"+[kE,OE,RE].join("|")+")"+PE+NE+")*",i$=PE+NE+s$,o$="(?:"+[kE+Gf+"?",Gf,OE,RE,t$].join("|")+")",a$=RegExp(Kf+"(?="+Kf+")|"+o$+i$,"g");function l$(t){return t.match(a$)||[]}var u$=l$,c$=Y2,f$=SE,h$=u$;function d$(t){return f$(t)?h$(t):c$(t)}var p$=d$,m$=typeof On=="object"&&On&&On.Object===Object&&On,g$=m$,_$=g$,y$=typeof self=="object"&&self&&self.Object===Object&&self,v$=_$||y$||Function("return this")(),b$=v$,w$=b$,E$=w$.Symbol,lp=E$;function T$(t,e){for(var n=-1,r=t==null?0:t.length,s=Array(r);++n<r;)s[n]=e(t[n],n,t);return s}var I$=T$,A$=Array.isArray,S$=A$,P_=lp,LE=Object.prototype,C$=LE.hasOwnProperty,k$=LE.toString,ji=P_?P_.toStringTag:void 0;function O$(t){var e=C$.call(t,ji),n=t[ji];try{t[ji]=void 0;var r=!0}catch{}var s=k$.call(t);return r&&(e?t[ji]=n:delete t[ji]),s}var R$=O$,N$=Object.prototype,P$=N$.toString;function L$(t){return P$.call(t)}var D$=L$,L_=lp,x$=R$,M$=D$,F$="[object Null]",U$="[object Undefined]",D_=L_?L_.toStringTag:void 0;function $$(t){return t==null?t===void 0?U$:F$:D_&&D_ in Object(t)?x$(t):M$(t)}var V$=$$;function B$(t){return t!=null&&typeof t=="object"}var j$=B$,H$=V$,q$=j$,W$="[object Symbol]";function G$(t){return typeof t=="symbol"||q$(t)&&H$(t)==W$}var K$=G$,x_=lp,z$=I$,Y$=S$,X$=K$,Q$=1/0,M_=x_?x_.prototype:void 0,F_=M_?M_.toString:void 0;function DE(t){if(typeof t=="string")return t;if(Y$(t))return z$(t,DE)+"";if(X$(t))return F_?F_.call(t):"";var e=t+"";return e=="0"&&1/t==-Q$?"-0":e}var J$=DE,Z$=J$;function eV(t){return t==null?"":Z$(t)}var Hu=eV,tV=U2,nV=SE,rV=p$,sV=Hu;function iV(t){return function(e){e=sV(e);var n=nV(e)?rV(e):void 0,r=n?n[0]:e.charAt(0),s=n?tV(n,1).join(""):e.slice(1);return r[t]()+s}}var oV=iV,aV=oV,lV=aV("toUpperCase"),xE=lV;const uV=zd(xE);var cV=Hu,fV=xE;function hV(t){return fV(cV(t).toLowerCase())}var dV=hV;function pV(t,e,n,r){var s=-1,i=t==null?0:t.length;for(r&&i&&(n=t[++s]);++s<i;)n=e(n,t[s],s,t);return n}var mV=pV;function gV(t){return function(e){return t==null?void 0:t[e]}}var _V=gV,yV=_V,vV={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},bV=yV(vV),wV=bV,EV=wV,TV=Hu,IV=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,AV="\\u0300-\\u036f",SV="\\ufe20-\\ufe2f",CV="\\u20d0-\\u20ff",kV=AV+SV+CV,OV="["+kV+"]",RV=RegExp(OV,"g");function NV(t){return t=TV(t),t&&t.replace(IV,EV).replace(RV,"")}var PV=NV,LV=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function DV(t){return t.match(LV)||[]}var xV=DV,MV=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function FV(t){return MV.test(t)}var UV=FV,ME="\\ud800-\\udfff",$V="\\u0300-\\u036f",VV="\\ufe20-\\ufe2f",BV="\\u20d0-\\u20ff",jV=$V+VV+BV,FE="\\u2700-\\u27bf",UE="a-z\\xdf-\\xf6\\xf8-\\xff",HV="\\xac\\xb1\\xd7\\xf7",qV="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",WV="\\u2000-\\u206f",GV=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$E="A-Z\\xc0-\\xd6\\xd8-\\xde",KV="\\ufe0e\\ufe0f",VE=HV+qV+WV+GV,BE="['’]",U_="["+VE+"]",zV="["+jV+"]",jE="\\d+",YV="["+FE+"]",HE="["+UE+"]",qE="[^"+ME+VE+jE+FE+UE+$E+"]",XV="\\ud83c[\\udffb-\\udfff]",QV="(?:"+zV+"|"+XV+")",JV="[^"+ME+"]",WE="(?:\\ud83c[\\udde6-\\uddff]){2}",GE="[\\ud800-\\udbff][\\udc00-\\udfff]",Ws="["+$E+"]",ZV="\\u200d",$_="(?:"+HE+"|"+qE+")",eB="(?:"+Ws+"|"+qE+")",V_="(?:"+BE+"(?:d|ll|m|re|s|t|ve))?",B_="(?:"+BE+"(?:D|LL|M|RE|S|T|VE))?",KE=QV+"?",zE="["+KV+"]?",tB="(?:"+ZV+"(?:"+[JV,WE,GE].join("|")+")"+zE+KE+")*",nB="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",rB="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",sB=zE+KE+tB,iB="(?:"+[YV,WE,GE].join("|")+")"+sB,oB=RegExp([Ws+"?"+HE+"+"+V_+"(?="+[U_,Ws,"$"].join("|")+")",eB+"+"+B_+"(?="+[U_,Ws+$_,"$"].join("|")+")",Ws+"?"+$_+"+"+V_,Ws+"+"+B_,rB,nB,jE,iB].join("|"),"g");function aB(t){return t.match(oB)||[]}var lB=aB,uB=xV,cB=UV,fB=Hu,hB=lB;function dB(t,e,n){return t=fB(t),e=n?void 0:e,e===void 0?cB(t)?hB(t):uB(t):t.match(e)||[]}var pB=dB,mB=mV,gB=PV,_B=pB,yB="['’]",vB=RegExp(yB,"g");function bB(t){return function(e){return mB(_B(gB(e).replace(vB,"")),t,"")}}var wB=bB,EB=dV,TB=wB,IB=TB(function(t,e,n){return e=e.toLowerCase(),t+(n?EB(e):e)}),AB=IB;const SB=zd(AB),CB={install(t){Object.entries(Object.assign({"../components/base/AppButton.vue":L2})).forEach(([n,r])=>{const s=uV(SB(n.split("/").pop().replace(/\.\w+$/,"")));t.component(`Base${s}`,r.default)})}};var YE={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(t,e){(function(n,r){t.exports=r()})(On,function(){var n={};n.version="0.2.0";var r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};n.configure=function(p){var y,v;for(y in p)v=p[y],v!==void 0&&p.hasOwnProperty(y)&&(r[y]=v);return this},n.status=null,n.set=function(p){var y=n.isStarted();p=s(p,r.minimum,1),n.status=p===1?null:p;var v=n.render(!y),m=v.querySelector(r.barSelector),w=r.speed,S=r.easing;return v.offsetWidth,a(function(E){r.positionUsing===""&&(r.positionUsing=n.getPositioningCSS()),u(m,o(p,w,S)),p===1?(u(v,{transition:"none",opacity:1}),v.offsetWidth,setTimeout(function(){u(v,{transition:"all "+w+"ms linear",opacity:0}),setTimeout(function(){n.remove(),E()},w)},w)):setTimeout(E,w)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var p=function(){setTimeout(function(){n.status&&(n.trickle(),p())},r.trickleSpeed)};return r.trickle&&p(),this},n.done=function(p){return!p&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(p){var y=n.status;return y?(typeof p!="number"&&(p=(1-y)*s(Math.random()*y,.1,.95)),y=s(y+p,0,.994),n.set(y)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},function(){var p=0,y=0;n.promise=function(v){return!v||v.state()==="resolved"?this:(y===0&&n.start(),p++,y++,v.always(function(){y--,y===0?(p=0,n.done()):n.set((p-y)/p)}),this)}}(),n.render=function(p){if(n.isRendered())return document.getElementById("nprogress");h(document.documentElement,"nprogress-busy");var y=document.createElement("div");y.id="nprogress",y.innerHTML=r.template;var v=y.querySelector(r.barSelector),m=p?"-100":i(n.status||0),w=document.querySelector(r.parent),S;return u(v,{transition:"all 0 linear",transform:"translate3d("+m+"%,0,0)"}),r.showSpinner||(S=y.querySelector(r.spinnerSelector),S&&d(S)),w!=document.body&&h(w,"nprogress-custom-parent"),w.appendChild(y),y},n.remove=function(){l(document.documentElement,"nprogress-busy"),l(document.querySelector(r.parent),"nprogress-custom-parent");var p=document.getElementById("nprogress");p&&d(p)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var p=document.body.style,y="WebkitTransform"in p?"Webkit":"MozTransform"in p?"Moz":"msTransform"in p?"ms":"OTransform"in p?"O":"";return y+"Perspective"in p?"translate3d":y+"Transform"in p?"translate":"margin"};function s(p,y,v){return p<y?y:p>v?v:p}function i(p){return(-1+p)*100}function o(p,y,v){var m;return r.positionUsing==="translate3d"?m={transform:"translate3d("+i(p)+"%,0,0)"}:r.positionUsing==="translate"?m={transform:"translate("+i(p)+"%,0)"}:m={"margin-left":i(p)+"%"},m.transition="all "+y+"ms "+v,m}var a=function(){var p=[];function y(){var v=p.shift();v&&v(y)}return function(v){p.push(v),p.length==1&&y()}}(),u=function(){var p=["Webkit","O","Moz","ms"],y={};function v(E){return E.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(R,O){return O.toUpperCase()})}function m(E){var R=document.body.style;if(E in R)return E;for(var O=p.length,x=E.charAt(0).toUpperCase()+E.slice(1),L;O--;)if(L=p[O]+x,L in R)return L;return E}function w(E){return E=v(E),y[E]||(y[E]=m(E))}function S(E,R,O){R=w(R),E.style[R]=O}return function(E,R){var O=arguments,x,L;if(O.length==2)for(x in R)L=R[x],L!==void 0&&R.hasOwnProperty(x)&&S(E,x,L);else S(E,O[1],O[2])}}();function c(p,y){var v=typeof p=="string"?p:f(p);return v.indexOf(" "+y+" ")>=0}function h(p,y){var v=f(p),m=v+y;c(v,y)||(p.className=m.substring(1))}function l(p,y){var v=f(p),m;c(p,y)&&(m=v.replace(" "+y+" "," "),p.className=m.substring(1,m.length-1))}function f(p){return(" "+(p.className||"")+" ").replace(/\s+/gi," ")}function d(p){p&&p.parentNode&&p.parentNode.removeChild(p)}return n})})(YE);var kB=YE.exports;const j_=zd(kB),OB=t=>{t.beforeEach((e,n,r)=>{j_.start(),r()}),t.afterEach(j_.done)};k2({immediate:!0});OB(Qd);let qn;lo.onAuthStateChanged(()=>{qn||(qn=AA(ix),qn.use(kA()),qn.use(Qd),qn.use(_F),qn.use(C2),qn.use(CB),qn.directive("icon",yF),qn.mount("#app"))});export{ds as A,mo as B,Kd as C,BB as D,fF as E,UB as F,GB as G,jB as H,LB as I,gh as J,xB as K,Gy as L,ma as M,Ag as N,Eh as O,XB as P,PB as Q,DB as R,Ms as _,Z as a,Ee as b,Nt as c,eo as d,$B as e,VB as f,Wb as g,NB as h,RB as i,yt as j,FB as k,Cy as l,sl as m,Qn as n,ct as o,KB as p,zB as q,Qt as r,YB as s,Pe as t,qB as u,lo as v,tn as w,MB as x,WB as y,HB as z};
